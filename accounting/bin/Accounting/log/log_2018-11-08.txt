Log for Debugging - 11/08/2018
[14:54:26] - ----- Accounting Start -----
[14:54:26] - Main Connection String = Server=server2016;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True
[14:54:26] - FS Connection String = Server=server2016;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True
[14:54:32] - Login Button Click
[14:54:32] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'lucia' AND password = 'be417bb4dd5cfb76c7126f4f8eeb1553a449039307b1a3cd451dbfdc0fbbe330' 
[14:54:32] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2018-11-08 14:54:32',3,'be417bb4dd5cfb76c7126f4f8eeb1553a449039307b1a3cd451dbfdc0fbbe330','DULCEBISMONTE','omniray');
[14:54:32] - SELECT log_id AS id FROM sys_log WHERE log_date = '2018-11-08 14:54:32' AND user_id = 3 AND log_code_3 = 'be417bb4dd5cfb76c7126f4f8eeb1553a449039307b1a3cd451dbfdc0fbbe330' AND machine_name = 'DULCEBISMONTE' AND machine_user = 'omniray';
[14:54:32] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:54:32] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user c ON c.profile_id = b.profile_id WHERE a.system_id = 2 AND c.username = 'lucia' 
[14:54:32] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[14:54:34] - select * from lib_erp_journal
[14:54:34] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:54:34] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[14:54:36] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:54:36] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:54:36] - End of Initialization
[14:54:45] - SELECT * FROM lib_erp_book WHERE company_id = '1'
[14:54:54] - SELECT * FROM lib_erp_book WHERE company_id = '1'
[14:54:55] - SELECT * FROM lib_erp_currency
[14:54:56] - SELECT trans_id FROM trans_header WHERE currency_id = 1 AND book_id = 11 AND trans_date = '2017-12-31' AND journal_id = 8
[14:54:56] - SELECT a.book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,a.debit,a.credit,a.debit_based,a.credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,f.book_unit_no_name,f.book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_fs_ngg.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id WHERE a.trans_id = 30 AND b.validation <> 3 AND b.validation <> 2 UNION SELECT a.book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,f.book_unit_no_name,f.book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_fs_ngg.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id WHERE a.trans_id = 30 AND b.validation = 3 GROUP BY a.account_id,a.project_id,a.department_id UNION SELECT a.book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,f.book_unit_no_name,f.book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_fs_ngg.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id WHERE a.trans_id = 30 AND b.validation = 2 GROUP BY a.account_id,a.project_id,a.department_id,a.book_unit_no_id ORDER BY account_code ASC 
[14:54:56] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:54:56] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:54:56] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:54:56] - SELECT * FROM lib_erp_currency_rate WHERE currency_id = 1 AND effectivitydate <= '2017-12-31' ORDER BY effectivitydate DESC LIMIT 1
[14:54:56] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:54:56] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:56:29] - SELECT * FROM lib_erp_chart WHERE account_id = 4
[14:56:32] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[14:57:33] - SELECT * FROM lib_erp_chart WHERE account_id = 4
[14:57:33] - SELECT * FROM lib_erp_chart WHERE account_id = 5
[14:57:34] - SELECT * FROM lib_erp_chart WHERE account_id = 6
[14:57:34] - SELECT * FROM lib_erp_chart WHERE account_id = 7
[15:03:15] - SELECT * FROM lib_erp_chart WHERE account_id = 3
[15:04:48] - SELECT based_rate 
                FROM lib_erp_currency_rate WHERE currency_id = '1' 
                ORDER BY currency_rate_id
                LIMIT 1
[15:05:53] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[15:05:58] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[15:05:58] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:06:28] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:06:32] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[15:06:32] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:06:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1891 
[15:06:32] - SELECT * FROM select_ewt WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_final_tax WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_input_vat WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_output_vat WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_prepaid WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 1891
[15:06:32] - SELECT * FROM select_checks WHERE trans_id = 1891
[15:06:32] - SELECT * FROM trans_header_particular WHERE trans_id = 1891
[15:07:14] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[15:07:24] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[15:07:24] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:09:17] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:09:22] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[15:09:23] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:09:23] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1891 
[15:09:23] - SELECT * FROM select_ewt WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_final_tax WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_input_vat WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_output_vat WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_prepaid WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_fixed_asset WHERE trans_id = 1891
[15:09:23] - SELECT * FROM select_checks WHERE trans_id = 1891
[15:09:23] - SELECT * FROM trans_header_particular WHERE trans_id = 1891
[15:09:45] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 441 
[15:09:45] - SELECT * FROM select_ewt WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_final_tax WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_input_vat WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_output_vat WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_prepaid WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_fixed_asset WHERE trans_id = 441
[15:09:46] - SELECT * FROM select_checks WHERE trans_id = 441
[15:09:46] - SELECT * FROM trans_header_particular WHERE trans_id = 441
[15:09:52] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:09:53] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:10:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:10:30] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 441 
[15:10:30] - SELECT * FROM select_ewt WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_final_tax WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_input_vat WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_output_vat WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_prepaid WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_fixed_asset WHERE trans_id = 441
[15:10:30] - SELECT * FROM select_checks WHERE trans_id = 441
[15:10:30] - SELECT * FROM trans_header_particular WHERE trans_id = 441
[15:11:16] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:11:54] - SELECT * FROM lib_erp_chart
[15:12:12] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[15:12:12] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 441 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id WHERE a.account_id = 46 AND c.trans_date <= '2018-1-31' AND a.trans_id <> 441 AND a.general_id = 1062 AND a.currency_id = 1 AND a.project_id  = 9 AND a.department_id  = 8 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[15:12:47] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2018-01-31' BETWEEN date_from AND date_to
[15:12:47] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '99909' AND trans_id <> '441' AND journal_id = '2'
[15:13:42] - SELECT * FROM lib_erp_chart
[15:13:48] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 441 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id WHERE a.account_id = 46 AND c.trans_date <= '2018-1-31' AND a.trans_id <> 441 AND a.general_id = 1062 AND a.currency_id = 1 AND a.project_id  = 9 AND a.department_id  = 8 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[15:14:08] - SELECT * FROM lib_erp_chart
[15:14:12] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 441 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id WHERE a.account_id = 46 AND c.trans_date <= '2018-1-31' AND a.trans_id <> 441 AND a.general_id = 1062 AND a.currency_id = 1 AND a.project_id  = 9 AND a.department_id  = 8 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[15:19:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:19:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 441 
[15:19:15] - SELECT * FROM select_ewt WHERE trans_id = 441
[15:19:15] - SELECT * FROM select_final_tax WHERE trans_id = 441
[15:19:15] - SELECT * FROM select_input_vat WHERE trans_id = 441
[15:19:16] - SELECT * FROM select_output_vat WHERE trans_id = 441
[15:19:16] - SELECT * FROM select_prepaid WHERE trans_id = 441
[15:19:16] - SELECT * FROM select_fixed_asset WHERE trans_id = 441
[15:19:16] - SELECT * FROM select_checks WHERE trans_id = 441
[15:19:16] - SELECT * FROM trans_header_particular WHERE trans_id = 441
[15:19:45] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:19:45] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:19:45] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:19:46] - SELECT * FROM select_checks WHERE trans_id = 442
[15:19:46] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:21:56] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:22:08] - SELECT * FROM lib_erp_chart
[15:22:08] - SELECT * FROM lib_erp_project
[15:22:09] - SELECT * FROM lib_erp_department
[15:22:09] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1003'
[15:22:09] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = '2849'
[15:24:10] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:24:11] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:24:11] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:24:11] - SELECT * FROM select_checks WHERE trans_id = 442
[15:24:11] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:24:53] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:24:57] - SELECT * FROM lib_erp_chart
[15:24:58] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1003'
[15:24:58] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = '2849'
[15:26:42] - SELECT * FROM lib_erp_chart
[15:26:43] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1003'
[15:26:43] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = '2849'
[15:27:19] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:27:19] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:27:19] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:27:20] - SELECT * FROM select_checks WHERE trans_id = 442
[15:27:20] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:29:59] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:29:59] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:30:09] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:30:10] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:30:10] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:30:10] - SELECT * FROM select_checks WHERE trans_id = 442
[15:30:10] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:30:12] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:30:12] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:30:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:30:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:30:15] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:30:15] - SELECT * FROM select_checks WHERE trans_id = 442
[15:30:15] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:30:24] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:30:24] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:31:13] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:31:14] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:31:14] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:31:14] - SELECT * FROM select_checks WHERE trans_id = 442
[15:31:14] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:33:02] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:33:08] - SELECT * FROM lib_erp_chart
[15:33:15] - SELECT * FROM lib_erp_department
[15:33:18] - SELECT * FROM lib_erp_project
[15:33:19] - SELECT * FROM lib_erp_department
[15:33:33] - SELECT * FROM lib_erp_department
[15:36:24] - SELECT * FROM lib_erp_department
[15:36:27] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:36:28] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 442 
[15:36:28] - SELECT * FROM select_ewt WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_final_tax WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_input_vat WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_output_vat WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_prepaid WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_fixed_asset WHERE trans_id = 442
[15:36:28] - SELECT * FROM select_checks WHERE trans_id = 442
[15:36:28] - SELECT * FROM trans_header_particular WHERE trans_id = 442
[15:36:35] - SELECT a.trans_id,a.trans_no,a.trans_date 
FROM trans_header a 
LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id 
WHERE a.journal_id = '2' AND b.company_id = '1' 
ORDER BY a.trans_date DESC,a.trans_no DESC 

[15:36:35] - SELECT a.trans_id,a.trans_no,a.trans_date 
FROM trans_header a 
LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id 
WHERE a.journal_id = '2' AND b.company_id = '1' 
ORDER BY a.trans_date DESC,a.trans_no DESC 

[15:36:35] - SELECT 'Receipts Voucher' AS name,'' AS code,1 AS id UNION SELECT 'Receipts Voucher List','',2 
[15:36:43] - ExecuteWithParameter : get_lib_acc_voucher_template
[15:36:43] - parameters : 'ACC00201'
[15:36:43] - SELECT a.company_id,b.company_name,b.address1 AS address,b.tel_no,b.fax_no,b.tin FROM sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id 
[15:36:43] - SELECT a.trans_id,a.trans_no,a.trans_date,b.currency_name,b.currency_code,b.symbol,a.amount,a.amount_based,a.exchange_rate,a.based_rate,a.description,a.general_id,c.general_code,c.general_name,c.address1 AS address,c.attention,IF(a.status = 'A','Approved',(IF(a.status = 'C','Cancelled',''))) AS status ,d.si_no FROM trans_header a LEFT JOIN erp_fs_ngg.lib_erp_currency b ON b.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON c.general_id = a.general_id LEFT JOIN erp_accounting_ngg.trans_header_cr d ON d.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book e ON e.book_id = a.book_id WHERE a.journal_id = '2' AND e.company_id = '1' AND a.trans_id BETWEEN '442' AND '442' 
[15:36:43] - SELECT a.trans_id,a.jbooks_id,b.account_code,b.account_name,a.debit,a.credit,a.debit_based,a.credit_based,c.general_code,i.trans_no AS ref_ref_no,f.project_code,f.project_name ,g.department_code,g.department_name,h.allocation_code,a.line_remarks ,concat(j.check_no,' - ', date_format(j.check_date,'%m/%d/%Y')) as check_no,k.bank_name FROM trans_jbooks a LEFT JOIN erp_fs_ngg.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON c.general_id = a.general_id LEFT JOIN erp_accounting_ngg.trans_jbooks d ON d.jbooks_id = a.ref_jbooks_id LEFT JOIN erp_accounting_ngg.trans_header i ON i.trans_id = d.trans_id LEFT JOIN erp_accounting_ngg.trans_header e ON e.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project f ON f.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department g ON g.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation h ON h.allocation_id = a.allocation_id LEFT JOIN erp_accounting_ngg.trans_checks j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_bank k ON k.bank_id = j.bank_id WHERE e.journal_id = '2' order by (IF(a.debit > a.credit,0,1)) ASC,b.account_code ,IF(a.debit <> 0,1,2),b.account_code 
[15:36:44] - SELECT a.trans_particular_id,a.trans_id ,a.trans_particular_code,a.trans_particular_name,a.trans_particular_amount FROM trans_header_particular a 
[15:36:44] - SELECT a.user_signatory_id,a.user_id,a.label1,a.user_id1 ,a.position1,a.label2,a.user_id2,a.position2,a.label3,a.user_id3,a.position3 ,a.label4,a.user_id4,a.position4,a.label5,a.user_id5,a.position5 ,b.username,b.user_fullname ,c.username AS username1,c.user_fullname AS user_fullname1 ,d.username AS username2,d.user_fullname AS user_fullname2 ,e.username AS username3,e.user_fullname AS user_fullname3 ,f.username AS username4,f.user_fullname AS user_fullname4 ,g.username AS username5,g.user_fullname AS user_fullname5 ,h.module_code,h.module_name FROM sys_erp_user_signatory a LEFT JOIN sys_erp_user b ON b.user_id = a.user_id LEFT JOIN sys_erp_user c ON c.user_id = a.user_id1 LEFT JOIN sys_erp_user d ON d.user_id = a.user_id2 LEFT JOIN sys_erp_user e ON e.user_id = a.user_id3 LEFT JOIN sys_erp_user f ON f.user_id = a.user_id4 LEFT JOIN sys_erp_user g ON g.user_id = a.user_id5 LEFT JOIN sys_erp_modules h ON h.module_id = a.module_id WHERE a.user_id = '3' AND h.module_code = 'ACC00201' 
[15:37:33] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 193 
[15:37:33] - SELECT * FROM select_ewt WHERE trans_id = 193
[15:37:33] - SELECT * FROM select_final_tax WHERE trans_id = 193
[15:37:33] - SELECT * FROM select_input_vat WHERE trans_id = 193
[15:37:33] - SELECT * FROM select_output_vat WHERE trans_id = 193
[15:37:33] - SELECT * FROM select_prepaid WHERE trans_id = 193
[15:37:33] - SELECT * FROM select_fixed_asset WHERE trans_id = 193
[15:37:34] - SELECT * FROM select_checks WHERE trans_id = 193
[15:37:34] - SELECT * FROM trans_header_particular WHERE trans_id = 193
[15:37:44] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[15:37:50] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[15:37:50] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:37:50] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 23 
[15:37:50] - SELECT * FROM select_ewt WHERE trans_id = 23
[15:37:50] - SELECT * FROM select_final_tax WHERE trans_id = 23
[15:37:50] - SELECT * FROM select_input_vat WHERE trans_id = 23
[15:37:50] - SELECT * FROM select_output_vat WHERE trans_id = 23
[15:37:50] - SELECT * FROM select_prepaid WHERE trans_id = 23
[15:37:50] - SELECT * FROM select_fixed_asset WHERE trans_id = 23
[15:37:51] - SELECT * FROM select_checks WHERE trans_id = 23
[15:37:51] - SELECT * FROM trans_header_particular WHERE trans_id = 23
[15:42:26] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1555 
[15:42:26] - SELECT * FROM select_ewt WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_final_tax WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_input_vat WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_output_vat WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_prepaid WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_fixed_asset WHERE trans_id = 1555
[15:42:26] - SELECT * FROM select_checks WHERE trans_id = 1555
[15:42:26] - SELECT * FROM trans_header_particular WHERE trans_id = 1555
[15:42:35] - SELECT * FROM lib_erp_chart
[15:43:00] - SELECT * FROM lib_erp_chart
[15:43:23] - SELECT * FROM lib_erp_chart
[15:43:44] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:43:45] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1555 
[15:43:45] - SELECT * FROM select_ewt WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_final_tax WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_input_vat WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_output_vat WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_prepaid WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_fixed_asset WHERE trans_id = 1555
[15:43:45] - SELECT * FROM select_checks WHERE trans_id = 1555
[15:43:45] - SELECT * FROM trans_header_particular WHERE trans_id = 1555
[15:46:05] - CALL cancelTransaction('1555','724')
[15:46:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:46:30] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1533 
[15:46:30] - SELECT * FROM select_ewt WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_final_tax WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_input_vat WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_output_vat WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_prepaid WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_fixed_asset WHERE trans_id = 1533
[15:46:30] - SELECT * FROM select_checks WHERE trans_id = 1533
[15:46:30] - SELECT * FROM trans_header_particular WHERE trans_id = 1533
[15:46:52] - SELECT account_id,account_code,account_name FROM lib_erp_chart WHERE IFNULL(validation,0) = 1;
[15:47:07] - ExecuteWithParameter : get_trans_apcv
[15:47:07] - parameters : 'erp_accounting_ngg','erp_fs_ngg','1533'
[15:47:08] - ExecuteWithParameter : get_trans_apcv_det
[15:47:08] - parameters : 'erp_accounting_ngg','erp_fs_ngg','1533'
[15:47:08] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1007'
[15:47:17] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[15:47:28] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = '1111' AND bank_id = '58' AND check_id <> '' 
[15:48:56] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[15:49:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[15:49:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:49:02] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[15:49:02] - SELECT * FROM select_ewt WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_final_tax WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_input_vat WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_output_vat WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_prepaid WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[15:49:02] - SELECT * FROM select_checks WHERE trans_id = 537
[15:49:02] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[15:52:27] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:52:28] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 3
[15:52:37] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[15:52:42] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:52:56] - SELECT * FROM lib_erp_chart
[15:53:08] - SELECT * FROM lib_erp_chart
[15:53:09] - SELECT * FROM lib_erp_project
[15:53:13] - SELECT * FROM lib_erp_department
[15:53:28] - SELECT * FROM lib_erp_chart
[15:53:39] - SELECT * FROM lib_erp_chart
[15:53:39] - SELECT * FROM lib_erp_project
[15:53:43] - SELECT * FROM lib_erp_department
[15:53:57] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '3' AND '2018-01-08' BETWEEN date_from AND date_to
[15:53:57] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '1' AND trans_id <> '' AND journal_id = '3'
[15:53:57] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|1|2018-01-08|11|3|52|1|1.0000000000|1.0000000000|10000|10000|comm|','trans_id','','DULCEBISMONTE','omniray','724');
[15:53:57] - CALL submitapproval('ACC00301',2278,3);
[15:53:57] - CALL SaveTransaction('Insert','trans_header_ap','trans_ap_id,trans_id,si_no,rr_no,po_no,due_date,terms_id,nodays','|2278||||2018-11-08||0|','trans_ap_id','','DULCEBISMONTE','omniray','724');
[15:53:57] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2278|1|8|||394||10000|0|1|1.0000000000|1.0000000000|10000|0|||','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:53:57] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2278|1|8|||189||0|10000|1|1.0000000000|1.0000000000|0|10000|52||','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:53:57] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(2278,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(189,2)  AND  ROUND(credit,2) = ROUND(10000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(credit_based,2) = ROUND(10000,2)  AND  ROUND(general_id,2) = ROUND(52,2) 
[15:53:57] - CALL SaveTransaction('Insert','trans_jbooks_ap','jbooks_ap_id,jbooks_id,nodays,terms_id','|11688|0||','jbooks_ap_id','','DULCEBISMONTE','omniray','724');
[15:53:57] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:53:58] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2278 
[15:53:58] - SELECT * FROM select_ewt WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_final_tax WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_input_vat WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_output_vat WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_prepaid WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_fixed_asset WHERE trans_id = 2278
[15:53:58] - SELECT * FROM select_checks WHERE trans_id = 2278
[15:53:58] - SELECT * FROM trans_header_particular WHERE trans_id = 2278
[15:54:09] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:15] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[15:54:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:54:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[15:54:15] - SELECT * FROM select_ewt WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_final_tax WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_input_vat WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_output_vat WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_prepaid WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[15:54:15] - SELECT * FROM select_checks WHERE trans_id = 537
[15:54:15] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[15:54:20] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:20] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[15:54:29] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[15:54:33] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:38] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.debit,(a.credit - IF(j.debit IS NULL,0,j.debit)) AS tmp_amount,0 AS debit ,a.debit_based,0 AS debit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ap_id AS jbooks_terms_id,IFNULL(k.nodays,0) AS nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.rr_no,n.rr_no) AS rr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,c.description 
FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT ref_jbooks_id AS jbooks_id,SUM(debit) AS debit FROM trans_jbooks GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ap k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ap n ON n.trans_id = c.trans_id WHERE c.trans_date <= '2018-01-08' AND IF('1' <> '',a.currency_id = '1',true) AND a.ref_jbooks_id IS NULL AND (a.credit - IF(j.debit IS NULL,0,j.debit)) <> 0 
                AND g.validation = 3 
[15:55:15] - SELECT * FROM lib_erp_chart WHERE IFNULL(validation,0) = '1'
[15:55:36] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1009'
[15:55:36] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = ''
[15:55:36] - SELECT trans_no FROM trans_header WHERE trans_id = ''
[15:55:43] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[15:55:48] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = '1' AND bank_id = '60' AND check_id <> '' 
[15:56:14] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2018-01-08' BETWEEN date_from AND date_to
[15:56:14] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '1' AND trans_id <> '' AND journal_id = '4'
[15:56:14] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|1|2018-01-08|11|4|52|1|1.0000000000|1.0000000000|5000|5000|
comm|','trans_id','','DULCEBISMONTE','omniray','724');
[15:56:14] - CALL submitapproval('ACC00401',2279,3);
[15:56:14] - CALL SaveTransaction('Insert','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','|2279|||','trans_cv_id','','DULCEBISMONTE','omniray','724');
[15:56:14] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2279|||||9||0|5000|1|1.0000000000|1.0000000000|0|5000|||','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:56:15] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2279|1|8|||189||5000.00|0|1|1.0000000000|1.0000000000|5000.00|0|52|11688|','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:56:15] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(2279,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(189,2)  AND  ROUND(debit,2) = ROUND(5000.00,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(5000.00,2)  AND  ROUND(general_id,2) = ROUND(52,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(11688,2) 
[15:56:15] - CALL SaveTransaction('Insert','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','|11689|52|1|2018-01-08|5000.00|0|60|0|0|0|0|0||2018-01-08|2018-01-08|0|1|1.0000000000|1.0000000000|','check_id','','DULCEBISMONTE','omniray','724');
[15:56:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:56:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2279 
[15:56:15] - SELECT * FROM select_ewt WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_final_tax WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_input_vat WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_output_vat WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_prepaid WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 2279
[15:56:15] - SELECT * FROM select_checks WHERE trans_id = 2279
[15:56:15] - SELECT * FROM trans_header_particular WHERE trans_id = 2279
[15:56:59] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[15:57:07] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[15:57:07] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:57:07] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[15:57:07] - SELECT * FROM select_ewt WHERE trans_id = 537
[15:57:07] - SELECT * FROM select_final_tax WHERE trans_id = 537
[15:57:07] - SELECT * FROM select_input_vat WHERE trans_id = 537
[15:57:08] - SELECT * FROM select_output_vat WHERE trans_id = 537
[15:57:08] - SELECT * FROM select_prepaid WHERE trans_id = 537
[15:57:08] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[15:57:08] - SELECT * FROM select_checks WHERE trans_id = 537
[15:57:08] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[15:57:12] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:57:12] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[15:57:22] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[15:57:51] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:57:52] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[15:58:21] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:58:22] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[15:58:28] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:58:32] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.debit,(a.credit - IF(j.debit IS NULL,0,j.debit)) AS tmp_amount,0 AS debit ,a.debit_based,0 AS debit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ap_id AS jbooks_terms_id,IFNULL(k.nodays,0) AS nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.rr_no,n.rr_no) AS rr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,c.description 
FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT ref_jbooks_id AS jbooks_id,SUM(debit) AS debit FROM trans_jbooks GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ap k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ap n ON n.trans_id = c.trans_id WHERE c.trans_date <= '2018-01-08' AND IF('1' <> '',a.currency_id = '1',true) AND a.ref_jbooks_id IS NULL AND (a.credit - IF(j.debit IS NULL,0,j.debit)) <> 0 
                AND g.validation = 3 
[15:59:02] - SELECT * FROM lib_erp_chart WHERE IFNULL(validation,0) = '1'
[15:59:14] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1009'
[15:59:14] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = ''
[15:59:14] - SELECT trans_no FROM trans_header WHERE trans_id = ''
[15:59:19] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[15:59:23] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = '2' AND bank_id = '60' AND check_id <> '' 
[15:59:33] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2018-01-08' BETWEEN date_from AND date_to
[15:59:33] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '2' AND trans_id <> '' AND journal_id = '4'
[15:59:33] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|2|2018-01-08|11|4|52|1|1.0000000000|1.0000000000|5000|5000|
comm|','trans_id','','DULCEBISMONTE','omniray','724');
[15:59:33] - CALL submitapproval('ACC00401',2280,3);
[15:59:34] - CALL SaveTransaction('Insert','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','|2280|||','trans_cv_id','','DULCEBISMONTE','omniray','724');
[15:59:34] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2280|||||9||0|5000|1|1.0000000000|1.0000000000|0|5000|||','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:59:34] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2280|1|8|||189||5000.0000000000|0|1|1.0000000000|1.0000000000|5000.0000000000|0|52|11688|','jbooks_id','','DULCEBISMONTE','omniray','724');
[15:59:34] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(2280,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(189,2)  AND  ROUND(debit,2) = ROUND(5000.0000000000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(5000.0000000000,2)  AND  ROUND(general_id,2) = ROUND(52,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(11688,2) 
[15:59:34] - CALL SaveTransaction('Insert','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','|11691|52|2|2018-01-08|5000.00|0|60|0|0|0|0|0||2018-01-08|2018-01-08|0|1|1.0000000000|1.0000000000|','check_id','','DULCEBISMONTE','omniray','724');
[15:59:34] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:59:34] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[15:59:34] - SELECT * FROM select_ewt WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[15:59:34] - SELECT * FROM select_checks WHERE trans_id = 2280
[15:59:34] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:00:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:00:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 998 
[16:00:15] - SELECT * FROM select_ewt WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_final_tax WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_input_vat WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_output_vat WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_prepaid WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 998
[16:00:15] - SELECT * FROM select_checks WHERE trans_id = 998
[16:00:15] - SELECT * FROM trans_header_particular WHERE trans_id = 998
[16:00:27] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:00:31] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:00:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:00:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[16:00:32] - SELECT * FROM select_ewt WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_final_tax WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_input_vat WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_output_vat WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_prepaid WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[16:00:32] - SELECT * FROM select_checks WHERE trans_id = 537
[16:00:32] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[16:00:49] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:00:49] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1079 
[16:00:49] - SELECT * FROM select_ewt WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_final_tax WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_input_vat WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_output_vat WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_prepaid WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_fixed_asset WHERE trans_id = 1079
[16:00:49] - SELECT * FROM select_checks WHERE trans_id = 1079
[16:00:49] - SELECT * FROM trans_header_particular WHERE trans_id = 1079
[16:01:00] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:01:00] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:01:12] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:01:37] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2018-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:03:06] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:03:06] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1079 
[16:03:06] - SELECT * FROM select_ewt WHERE trans_id = 1079
[16:03:06] - SELECT * FROM select_final_tax WHERE trans_id = 1079
[16:03:06] - SELECT * FROM select_input_vat WHERE trans_id = 1079
[16:03:06] - SELECT * FROM select_output_vat WHERE trans_id = 1079
[16:03:07] - SELECT * FROM select_prepaid WHERE trans_id = 1079
[16:03:07] - SELECT * FROM select_fixed_asset WHERE trans_id = 1079
[16:03:07] - SELECT * FROM select_checks WHERE trans_id = 1079
[16:03:07] - SELECT * FROM trans_header_particular WHERE trans_id = 1079
[16:05:19] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:05:24] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:05:25] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:05:25] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[16:05:25] - SELECT * FROM select_ewt WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_final_tax WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_input_vat WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_output_vat WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_prepaid WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[16:05:25] - SELECT * FROM select_checks WHERE trans_id = 537
[16:05:25] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[16:05:32] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:05:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1079 
[16:05:32] - SELECT * FROM select_ewt WHERE trans_id = 1079
[16:05:32] - SELECT * FROM select_final_tax WHERE trans_id = 1079
[16:05:32] - SELECT * FROM select_input_vat WHERE trans_id = 1079
[16:05:32] - SELECT * FROM select_output_vat WHERE trans_id = 1079
[16:05:32] - SELECT * FROM select_prepaid WHERE trans_id = 1079
[16:05:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 1079
[16:05:33] - SELECT * FROM select_checks WHERE trans_id = 1079
[16:05:33] - SELECT * FROM trans_header_particular WHERE trans_id = 1079
[16:06:47] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[16:06:56] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:07:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:07:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:07:01] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 537 
[16:07:01] - SELECT * FROM select_ewt WHERE trans_id = 537
[16:07:01] - SELECT * FROM select_final_tax WHERE trans_id = 537
[16:07:01] - SELECT * FROM select_input_vat WHERE trans_id = 537
[16:07:01] - SELECT * FROM select_output_vat WHERE trans_id = 537
[16:07:01] - SELECT * FROM select_prepaid WHERE trans_id = 537
[16:07:02] - SELECT * FROM select_fixed_asset WHERE trans_id = 537
[16:07:02] - SELECT * FROM select_checks WHERE trans_id = 537
[16:07:02] - SELECT * FROM trans_header_particular WHERE trans_id = 537
[16:07:56] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:07:56] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1019 
[16:07:56] - SELECT * FROM select_ewt WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_final_tax WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_input_vat WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_output_vat WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_prepaid WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_fixed_asset WHERE trans_id = 1019
[16:07:56] - SELECT * FROM select_checks WHERE trans_id = 1019
[16:07:56] - SELECT * FROM trans_header_particular WHERE trans_id = 1019
[16:08:41] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:08:41] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2279 
[16:08:41] - SELECT * FROM select_ewt WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_final_tax WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_input_vat WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_output_vat WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_prepaid WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_fixed_asset WHERE trans_id = 2279
[16:08:41] - SELECT * FROM select_checks WHERE trans_id = 2279
[16:08:41] - SELECT * FROM trans_header_particular WHERE trans_id = 2279
[16:09:12] - CALL cancelTransaction('2279','724')
[16:09:12] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:09:12] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2279 
[16:09:13] - SELECT * FROM select_ewt WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_final_tax WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_input_vat WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_output_vat WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_prepaid WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_fixed_asset WHERE trans_id = 2279
[16:09:13] - SELECT * FROM select_checks WHERE trans_id = 2279
[16:09:13] - SELECT * FROM trans_header_particular WHERE trans_id = 2279
[16:10:02] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:10:02] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[16:10:02] - SELECT * FROM select_ewt WHERE trans_id = 2280
[16:10:02] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[16:10:02] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[16:10:03] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[16:10:03] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[16:10:03] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[16:10:03] - SELECT * FROM select_checks WHERE trans_id = 2280
[16:10:03] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:10:52] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2018-01-08' BETWEEN date_from AND date_to
[16:10:52] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '2' AND trans_id <> '2280' AND journal_id = '4'
[16:10:52] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','2280|2|2018-01-08|11|4|52|1|1.0000000000|1.0000000000|5000.0000000000|5000.0000000000|
comm|','trans_id','2280','DULCEBISMONTE','omniray','724');
[16:10:52] - CALL SaveTransaction('Update','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','887|2280|||','trans_cv_id','887','DULCEBISMONTE','omniray','724');
[16:10:52] - CALL SaveTransaction('Remove','trans_jbooks','','11691|','jbooks_id','11691|','DULCEBISMONTE','omniray','724');
[16:10:52] - CALL SaveTransaction('Remove','trans_jbooks','','11692|','jbooks_id','11692|','DULCEBISMONTE','omniray','724');
[16:10:52] - CALL SaveTransaction('Update','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','3773|11691|52|2|2018-01-08|5000.0000000000|0.0000000000|60|0|0|0|0|0||2018-01-08|2018-01-08|0|1|1.0000000000|1.0000000000|','check_id','3773','DULCEBISMONTE','omniray','724');
[16:10:52] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:10:52] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[16:10:52] - SELECT * FROM select_ewt WHERE trans_id = 2280
[16:10:52] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[16:10:52] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[16:10:52] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[16:10:52] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[16:10:53] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[16:10:53] - SELECT * FROM select_checks WHERE trans_id = 2280
[16:10:53] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:12:38] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:12:38] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2279 
[16:12:39] - SELECT * FROM select_ewt WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_final_tax WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_input_vat WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_output_vat WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_prepaid WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_fixed_asset WHERE trans_id = 2279
[16:12:39] - SELECT * FROM select_checks WHERE trans_id = 2279
[16:12:39] - SELECT * FROM trans_header_particular WHERE trans_id = 2279
[16:13:17] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:13:17] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[16:13:17] - SELECT * FROM select_ewt WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[16:13:17] - SELECT * FROM select_checks WHERE trans_id = 2280
[16:13:17] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:13:45] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:13:46] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:13:46] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:13:46] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:13:46] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:14:32] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:14:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:14:32] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:14:33] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:14:33] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:14:48] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1007'
[16:14:48] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = 5360
[16:15:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:15:01] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:15:01] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:15:01] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:15:01] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:15:01] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:15:01] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:15:01] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:15:02] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:15:02] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:15:06] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1007'
[16:15:06] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = 5360
[16:15:12] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:15:12] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:15:12] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:15:12] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:15:12] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:19:41] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:19:41] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:19:42] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:19:42] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:19:42] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:22:28] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:22:28] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1034 
[16:22:29] - SELECT * FROM select_ewt WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_final_tax WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_input_vat WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_output_vat WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_prepaid WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_fixed_asset WHERE trans_id = 1034
[16:22:29] - SELECT * FROM select_checks WHERE trans_id = 1034
[16:22:29] - SELECT * FROM trans_header_particular WHERE trans_id = 1034
[16:25:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:25:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[16:25:31] - SELECT * FROM select_ewt WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[16:25:31] - SELECT * FROM select_checks WHERE trans_id = 2280
[16:25:31] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:25:36] - CALL cancelTransaction('2280','724')
[16:25:36] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:25:36] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2280 
[16:25:37] - SELECT * FROM select_ewt WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_final_tax WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_input_vat WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_output_vat WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_prepaid WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_fixed_asset WHERE trans_id = 2280
[16:25:37] - SELECT * FROM select_checks WHERE trans_id = 2280
[16:25:37] - SELECT * FROM trans_header_particular WHERE trans_id = 2280
[16:26:03] - SELECT a.* FROM select_checks a WHERE a.isCash <> '1' AND a.journal_id = '4' AND a.cancelled <> '1' AND IF(a.isPDC,a.released,true)  AND a.check_date BETWEEN '2018-01-11' AND '2018-11-30' 
[16:27:27] - SELECT a.* FROM select_checks a WHERE a.isCash <> '1' AND a.journal_id = '4' AND a.cancelled <> '1' AND (a.funded = '1' OR a.isPDC)  AND a.check_date BETWEEN '2018-01-11' AND '2018-11-30' 
[16:28:54] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank
[16:29:01] - SELECT a.* FROM select_checks a WHERE a.isCash <> '1' AND a.journal_id = '4' AND a.cancelled <> '1' AND (a.funded = '1' OR a.isPDC)  AND a.bank_id = '1'  AND a.check_date BETWEEN '2018-01-11' AND '2018-11-30' 
[16:29:05] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank
[16:29:08] - SELECT a.* FROM select_checks a WHERE a.isCash <> '1' AND a.journal_id = '4' AND a.cancelled <> '1' AND (a.funded = '1' OR a.isPDC)  AND a.bank_id = '1'  AND a.check_date BETWEEN '2018-01-01' AND '2018-11-30' 
[16:29:16] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank
[16:29:30] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '5' AND b.company_id = '1' ORDER BY b.book_code 
[16:29:33] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00501'
[16:29:33] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '5' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:29:34] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 110 
[16:29:34] - SELECT * FROM select_ewt WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_final_tax WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_input_vat WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_output_vat WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_prepaid WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_fixed_asset WHERE trans_id = 110
[16:29:34] - SELECT * FROM select_checks WHERE trans_id = 110
[16:29:34] - SELECT * FROM trans_header_particular WHERE trans_id = 110
[16:31:51] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[16:31:56] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[16:31:56] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:31:57] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1891 
[16:31:57] - SELECT * FROM select_ewt WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_final_tax WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_input_vat WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_output_vat WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_prepaid WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_fixed_asset WHERE trans_id = 1891
[16:31:57] - SELECT * FROM select_checks WHERE trans_id = 1891
[16:31:57] - SELECT * FROM trans_header_particular WHERE trans_id = 1891
[16:32:44] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '7' AND b.company_id = '1' ORDER BY b.book_code 
[16:32:48] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00701'
[16:32:48] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '7' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[16:33:29] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:29] - select month(trans_date) as month, monthname(trans_date) as month_name, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and year(d.trans_date)='2017'  group by month(trans_date)  order by trans_date
[16:33:29] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:29] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:29] - select a.account_code, a.account_name  ,if(a.validation = 1, a.debit - a.credit  ,if(a.validation = 2, a.debit - a.credit  ,if(a.validation = 3, a.credit - a.debit  ,if(a.validation = 4, a.credit - a.debit  ,if(a.validation = 5, a.credit - a.debit  ,if(a.validation = 6, a.debit - a.credit  ,if(a.validation = 7, a.credit - a.debit  ,if(a.validation = 8, a.debit - a.credit  ,if(a.validation = 9, a.debit - a.credit  ,if(a.validation = 10, a.debit - a.credit, a.debit_based - a.credit_based)))))))))) AS amount  from (    select a.trans_id, a.trans_date, b.jbooks_id    ,sum(b.debit) as debit    ,sum(b.credit) as credit    ,sum(b.debit_based) as debit_based    ,sum(b.credit_based) as credit_based    ,c.account_id, c.account_code, c.account_name, c.validation    from trans_header a  left join erp_accounting_ngg.trans_jbooks b on b.trans_id = a.trans_id  left join erp_fs_ngg.lib_erp_chart c on c.account_id = b.account_id  where year(a.trans_date)='2017' and b.jbooks_id is not null  group by c.account_id  ) a  order by a.account_code
[16:33:29] - SELECT SUM(b.debit - IFNULL(d.credit,0)) AS amount  ,e.general_name  FROM trans_header a  LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id  LEFT JOIN erp_fs_ngg.lib_erp_chart c ON c.account_id = b.account_id  LEFT JOIN (    SELECT a.ref_jbooks_id    ,SUM(credit) AS credit    FROM trans_jbooks a    GROUP BY a.ref_jbooks_id  ) d ON d.ref_jbooks_id = b.jbooks_id  LEFT JOIN erp_fs_ngg.lib_erp_general e ON e.general_id = b.general_id  LEFT JOIN (   SELECT SUM(b.debit - IFNULL(d.credit,0)) AS amount   ,b.general_id,e.general_name  FROM trans_header a  LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id  LEFT JOIN erp_fs_ngg.lib_erp_chart c ON c.account_id = b.account_id  LEFT JOIN (    SELECT a.ref_jbooks_id    ,SUM(credit) AS credit    FROM trans_jbooks a    GROUP BY a.ref_jbooks_id  ) d ON d.ref_jbooks_id = b.jbooks_id  LEFT JOIN erp_fs_ngg.lib_erp_general e ON e.general_id = b.general_id  WHERE c.validation = 2 AND b.general_id IS NOT NULL AND a.journal_id = 8  GROUP BY b.general_id  ORDER BY amount DESC ) f on f.general_id = b.general_id  WHERE c.validation = 2 AND b.general_id IS NOT NULL AND year(trans_date)='2017'  GROUP BY b.general_id  ORDER BY amount DESC
[16:33:30] - select month(trans_date) as month, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  left join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and year(d.trans_date)='2018'  group by monthname(trans_date) order by month(trans_date)
[16:33:30] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2018'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:44] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:44] - select month(trans_date) as month, monthname(trans_date) as month_name, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and year(d.trans_date)='2017'  group by month(trans_date)  order by trans_date
[16:33:44] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:44] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2017'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:33:44] - select a.account_code, a.account_name  ,if(a.validation = 1, a.debit - a.credit  ,if(a.validation = 2, a.debit - a.credit  ,if(a.validation = 3, a.credit - a.debit  ,if(a.validation = 4, a.credit - a.debit  ,if(a.validation = 5, a.credit - a.debit  ,if(a.validation = 6, a.debit - a.credit  ,if(a.validation = 7, a.credit - a.debit  ,if(a.validation = 8, a.debit - a.credit  ,if(a.validation = 9, a.debit - a.credit  ,if(a.validation = 10, a.debit - a.credit, a.debit_based - a.credit_based)))))))))) AS amount  from (    select a.trans_id, a.trans_date, b.jbooks_id    ,sum(b.debit) as debit    ,sum(b.credit) as credit    ,sum(b.debit_based) as debit_based    ,sum(b.credit_based) as credit_based    ,c.account_id, c.account_code, c.account_name, c.validation    from trans_header a  left join erp_accounting_ngg.trans_jbooks b on b.trans_id = a.trans_id  left join erp_fs_ngg.lib_erp_chart c on c.account_id = b.account_id  where year(a.trans_date)='2017' and b.jbooks_id is not null  group by c.account_id  ) a  order by a.account_code
[16:33:44] - SELECT SUM(b.debit - IFNULL(d.credit,0)) AS amount  ,e.general_name  FROM trans_header a  LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id  LEFT JOIN erp_fs_ngg.lib_erp_chart c ON c.account_id = b.account_id  LEFT JOIN (    SELECT a.ref_jbooks_id    ,SUM(credit) AS credit    FROM trans_jbooks a    GROUP BY a.ref_jbooks_id  ) d ON d.ref_jbooks_id = b.jbooks_id  LEFT JOIN erp_fs_ngg.lib_erp_general e ON e.general_id = b.general_id  LEFT JOIN (   SELECT SUM(b.debit - IFNULL(d.credit,0)) AS amount   ,b.general_id,e.general_name  FROM trans_header a  LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id  LEFT JOIN erp_fs_ngg.lib_erp_chart c ON c.account_id = b.account_id  LEFT JOIN (    SELECT a.ref_jbooks_id    ,SUM(credit) AS credit    FROM trans_jbooks a    GROUP BY a.ref_jbooks_id  ) d ON d.ref_jbooks_id = b.jbooks_id  LEFT JOIN erp_fs_ngg.lib_erp_general e ON e.general_id = b.general_id  WHERE c.validation = 2 AND b.general_id IS NOT NULL AND a.journal_id = 8  GROUP BY b.general_id  ORDER BY amount DESC ) f on f.general_id = b.general_id  WHERE c.validation = 2 AND b.general_id IS NOT NULL AND year(trans_date)='2017'  GROUP BY b.general_id  ORDER BY amount DESC
[16:33:44] - select month(trans_date) as month, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  left join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and year(d.trans_date)='2018'  group by monthname(trans_date) order by month(trans_date)
[16:33:44] - select trans_date, sum(a.credit_based) - sum(a.debit_based) as amount  from trans_jbooks a  left join erp_fs_ngg.lib_erp_chart b on b.account_id = a.account_id  left join erp_fs_ngg.lib_acc_chart_class c on c.chart_class_id = b.chart_class_id  LEFT join trans_header d on d.trans_id = a.trans_id  where c.chart_type = 'I' and month(trans_date)='12' and year(d.trans_date)='2018'  group by a.trans_id  order by year(trans_date) desc, month(trans_date) desc, day(trans_date) desc, amount desc
[16:34:10] - ----- Accounting Close -----