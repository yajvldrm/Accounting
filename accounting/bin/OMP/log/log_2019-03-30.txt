Log for Debugging - 03/30/2019
[13:11:30] - ----- Accounting Start -----
[13:11:30] - Main Connection String = Server=192.168.1.46;User Id=root;Password=root;Database=erp_accounting_nhi_test;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:11:30] - FS Connection String = Server=192.168.1.46;User Id=root;Password=root;Database=erp_fs_alhi_test;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:11:54] - Unable to connect to any of the specified MySQL hosts.
[13:12:14] - ----- Accounting Start -----
[13:12:14] - Main Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_accounting_nhi;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:12:14] - FS Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_fs_alhi;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:12:18] - Login Button Click
[13:12:18] - SELECT user_id FROM erp_fs_alhi.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[13:12:19] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-03-30 13:12:19',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[13:12:19] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-03-30 13:12:19' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[13:12:19] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[13:12:19] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_alhi.sys_erp_modules a LEFT JOIN erp_fs_alhi.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_alhi.sys_erp_user c ON c.profile_id = b.profile_id WHERE a.system_id = 2 AND c.username = 'alas' 
[13:12:20] - SELECT module_code FROM erp_fs_alhi.sys_erp_modules WHERE system_id = 2 
[13:12:21] - select * from lib_erp_journal
[13:12:22] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_alhi.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_alhi.lib_erp_currency c ON c.currency_id = a.currency_id 
[13:12:22] - select a.*,b.module_code from sys_default_det a inner join erp_fs_alhi.sys_erp_modules b on a.module_id = b.module_id
[13:14:38] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '6'
[13:14:38] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[13:14:38] - End of Initialization
[13:14:43] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '6' ORDER BY b.book_code 
[13:14:48] - ----- Accounting Close -----
[14:42:10] - ----- Accounting Start -----
[14:42:10] - Main Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_accounting_nhi;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:42:10] - FS Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_fs_alhi;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:42:13] - Login Button Click
[14:42:13] - SELECT user_id FROM erp_fs_alhi.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:42:13] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-03-30 14:42:13',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:42:14] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-03-30 14:42:13' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:42:14] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:42:14] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_alhi.sys_erp_modules a LEFT JOIN erp_fs_alhi.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_alhi.sys_erp_user c ON c.profile_id = b.profile_id WHERE a.system_id = 2 AND c.username = 'alas' 
[14:42:14] - SELECT module_code FROM erp_fs_alhi.sys_erp_modules WHERE system_id = 2 
[14:42:14] - select * from lib_erp_journal
[14:42:14] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_alhi.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_alhi.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:42:14] - select a.*,b.module_code from sys_default_det a inner join erp_fs_alhi.sys_erp_modules b on a.module_id = b.module_id
[14:42:18] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '6'
[14:42:18] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:42:19] - End of Initialization
[14:42:21] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '6' ORDER BY b.book_code 
[14:42:24] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[14:42:24] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-04' ORDER BY a.trans_no ASC 
[14:42:24] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1993'
[14:42:25] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1993 
[14:42:25] - SELECT * FROM select_ewt WHERE trans_id = 1993
[14:42:25] - SELECT * FROM select_final_tax WHERE trans_id = 1993
[14:42:26] - SELECT * FROM select_input_vat WHERE trans_id = 1993
[14:42:26] - SELECT * FROM select_output_vat WHERE trans_id = 1993
[14:42:26] - SELECT * FROM select_prepaid WHERE trans_id = 1993
[14:42:26] - SELECT * FROM select_fixed_asset WHERE trans_id = 1993
[14:42:26] - SELECT * FROM select_checks WHERE trans_id = 1993
[14:42:26] - SELECT * FROM trans_header_particular WHERE trans_id = 1993
[14:42:36] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-04' ORDER BY a.trans_no ASC 
[14:42:36] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1993'
[14:42:36] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1993 
[14:42:36] - SELECT * FROM select_ewt WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_final_tax WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_input_vat WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_output_vat WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_prepaid WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_fixed_asset WHERE trans_id = 1993
[14:42:37] - SELECT * FROM select_checks WHERE trans_id = 1993
[14:42:37] - SELECT * FROM trans_header_particular WHERE trans_id = 1993
[14:42:47] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-04' ORDER BY a.trans_no ASC 
[14:42:47] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1993'
[14:42:47] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1993 
[14:42:47] - SELECT * FROM select_ewt WHERE trans_id = 1993
[14:42:47] - SELECT * FROM select_final_tax WHERE trans_id = 1993
[14:42:47] - SELECT * FROM select_input_vat WHERE trans_id = 1993
[14:42:48] - SELECT * FROM select_output_vat WHERE trans_id = 1993
[14:42:48] - SELECT * FROM select_prepaid WHERE trans_id = 1993
[14:42:48] - SELECT * FROM select_fixed_asset WHERE trans_id = 1993
[14:42:48] - SELECT * FROM select_checks WHERE trans_id = 1993
[14:42:48] - SELECT * FROM trans_header_particular WHERE trans_id = 1993
[14:42:55] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[14:42:56] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:42:56] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 3
[14:43:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[14:43:06] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[14:43:19] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-03' ORDER BY a.trans_no ASC 
[14:43:20] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-03' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:43:26] - SELECT based_rate 
                FROM lib_erp_currency_rate WHERE currency_id = '1' 
                ORDER BY currency_rate_id
                LIMIT 1
[14:43:34] - ExecuteWithParameter : insert_lib_erp_currency_rate
[14:43:34] - parameters : '(default,'1','2019-03-01','1','1.0000000000')'
[14:43:34] - Execution Time: 2019-03-30 14:43:34
[14:43:35] - Done Time: 2019-03-30 14:43:35
[14:43:37] - SELECT based_rate 
                FROM lib_erp_currency_rate WHERE currency_id = '1' 
                ORDER BY currency_rate_id
                LIMIT 1
[14:43:40] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-03' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:43:40] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 3
[14:43:58] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[14:44:00] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-03' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:44:02] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[14:44:06] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-03' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:44:23] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[14:44:31] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-03' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[14:44:54] - SELECT * FROM lib_erp_chart
[14:45:04] - SELECT * FROM lib_erp_project
[14:45:05] - SELECT * FROM lib_erp_department
[14:45:16] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[14:45:17] - SELECT * FROM lib_erp_terms WHERE terms_type = 2 or terms_type = 3
[14:45:19] - SELECT * FROM lib_erp_chart
[14:45:44] - SELECT * FROM lib_erp_project
[14:45:44] - SELECT * FROM lib_erp_department
[14:45:52] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '3' AND '2019-03-30' BETWEEN date_from AND date_to
[14:45:52] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'APV-2019-03-00001-01' AND trans_id <> '' AND journal_id = '3'
[14:45:52] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|APV-2019-03-00001-01|2019-03-30|105|3|72|1|1.0000000000|1.0000000000|1299|1299|For monthly billing of globe plan|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:45:53] - CALL submitapproval('ACC00301',2163,1);
[14:45:53] - CALL SaveTransaction('Insert','trans_header_ap','trans_ap_id,trans_id,si_no,rr_no,po_no,due_date,terms_id,nodays','|2163||||2019-03-30||0|','trans_ap_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:45:53] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2163|1|18|||385||0|1299|1|1.0000000000|1.0000000000|0|1299|72||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:45:53] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(2163,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(18,2)  AND  ROUND(account_id,2) = ROUND(385,2)  AND  ROUND(credit,2) = ROUND(1299,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(credit_based,2) = ROUND(1299,2)  AND  ROUND(general_id,2) = ROUND(72,2) 
[14:45:53] - CALL SaveTransaction('Insert','trans_jbooks_ap','jbooks_ap_id,jbooks_id,nodays,terms_id','|6508|0||','jbooks_ap_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:45:53] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|2163|1|18|||576||1299|0|1|1.0000000000|1.0000000000|1299|0|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:45:54] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-03' ORDER BY a.trans_no ASC 
[14:45:54] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '2163'
[14:45:54] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2163 
[14:45:54] - SELECT * FROM select_ewt WHERE trans_id = 2163
[14:45:54] - SELECT * FROM select_final_tax WHERE trans_id = 2163
[14:45:54] - SELECT * FROM select_input_vat WHERE trans_id = 2163
[14:45:54] - SELECT * FROM select_output_vat WHERE trans_id = 2163
[14:45:54] - SELECT * FROM select_prepaid WHERE trans_id = 2163
[14:45:54] - SELECT * FROM select_fixed_asset WHERE trans_id = 2163
[14:45:55] - SELECT * FROM select_checks WHERE trans_id = 2163
[14:45:55] - SELECT * FROM trans_header_particular WHERE trans_id = 2163
[14:46:44] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '3' AND '2019-03-30' BETWEEN date_from AND date_to
[14:46:44] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'APV-2019-03-00001-01' AND trans_id <> '2163' AND journal_id = '3'
[14:46:44] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','2163|APV-2019-03-00001-01|2019-03-30|105|3|72|1|1.0000000000|1.0000000000|1299.0000000000|1299.0000000000|For monthly billing of globe plan|','trans_id','2163','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:46:45] - CALL SaveTransaction('Insert','trans_header_detailed_particular','trans_detailed_particular_id,trans_id,po_no,rr_no,dr_no,si_no,due_date,trans_header_detailed_amount','|2163|PO-00001|RR-00001|DR-00001|SI-00001|2019-03-30|1299|','trans_detailed_particular_id','','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:47:34] - Table 'erp_accounting_nhi_at.trans_header_detailed_particular' doesn't exist
[14:47:34] - CALL SaveTransaction('Update','trans_header_ap','trans_ap_id,trans_id,si_no,rr_no,po_no,due_date,terms_id,nodays','4|2163||||2019-03-30||0|','trans_ap_id','4','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:47:34] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','6508|2163|1|18|||385||0.0000000000|1299.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1299.0000000000|72||','jbooks_id','6508','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:47:34] - CALL SaveTransaction('Update','trans_jbooks_ap','jbooks_ap_id,jbooks_id,nodays,terms_id','269|6508|0||','jbooks_ap_id','269','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:47:35] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','6509|2163|1|18|||576||1299.0000000000|0.0000000000|1|1.0000000000|1.0000000000|1299.0000000000|0.0000000000|||','jbooks_id','6509','DESKTOP-PL80BO2','Raymond T. Villegas','730');
[14:47:35] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-03' ORDER BY a.trans_no ASC 
[14:47:35] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '2163'
[14:47:35] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2163 
[14:47:35] - SELECT * FROM select_ewt WHERE trans_id = 2163
[14:47:35] - SELECT * FROM select_final_tax WHERE trans_id = 2163
[14:47:35] - SELECT * FROM select_input_vat WHERE trans_id = 2163
[14:47:35] - SELECT * FROM select_output_vat WHERE trans_id = 2163
[14:47:36] - SELECT * FROM select_prepaid WHERE trans_id = 2163
[14:47:36] - SELECT * FROM select_fixed_asset WHERE trans_id = 2163
[14:47:36] - SELECT * FROM select_checks WHERE trans_id = 2163
[14:47:36] - SELECT * FROM trans_header_particular WHERE trans_id = 2163
[14:47:42] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-04' ORDER BY a.trans_no ASC 
[14:47:42] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1993'
[14:47:43] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1993 
[14:47:43] - SELECT * FROM select_ewt WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_final_tax WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_input_vat WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_output_vat WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_prepaid WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_fixed_asset WHERE trans_id = 1993
[14:47:43] - SELECT * FROM select_checks WHERE trans_id = 1993
[14:47:43] - SELECT * FROM trans_header_particular WHERE trans_id = 1993
[14:47:50] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_alhi.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_alhi.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_alhi.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN (
	        SELECT c.trans_id
	        FROM erp_red_alhi_test.trans_header a
	        LEFT JOIN erp_red_alhi_test.trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_jbooks c ON c.jbooks_id = b.acct_jbooks_id
	        GROUP BY c.trans_id
        ) AutoEntry ON AutoEntry.trans_id = a.trans_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '105' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-03' ORDER BY a.trans_no ASC 
[14:47:50] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '2163'
[14:47:50] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2163 
[14:47:50] - SELECT * FROM select_ewt WHERE trans_id = 2163
[14:47:50] - SELECT * FROM select_final_tax WHERE trans_id = 2163
[14:47:50] - SELECT * FROM select_input_vat WHERE trans_id = 2163
[14:47:50] - SELECT * FROM select_output_vat WHERE trans_id = 2163
[14:47:50] - SELECT * FROM select_prepaid WHERE trans_id = 2163
[14:47:50] - SELECT * FROM select_fixed_asset WHERE trans_id = 2163
[14:47:51] - SELECT * FROM select_checks WHERE trans_id = 2163
[14:47:51] - SELECT * FROM trans_header_particular WHERE trans_id = 2163
[14:53:26] - ----- Accounting Close -----