Log for Debugging - 06/28/2019
[09:02:47] - ----- Accounting Start -----
[09:02:47] - Main Connection String = Server=192.168.2.20;User Id=root;Password=root;Database=erp_accounting_nhi;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[09:02:47] - FS Connection String = Server=192.168.2.20;User Id=root;Password=root;Database=erp_fs_alhi;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[09:03:18] - Unable to connect to any of the specified MySQL hosts.
[09:03:41] - ----- Accounting Start -----
[09:03:41] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[09:03:42] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[09:03:49] - Login Button Click
[09:03:49] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[09:03:49] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 09:03:49',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[09:03:49] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 09:03:49' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[09:03:49] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[09:03:49] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[09:03:49] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[09:03:50] - select * from lib_erp_journal
[09:03:50] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[09:03:50] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[09:03:51] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[09:03:51] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[09:03:51] - End of Initialization
[09:40:22] - ----- Accounting Close -----
[11:14:36] - ----- Accounting Start -----
[11:14:36] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:14:36] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:14:41] - Login Button Click
[11:14:41] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:14:41] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 11:14:41',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:14:41] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 11:14:41' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:14:41] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:14:41] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:14:42] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[11:14:42] - select * from lib_erp_journal
[11:14:42] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:14:42] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[11:14:43] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:14:43] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:14:43] - End of Initialization
[11:14:48] - SELECT a.* FROM lib_erp_allocation a
[11:14:56] - CALL SaveTransaction('Insert','lib_erp_allocation','allocation_id,allocation_code,allocation_name','|A001|A001|','allocation_id','','DESKTOP-PL80BO2','Raymond T. Villegas','721');
[11:14:57] - SELECT a.* FROM lib_erp_allocation a
[11:14:57] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:14:57] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:14:57] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:15:02] - CALL SaveTransaction('Insert','lib_erp_allocation','allocation_id,allocation_code,allocation_name','|A002|A002|','allocation_id','','DESKTOP-PL80BO2','Raymond T. Villegas','721');
[11:15:02] - SELECT a.* FROM lib_erp_allocation a
[11:15:02] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:15:03] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:15:03] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '2'
[11:15:08] - CALL SaveTransaction('Insert','lib_erp_allocation','allocation_id,allocation_code,allocation_name','|A003|A003|','allocation_id','','DESKTOP-PL80BO2','Raymond T. Villegas','721');
[11:15:08] - SELECT a.* FROM lib_erp_allocation a
[11:15:08] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:15:08] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '1'
[11:15:08] - SELECT a.allocation_account_id,a.allocation_id,a.account_id ,b.account_code,b.account_name FROM lib_erp_allocation_account a LEFT JOIN lib_erp_chart b ON b.account_id = a.account_id  WHERE a.allocation_id = '3'
[11:15:20] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[11:15:21] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(row_type = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(row_type = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(a.row_type = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_alloaction d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[11:15:29] - Error Encounter : Table 'erp_file_setup_accounting_afsc.lib_erp_alloaction' doesn't exist
[11:15:45] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[11:15:45] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(row_type = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(row_type = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(a.row_type = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_alloaction d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[11:15:53] - Error Encounter : Table 'erp_file_setup_accounting_afsc.lib_erp_alloaction' doesn't exist
[11:15:56] - ----- Accounting Close -----
[11:16:23] - ----- Accounting Start -----
[11:16:23] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:16:23] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:16:26] - Login Button Click
[11:16:26] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:16:27] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 11:16:27',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:16:27] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 11:16:27' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:16:27] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:16:27] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:16:27] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[11:16:27] - select * from lib_erp_journal
[11:16:27] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:16:27] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[11:16:28] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:16:28] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:16:28] - End of Initialization
[11:25:29] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[11:25:29] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(row_type = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(row_type = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(a.row_type = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[11:26:37] - ----- Accounting Close -----
[11:26:56] - ----- Accounting Start -----
[11:26:56] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:26:56] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:27:01] - Login Button Click
[11:27:01] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:27:01] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 11:27:01',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:27:01] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 11:27:01' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:27:01] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:27:01] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:27:01] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[11:27:01] - select * from lib_erp_journal
[11:27:01] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:27:01] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[11:27:02] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:27:02] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:27:03] - End of Initialization
[11:27:10] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[11:27:10] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[11:27:16] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[11:27:18] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[11:27:21] - SELECT 'B' AS command_code,'Bold face' AS command_name UNION SELECT 'BI','Bold italic' UNION SELECT 'BU','Bold underline' UNION SELECT 'D','Prints double line' UNION SELECT 'G','Prints Grand Total format' UNION SELECT 'H','Hides printing or computation' UNION SELECT 'I','Italic' UNION SELECT 'IN','Insert before' UNION SELECT 'L','Single line' UNION SELECT 'N','Normal text' UNION SELECT 'P','Print accounts, group computations or display text' UNION SELECT 'S','Skips one or more lines' UNION SELECT 'T','Prints total or sub-total format' UNION SELECT 'U','Underline' 
[11:27:21] - SELECT 'B' AS command_code,'Bold face' AS command_name UNION SELECT 'BI','Bold italic' UNION SELECT 'BU','Bold underline' UNION SELECT 'D','Prints double line' UNION SELECT 'G','Prints Grand Total format' UNION SELECT 'H','Hides printing or computation' UNION SELECT 'I','Italic' UNION SELECT 'IN','Insert before' UNION SELECT 'L','Single line' UNION SELECT 'N','Normal text' UNION SELECT 'P','Print accounts, group computations or display text' UNION SELECT 'S','Skips one or more lines' UNION SELECT 'T','Prints total or sub-total format' UNION SELECT 'U','Underline' 
[11:27:22] - SELECT a.allocation_id,a.allocation_code,a.allocation_name FROM lib_erp_allocation a 
[11:29:07] - SELECT a.allocation_id,a.allocation_code,a.allocation_name FROM lib_erp_allocation a 
[11:30:51] - ----- Accounting Close -----
[11:31:04] - ----- Accounting Start -----
[11:31:04] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:31:04] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:31:08] - Login Button Click
[11:31:08] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:31:08] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 11:31:08',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:31:09] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 11:31:08' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:31:09] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:31:09] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:31:09] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[11:31:09] - select * from lib_erp_journal
[11:31:09] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:31:10] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[11:31:14] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:31:14] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:31:14] - End of Initialization
[11:31:21] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[11:31:22] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[11:31:25] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[11:31:27] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[11:31:42] - SELECT a.allocation_id,a.allocation_code,a.allocation_name FROM lib_erp_allocation a 
[11:33:59] - ----- Accounting Start -----
[11:33:59] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:33:59] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:34:24] - Login Button Click
[11:34:24] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:34:24] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 11:34:24',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:34:25] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 11:34:24' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:34:25] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:34:25] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:34:25] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[11:34:25] - select * from lib_erp_journal
[11:34:25] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:34:25] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[11:34:26] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:34:26] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:34:26] - End of Initialization
[13:23:47] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[13:23:47] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[13:23:52] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[13:23:53] - SELECT '0' AS row_type,'Chart of Account' AS row_type_name UNION SELECT '1','Chart Group' UNION SELECT '2','Allocation' 
[13:23:55] - SELECT a.allocation_id,a.allocation_code,a.allocation_name FROM lib_erp_allocation a 
[13:23:56] - SELECT a.allocation_id,a.allocation_code,a.allocation_name FROM lib_erp_allocation a 
[13:24:02] - SELECT 'B' AS command_code,'Bold face' AS command_name UNION SELECT 'BI','Bold italic' UNION SELECT 'BU','Bold underline' UNION SELECT 'D','Prints double line' UNION SELECT 'G','Prints Grand Total format' UNION SELECT 'H','Hides printing or computation' UNION SELECT 'I','Italic' UNION SELECT 'IN','Insert before' UNION SELECT 'L','Single line' UNION SELECT 'N','Normal text' UNION SELECT 'P','Print accounts, group computations or display text' UNION SELECT 'S','Skips one or more lines' UNION SELECT 'T','Prints total or sub-total format' UNION SELECT 'U','Underline' 
[13:24:03] - SELECT 'B' AS command_code,'Bold face' AS command_name UNION SELECT 'BI','Bold italic' UNION SELECT 'BU','Bold underline' UNION SELECT 'D','Prints double line' UNION SELECT 'G','Prints Grand Total format' UNION SELECT 'H','Hides printing or computation' UNION SELECT 'I','Italic' UNION SELECT 'IN','Insert before' UNION SELECT 'L','Single line' UNION SELECT 'N','Normal text' UNION SELECT 'P','Print accounts, group computations or display text' UNION SELECT 'S','Skips one or more lines' UNION SELECT 'T','Prints total or sub-total format' UNION SELECT 'U','Underline' 
[13:24:03] - CALL SaveTransaction('Update','sys_fs_template','template_id,template_code,template_name,title1,title2,title3,fs_type','7|IS-PROJ|INCOME STATEMENT PER PROJECT|INCOME STATEMENT PER PROJECT|||2|','template_id','7','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:03] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','322|7|0|S||1||0|0|1|0||||||','template_det_id','322','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:03] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','323|7|1|N||1||0|0|1|0||||||','template_det_id','323','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:03] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','324|7|2|P||1||0|0|1|0||13|1|||','template_det_id','324','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:03] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','325|7|3|P||1||0|0|1|0||14||||','template_det_id','325','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','326|7|4|P||1||0|0|1|0||15||||','template_det_id','326','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','327|7|5|B||1||0|0|1|0||||||','template_det_id','327','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','328|7|6|P|ASSETS|1||0|0|1|0||||||','template_det_id','328','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','329|7|7|N||1||0|0|1|0||||||','template_det_id','329','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','330|7|8|P||1||0|0|1|0|||0|||','template_det_id','330','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','331|7|9|P||1||0|0|1|0|||2||3|','template_det_id','331','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','332|7|10|||1||0|0|1|0||||||','template_det_id','332','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:04] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','333|7|11|||1||0|0|1|0||||||','template_det_id','333','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:05] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','334|7|12|||1||0|0|1|0||||||','template_det_id','334','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:05] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','335|7|13|||1||0|0|1|0||||||','template_det_id','335','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:05] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','336|7|14|||1||0|0|1|0||||||','template_det_id','336','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:05] - CALL SaveTransaction('Update','sys_fs_template_det','template_det_id,template_id,order_by,command_code,display_text,column_num,group_var,add_sub,repeat_num,show_zero,indent_num,account_id,chart_group_id,row_type,computation,allocation_id','337|7|15|||1||0|0|1|0||||||','template_det_id','337','DESKTOP-PL80BO2','Raymond T. Villegas','725');
[13:24:06] - SELECT a.template_id,a.template_code,a.template_name ,a.title1,a.title2,a.title3 FROM sys_fs_template a WHERE a.fs_type = '2' 
[13:24:06] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[13:24:09] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '6' ORDER BY a.order_by ASC 
[13:24:09] - SELECT a.template_det_id,a.template_id ,a.command_code,a.row_type,a.account_id,a.chart_group_id,a.display_text ,a.column_num,a.group_var,a.add_sub,a.repeat_num,a.show_zero,a.indent_num,a.order_by ,IF(row_type = '0',b.account_code,IF(IFNULL(row_type,1) = '1',c.chart_group_code,d.allocation_code)) AS chart_code ,IF(row_type = '0',b.account_name,IF(IFNULL(row_type,1) = '1',c.chart_group_name,d.allocation_name)) AS chart_name ,IF(a.row_type = '0','Chart of Account',IF(IFNULL(a.row_type,1) = '1','Chart Group','Allocation')) AS row_type_name ,a.computation FROM sys_fs_template_det a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_afsc.lib_acc_chart_group c ON c.chart_group_id = a.chart_group_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation d ON d.allocation_id = a.allocation_id WHERE a.template_id = '7' ORDER BY a.order_by ASC 
[14:35:59] - Unable to connect to any of the specified MySQL hosts.
[14:36:35] - Unable to connect to any of the specified MySQL hosts.
[15:34:01] - Unable to connect to any of the specified MySQL hosts.
[15:34:07] - ----- Accounting Start -----
[15:34:07] - Main Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_accounting_frp;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:34:07] - FS Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_file_setup_accounting_frp;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:34:11] - Login Button Click
[15:34:11] - SELECT user_id FROM erp_file_setup_accounting_frp.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:34:11] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 15:34:11',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:34:11] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 15:34:11' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:34:11] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:34:11] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_frp.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_frp.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_frp.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_frp.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:34:12] - SELECT module_code FROM erp_file_setup_accounting_frp.sys_erp_modules WHERE system_id = 2 
[15:34:12] - select * from lib_erp_journal
[15:34:12] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_frp.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:34:12] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_frp.sys_erp_modules b on a.module_id = b.module_id
[15:34:12] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:34:12] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:34:12] - End of Initialization
[15:34:16] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[15:34:18] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[15:34:18] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[15:34:19] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '138' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:34:19] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_ewt WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_final_tax WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_input_vat WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_output_vat WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_prepaid WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_fixed_asset WHERE trans_id = 138
[15:34:19] - SELECT * FROM select_checks WHERE trans_id = 138
[15:34:19] - SELECT * FROM trans_header_particular WHERE trans_id = 138
[15:49:27] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:49:27] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:49:27] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:49:28] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:49:32] - select * from lib_erp_book WHERE company_id = '1'
[15:50:00] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','3|AP|Accounts Payable|APV NO.|SUPPLIER||1||','journal_id','3','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:50:00] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','1|3|1|00001|PV# [YYYY]-[MM]-[TRANS_NO]|','journal_book_det_id','1','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:50:05] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:50:05] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:50:05] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:50:29] - select * from lib_erp_book WHERE company_id = '1'
[15:50:42] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','3|AP|Accounts Payable|APV NO.|SUPPLIER||1||','journal_id','3','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:50:42] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','1|3|1|001|PV# [YYYY]-[MM]-[TRANS_NO]|','journal_book_det_id','1','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:50:43] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:50:43] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:50:43] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:50:44] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:50:46] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:50:47] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:50:59] - select * from lib_erp_book WHERE company_id = '1'
[15:51:29] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:51:29] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:51:35] - select * from lib_erp_book WHERE company_id = '1'
[15:52:00] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','2|CR|Official Receipt||||0||','journal_id','2','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:00] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','2|2|2|01|CRB#[YYYY]-[MM]-[TRANS_NO]|','journal_book_det_id','2','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:01] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:52:01] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:52:01] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:52:02] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:52:06] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','2|CR|Official Receipt||||1||','journal_id','2','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:06] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','2|2|2|01|CRB#[YYYY]-[MM]-[TRANS_NO]|','journal_book_det_id','2','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:07] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:52:07] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:52:07] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:52:07] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:52:07] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:52:08] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 2 AND b.company_id = '1'
[15:52:09] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[15:52:23] - select * from lib_erp_book WHERE company_id = '1'
[15:52:29] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','4|CV|Check Voucher||||1||','journal_id','4','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:29] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','3|4|1|0001|[TRANS_NO]|','journal_book_det_id','3','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:31] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:52:31] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[15:52:31] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:52:31] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[15:52:36] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 7 AND b.company_id = '1'
[15:52:39] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:52:43] - select * from lib_erp_book WHERE company_id = '1'
[15:52:55] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','1|IB|Invoicing||||1||','journal_id','1','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:55] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','5|1|1|000001|[TRANS_NO]|','journal_book_det_id','5','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:52:56] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:52:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:52:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:52:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:52:58] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 5 AND b.company_id = '1'
[15:52:59] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:53:00] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 5 AND b.company_id = '1'
[15:53:00] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:53:03] - select * from lib_erp_book WHERE company_id = '1' AND book_id NOT IN (1)
[15:53:14] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','1|IB|Invoicing||||1||','journal_id','1','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:53:14] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','5|1|1|000001|[TRANS_NO]|','journal_book_det_id','5','DESKTOP-PL80BO2','Raymond T. Villegas','297');CALL SaveTransaction('Insert','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','|1|2|000001|[TRANS_NO]|','journal_book_det_id','','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:53:16] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:53:16] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:53:16] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:53:16] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 1 AND b.company_id = '1'
[15:53:16] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 7 AND b.company_id = '1'
[15:53:17] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 5 AND b.company_id = '1'
[15:53:37] - select * from lib_erp_book WHERE company_id = '1'
[15:53:58] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','5|JB|Journal Voucher||||1||','journal_id','5','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:53:59] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','6|5|1|00001|JV [YYYY]-[MM]-[TRANS_NO]|','journal_book_det_id','6','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[15:54:03] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[15:54:03] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 5 AND b.company_id = '1'
[15:54:04] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[15:54:04] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 5 AND b.company_id = '1'
[15:54:05] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 6 AND b.company_id = '1'
[15:54:09] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:10] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[15:54:11] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:11] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '1081' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:54:11] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_ewt WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_final_tax WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_input_vat WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_output_vat WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_prepaid WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_fixed_asset WHERE trans_id = 1081
[15:54:11] - SELECT * FROM select_checks WHERE trans_id = 1081
[15:54:11] - SELECT * FROM trans_header_particular WHERE trans_id = 1081
[15:54:13] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:13] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[15:54:13] - call getnewtransno(1,1,6,2019)
[15:54:14] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:14] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '1081' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:54:14] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1081
[15:54:14] - SELECT * FROM select_ewt WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_final_tax WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_input_vat WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_output_vat WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_prepaid WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 1081
[15:54:15] - SELECT * FROM select_checks WHERE trans_id = 1081
[15:54:15] - SELECT * FROM trans_header_particular WHERE trans_id = 1081
[15:54:18] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:18] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[15:54:18] - call getnewtransno(1,1,6,2019)
[15:54:21] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:21] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '1081' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:54:21] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_ewt WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_final_tax WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_input_vat WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_output_vat WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_prepaid WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_fixed_asset WHERE trans_id = 1081
[15:54:21] - SELECT * FROM select_checks WHERE trans_id = 1081
[15:54:21] - SELECT * FROM trans_header_particular WHERE trans_id = 1081
[15:54:24] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:28] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[15:54:28] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:28] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '1073' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:54:28] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1073
[15:54:28] - SELECT * FROM select_ewt WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_final_tax WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_input_vat WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_output_vat WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_prepaid WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_fixed_asset WHERE trans_id = 1073
[15:54:29] - SELECT * FROM select_checks WHERE trans_id = 1073
[15:54:29] - SELECT * FROM trans_header_particular WHERE trans_id = 1073
[15:54:31] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:31] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[15:54:31] - call getnewtransno(1,2,6,2019)
[15:54:32] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:33] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '1073' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[15:54:33] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_ewt WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_final_tax WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_input_vat WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_output_vat WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_prepaid WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_fixed_asset WHERE trans_id = 1073
[15:54:33] - SELECT * FROM select_checks WHERE trans_id = 1073
[15:54:33] - SELECT * FROM trans_header_particular WHERE trans_id = 1073
[15:54:36] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:37] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[15:54:37] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:54:45] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[15:54:45] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[15:54:45] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_ewt WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_final_tax WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_input_vat WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_output_vat WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_prepaid WHERE trans_id = 656
[15:54:45] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[15:54:46] - SELECT * FROM select_checks WHERE trans_id = 656
[15:54:46] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[15:54:48] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:54:48] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:54:49] - call getnewtransno(2,2,1,2019)
[15:54:51] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[15:54:51] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[15:54:51] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[15:54:51] - SELECT * FROM select_ewt WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_final_tax WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_input_vat WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_output_vat WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_prepaid WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[15:54:52] - SELECT * FROM select_checks WHERE trans_id = 656
[15:54:52] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[15:54:59] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:55:00] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:55:00] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:55:00] - call getnewtransno(2,2,6,2019)
[15:55:05] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:56:43] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[15:56:43] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[15:56:43] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_ewt WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_final_tax WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_input_vat WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_output_vat WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_prepaid WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[15:56:44] - SELECT * FROM select_checks WHERE trans_id = 656
[15:56:44] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[15:56:45] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:56:45] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[15:56:45] - call getnewtransno(2,2,1,2019)
[15:56:46] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[15:56:46] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[15:56:46] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_ewt WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_final_tax WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_input_vat WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_output_vat WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_prepaid WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[15:56:46] - SELECT * FROM select_checks WHERE trans_id = 656
[15:56:46] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[15:56:53] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[15:56:54] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[15:56:54] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:56:54] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='1040'
[15:56:54] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1040'
[15:56:54] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1040
[15:56:54] - SELECT * FROM select_ewt WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_final_tax WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_input_vat WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_output_vat WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_prepaid WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_fixed_asset WHERE trans_id = 1040
[15:56:55] - SELECT * FROM select_checks WHERE trans_id = 1040
[15:56:55] - SELECT * FROM trans_header_particular WHERE trans_id = 1040
[15:56:56] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:56:56] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 3
[15:56:56] - call getnewtransno(3,1,6,2019)
[15:56:57] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:56:57] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='1040'
[15:56:57] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1040'
[15:56:57] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1040
[15:56:57] - SELECT * FROM select_ewt WHERE trans_id = 1040
[15:56:57] - SELECT * FROM select_final_tax WHERE trans_id = 1040
[15:56:57] - SELECT * FROM select_input_vat WHERE trans_id = 1040
[15:56:57] - SELECT * FROM select_output_vat WHERE trans_id = 1040
[15:56:58] - SELECT * FROM select_prepaid WHERE trans_id = 1040
[15:56:58] - SELECT * FROM select_fixed_asset WHERE trans_id = 1040
[15:56:58] - SELECT * FROM select_checks WHERE trans_id = 1040
[15:56:58] - SELECT * FROM trans_header_particular WHERE trans_id = 1040
[15:56:59] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[15:56:59] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 3
[15:56:59] - call getnewtransno(3,1,6,2019)
[15:57:00] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[15:57:00] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_frp.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='1040'
[15:57:00] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1040'
[15:57:00] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_ewt WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_final_tax WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_input_vat WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_output_vat WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_prepaid WHERE trans_id = 1040
[15:57:00] - SELECT * FROM select_fixed_asset WHERE trans_id = 1040
[15:57:01] - SELECT * FROM select_checks WHERE trans_id = 1040
[15:57:01] - SELECT * FROM trans_header_particular WHERE trans_id = 1040
[16:00:15] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '5' AND b.company_id = '1' ORDER BY b.book_code 
[16:00:22] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00501'
[16:00:22] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '5' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[16:00:22] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_ewt WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_final_tax WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_input_vat WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_output_vat WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_prepaid WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_fixed_asset WHERE trans_id = 1078
[16:00:22] - SELECT * FROM select_checks WHERE trans_id = 1078
[16:00:22] - SELECT * FROM trans_header_particular WHERE trans_id = 1078
[16:00:52] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-05' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:00:52] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 5
[16:00:53] - call getnewtransno(5,1,5,2019)
[16:00:54] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '5' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[16:00:54] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1078
[16:00:54] - SELECT * FROM select_ewt WHERE trans_id = 1078
[16:00:54] - SELECT * FROM select_final_tax WHERE trans_id = 1078
[16:00:54] - SELECT * FROM select_input_vat WHERE trans_id = 1078
[16:00:54] - SELECT * FROM select_output_vat WHERE trans_id = 1078
[16:00:54] - SELECT * FROM select_prepaid WHERE trans_id = 1078
[16:00:55] - SELECT * FROM select_fixed_asset WHERE trans_id = 1078
[16:00:55] - SELECT * FROM select_checks WHERE trans_id = 1078
[16:00:55] - SELECT * FROM trans_header_particular WHERE trans_id = 1078
[16:00:58] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '5' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:00:59] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:00:59] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 5
[16:00:59] - call getnewtransno(5,1,6,2019)
[16:01:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '5' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:01:11] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[16:01:12] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[16:01:12] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:01:14] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:01:14] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[16:01:14] - call getnewtransno(2,2,6,2019)
[16:01:16] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:01:18] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:01:22] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:01:23] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[16:01:23] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_ewt WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_final_tax WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_input_vat WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_output_vat WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_prepaid WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[16:01:23] - SELECT * FROM select_checks WHERE trans_id = 656
[16:01:23] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[16:01:26] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:01:26] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[16:01:26] - call getnewtransno(2,2,1,2019)
[16:01:28] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:01:28] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '656'
            
[16:01:28] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_ewt WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_final_tax WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_input_vat WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_output_vat WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_prepaid WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_fixed_asset WHERE trans_id = 656
[16:01:28] - SELECT * FROM select_checks WHERE trans_id = 656
[16:01:28] - SELECT * FROM trans_header_particular WHERE trans_id = 656
[16:01:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[16:01:31] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '693'
            
[16:01:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_ewt WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_final_tax WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_input_vat WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_output_vat WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_prepaid WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_fixed_asset WHERE trans_id = 693
[16:01:31] - SELECT * FROM select_checks WHERE trans_id = 693
[16:01:32] - SELECT * FROM trans_header_particular WHERE trans_id = 693
[16:01:33] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-02' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:01:33] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[16:01:33] - call getnewtransno(2,2,2,2019)
[16:01:34] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '2' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[16:01:34] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '693'
            
[16:01:34] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 693
[16:01:34] - SELECT * FROM select_ewt WHERE trans_id = 693
[16:01:34] - SELECT * FROM select_final_tax WHERE trans_id = 693
[16:01:35] - SELECT * FROM select_input_vat WHERE trans_id = 693
[16:01:35] - SELECT * FROM select_output_vat WHERE trans_id = 693
[16:01:35] - SELECT * FROM select_prepaid WHERE trans_id = 693
[16:01:35] - SELECT * FROM select_fixed_asset WHERE trans_id = 693
[16:01:35] - SELECT * FROM select_checks WHERE trans_id = 693
[16:01:35] - SELECT * FROM trans_header_particular WHERE trans_id = 693
[16:01:43] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:01:46] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:01:46] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:01:46] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:01:46] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:01:46] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:01:46] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:01:47] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:01:47] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:01:49] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:01:49] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:01:49] - call getnewtransno(4,1,6,2019)
[16:01:51] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:01:51] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:01:51] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:01:51] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:01:51] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:01:51] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:01:51] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:01:51] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:01:51] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:01:52] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:01:52] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:01:52] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:01:56] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[16:01:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[16:01:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[16:01:57] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[16:01:59] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[16:02:04] - select * from lib_erp_book WHERE company_id = '1'
[16:02:08] - CALL SaveTransaction('Update','lib_erp_journal','journal_id,journal_code,journal_name,trans_label,person_label,shooting,auto_number,bir_control_no','4|CV|Check Voucher||||1||','journal_id','4','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[16:02:08] - CALL SaveTransaction('Update','sys_acc_journal_book','journal_book_det_id,journal_id,book_id,start_trans_no,format','3|4|1|00001|[TRANS_NO]|','journal_book_det_id','3','DESKTOP-PL80BO2','Raymond T. Villegas','297');
[16:02:09] - SELECT * FROM lib_erp_journal a WHERE journal_id <> '8' ORDER BY a.journal_code,a.journal_name ASC 
[16:02:09] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[16:02:09] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 3 AND b.company_id = '1'
[16:02:09] - SELECT a.journal_book_det_id,a.journal_id,a.book_id,b.book_code,b.book_name,a.start_trans_no,a.format FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE a.journal_id = 4 AND b.company_id = '1'
[16:02:11] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:02:11] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:02:11] - call getnewtransno(4,1,6,2019)
[16:02:13] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:02:14] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:02:14] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:02:14] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:02:14] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:02:14] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:02:17] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:02:17] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1151'
            
[16:02:17] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1151'
[16:02:17] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1151
[16:02:17] - SELECT * FROM select_ewt WHERE trans_id = 1151
[16:02:17] - SELECT * FROM select_final_tax WHERE trans_id = 1151
[16:02:17] - SELECT * FROM select_input_vat WHERE trans_id = 1151
[16:02:18] - SELECT * FROM select_output_vat WHERE trans_id = 1151
[16:02:18] - SELECT * FROM select_prepaid WHERE trans_id = 1151
[16:02:18] - SELECT * FROM select_fixed_asset WHERE trans_id = 1151
[16:02:18] - SELECT * FROM select_checks WHERE trans_id = 1151
[16:02:18] - SELECT * FROM trans_header_particular WHERE trans_id = 1151
[16:02:19] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:02:19] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:02:19] - call getnewtransno(4,1,1,2019)
[16:02:27] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:02:27] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1151'
            
[16:02:27] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1151'
[16:02:27] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1151
[16:02:27] - SELECT * FROM select_ewt WHERE trans_id = 1151
[16:02:27] - SELECT * FROM select_final_tax WHERE trans_id = 1151
[16:02:28] - SELECT * FROM select_input_vat WHERE trans_id = 1151
[16:02:28] - SELECT * FROM select_output_vat WHERE trans_id = 1151
[16:02:28] - SELECT * FROM select_prepaid WHERE trans_id = 1151
[16:02:28] - SELECT * FROM select_fixed_asset WHERE trans_id = 1151
[16:02:28] - SELECT * FROM select_checks WHERE trans_id = 1151
[16:02:28] - SELECT * FROM trans_header_particular WHERE trans_id = 1151
[16:02:33] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:02:34] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:02:34] - call getnewtransno(4,1,1,2019)
[16:02:35] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:02:36] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1151'
            
[16:02:36] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1151'
[16:02:36] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_ewt WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_final_tax WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_input_vat WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_output_vat WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_prepaid WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_fixed_asset WHERE trans_id = 1151
[16:02:36] - SELECT * FROM select_checks WHERE trans_id = 1151
[16:02:36] - SELECT * FROM trans_header_particular WHERE trans_id = 1151
[16:02:44] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[16:02:44] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1152'
            
[16:02:44] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1152'
[16:02:44] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1152
[16:02:44] - SELECT * FROM select_ewt WHERE trans_id = 1152
[16:02:44] - SELECT * FROM select_final_tax WHERE trans_id = 1152
[16:02:44] - SELECT * FROM select_input_vat WHERE trans_id = 1152
[16:02:44] - SELECT * FROM select_output_vat WHERE trans_id = 1152
[16:02:45] - SELECT * FROM select_prepaid WHERE trans_id = 1152
[16:02:45] - SELECT * FROM select_fixed_asset WHERE trans_id = 1152
[16:02:45] - SELECT * FROM select_checks WHERE trans_id = 1152
[16:02:45] - SELECT * FROM trans_header_particular WHERE trans_id = 1152
[16:02:51] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[16:02:51] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1116'
            
[16:02:51] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1116'
[16:02:51] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1116
[16:02:51] - SELECT * FROM select_ewt WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_final_tax WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_input_vat WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_output_vat WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_prepaid WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_fixed_asset WHERE trans_id = 1116
[16:02:52] - SELECT * FROM select_checks WHERE trans_id = 1116
[16:02:52] - SELECT * FROM trans_header_particular WHERE trans_id = 1116
[16:02:58] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:03:00] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:03:00] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:03:00] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:03:01] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:03:01] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:03:01] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:03:01] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:03:06] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-02' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:03:06] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:03:06] - call getnewtransno(4,1,2,2019)
[16:03:09] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[16:03:09] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1116'
            
[16:03:09] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1116'
[16:03:09] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_ewt WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_final_tax WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_input_vat WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_output_vat WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_prepaid WHERE trans_id = 1116
[16:03:09] - SELECT * FROM select_fixed_asset WHERE trans_id = 1116
[16:03:10] - SELECT * FROM select_checks WHERE trans_id = 1116
[16:03:10] - SELECT * FROM trans_header_particular WHERE trans_id = 1116
[16:03:24] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[16:03:25] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[16:03:25] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:03:25] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:03:25] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:03:25] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:03:25] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:03:26] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:03:26] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:03:27] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:03:27] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[16:03:27] - call getnewtransno(4,1,6,2019)
[16:03:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.*,checks.check_no ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id LEFT JOIN (
            SELECT a.trans_id,GROUP_CONCAT(b.check_no) AS check_no
            FROM trans_jbooks a
            LEFT JOIN trans_checks b ON b.jbooks_id = a.jbooks_id
            WHERE IFNULL(b.check_no,'') <> ''
            GROUP BY a.trans_id
        ) checks ON checks.trans_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:03:31] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '1015'
            
[16:03:31] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '1015'
[16:03:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_ewt WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_final_tax WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_input_vat WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_output_vat WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_prepaid WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_fixed_asset WHERE trans_id = 1015
[16:03:31] - SELECT * FROM select_checks WHERE trans_id = 1015
[16:03:31] - SELECT * FROM trans_header_particular WHERE trans_id = 1015
[16:51:34] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[16:51:37] - SELECT False AS sel,b.book_id,c.book_code,c.book_name,d.book_unit_no_name 
FROM erp_file_setup_accounting_frp.lib_erp_journal a 
LEFT JOIN erp_file_setup_accounting_frp.sys_acc_journal_book b ON b.journal_id = a.journal_id 
LEFT JOIN erp_file_setup_accounting_frp.lib_erp_book c ON c.book_id = b.book_id 
LEFT JOIN erp_file_setup_accounting_frp.lib_erp_book_unit_no d ON d.book_id = c.book_id 
WHERE a.journal_id IN (1,2,3,4,5,6,7) AND c.book_code IS NOT NULL AND c.company_id = '1' GROUP BY c.book_id 
[16:51:43] - ExecuteWithParameter : get_account_analysis_new
[16:51:43] - parameters : 'erp_accounting_frp','erp_file_setup_accounting_frp','','3','2019-01-01','2019-06-28','','','','1,2,3,4,5,6,7,8','1,2','','','2','1'
[16:51:43] - Execution Time: 2019-06-28 16:51:43
[16:51:46] - Done Time: 2019-06-28 16:51:46
[16:51:46] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_frp.sys_default a LEFT JOIN erp_file_setup_accounting_frp.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency c ON c.currency_id = a.currency_id
[16:52:01] - ExecuteWithParameter : get_account_analysis_new
[16:52:01] - parameters : 'erp_accounting_frp','erp_file_setup_accounting_frp','','3','2019-06-01','2019-06-28','','','','1,2,3,4,5,6,7,8','1,2','','','2','1'
[16:52:01] - Execution Time: 2019-06-28 16:52:01
[16:52:04] - Done Time: 2019-06-28 16:52:04
[16:52:04] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_frp.sys_default a LEFT JOIN erp_file_setup_accounting_frp.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency c ON c.currency_id = a.currency_id
[16:53:02] - Exception from HRESULT: 0x800AC472
[16:53:04] - Exception from HRESULT: 0x800AC472
[16:53:07] - SELECT * FROM lib_erp_chart 
[16:53:11] - ExecuteWithParameter : get_account_analysis_new
[16:53:11] - parameters : 'erp_accounting_frp','erp_file_setup_accounting_frp','','3','2019-06-01','2019-06-28','','','','1,2,3,4,5,6,7,8','1,2','','380','2','1'
[16:53:11] - Execution Time: 2019-06-28 16:53:11
[16:53:14] - Done Time: 2019-06-28 16:53:14
[16:53:14] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_frp.sys_default a LEFT JOIN erp_file_setup_accounting_frp.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency c ON c.currency_id = a.currency_id
[16:53:29] - ExecuteWithParameter : get_account_analysis_new
[16:53:29] - parameters : 'erp_accounting_frp','erp_file_setup_accounting_frp','','3','2019-05-01','2019-06-28','','','','1,2,3,4,5,6,7,8','1,2','','380','2','1'
[16:53:30] - Execution Time: 2019-06-28 16:53:30
[16:53:32] - Done Time: 2019-06-28 16:53:32
[16:53:32] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_frp.sys_default a LEFT JOIN erp_file_setup_accounting_frp.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_frp.lib_erp_currency c ON c.currency_id = a.currency_id
[16:57:17] - ----- Accounting Start -----
[16:57:17] - Main Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_accounting_morning;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:57:17] - FS Connection String = Server=192.168.10.200;User Id=dbadmin;Password=P@$$w0rd;Database=erp_file_setup_accounting_morning;Port=3858;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:57:23] - Login Button Click
[16:57:23] - SELECT user_id FROM erp_file_setup_accounting_morning.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:57:23] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-28 16:57:23',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:57:26] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-28 16:57:23' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:57:26] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:57:26] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_morning.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_morning.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_morning.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_morning.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:57:26] - SELECT module_code FROM erp_file_setup_accounting_morning.sys_erp_modules WHERE system_id = 2 
[16:57:26] - select * from lib_erp_journal
[16:57:26] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_morning.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_morning.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:57:27] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_morning.sys_erp_modules b on a.module_id = b.module_id
[16:57:27] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:57:27] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:57:27] - End of Initialization
[16:57:33] - ----- Accounting Close -----