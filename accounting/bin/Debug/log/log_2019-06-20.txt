Log for Debugging - 06/20/2019
[10:15:37] - ----- Accounting Start -----
[10:15:37] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:15:37] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:15:42] - Login Button Click
[10:15:43] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[10:15:43] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 10:15:43',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[10:15:43] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 10:15:43' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[10:15:44] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[10:15:44] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[10:15:44] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[10:15:44] - select * from lib_erp_journal
[10:15:44] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[10:15:44] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[10:15:46] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[10:15:46] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[10:15:46] - End of Initialization
[10:16:20] - ----- Accounting Start -----
[10:16:20] - Main Connection String = Server=192.168.1.46;User Id=root;Password=root;Database=erp_accounting_nhi;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:16:20] - FS Connection String = Server=192.168.1.46;User Id=root;Password=root;Database=erp_fs_alhi;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:16:23] - Login Button Click
[10:16:23] - SELECT user_id FROM erp_fs_alhi.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[10:16:23] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 10:16:23',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[10:16:23] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 10:16:23' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[10:16:23] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[10:16:23] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_alhi.sys_erp_modules a LEFT JOIN erp_fs_alhi.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_alhi.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_alhi.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[10:16:24] - SELECT module_code FROM erp_fs_alhi.sys_erp_modules WHERE system_id = 2 
[10:16:24] - select * from lib_erp_journal
[10:16:24] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_alhi.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_alhi.lib_erp_currency c ON c.currency_id = a.currency_id 
[10:16:24] - select a.*,b.module_code from sys_default_det a inner join erp_fs_alhi.sys_erp_modules b on a.module_id = b.module_id
[10:16:24] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '6'
[10:16:24] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[10:16:24] - End of Initialization
[10:16:39] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[10:16:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[10:16:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '434'
[10:48:21] - ----- Accounting Start -----
[10:48:21] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:48:21] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:48:24] - Login Button Click
[10:48:24] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[10:48:24] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 10:48:24',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[10:48:24] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 10:48:24' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[10:48:24] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[10:48:24] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_ngg.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[10:48:25] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[10:48:25] - select * from lib_erp_journal
[10:48:25] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[10:48:25] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[10:48:25] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[10:48:25] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[10:48:25] - End of Initialization
[11:29:57] - ----- Accounting Start -----
[11:29:57] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:29:57] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[11:30:01] - Login Button Click
[11:30:01] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[11:30:01] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 11:30:01',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[11:30:01] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 11:30:01' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[11:30:01] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[11:30:01] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_ngg.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[11:30:01] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[11:30:02] - select * from lib_erp_journal
[11:30:02] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[11:30:02] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[11:30:02] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[11:30:02] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[11:30:02] - End of Initialization
[13:06:12] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[13:06:13] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[13:06:13] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:06:14] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10144'
            
[13:06:14] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10144'
[13:06:14] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_ewt WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_final_tax WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_input_vat WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_output_vat WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_prepaid WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_fixed_asset WHERE trans_id = 10144
[13:06:16] - SELECT * FROM select_checks WHERE trans_id = 10144
[13:06:16] - SELECT * FROM trans_header_particular WHERE trans_id = 10144
[13:06:17] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[13:06:18] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[13:06:18] - call getnewtransno(4,11,6,2019)
[13:06:21] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[13:06:22] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[13:06:26] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[13:06:28] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[13:06:28] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:06:28] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10137'
[13:06:29] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10137'
[13:06:29] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10137
[13:06:29] - SELECT * FROM select_ewt WHERE trans_id = 10137
[13:06:29] - SELECT * FROM select_final_tax WHERE trans_id = 10137
[13:06:29] - SELECT * FROM select_input_vat WHERE trans_id = 10137
[13:06:29] - SELECT * FROM select_output_vat WHERE trans_id = 10137
[13:06:30] - SELECT * FROM select_prepaid WHERE trans_id = 10137
[13:06:30] - SELECT * FROM select_fixed_asset WHERE trans_id = 10137
[13:06:30] - SELECT * FROM select_checks WHERE trans_id = 10137
[13:06:30] - SELECT * FROM trans_header_particular WHERE trans_id = 10137
[13:06:33] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10136'
[13:06:33] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10136'
[13:06:33] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10136
[13:06:34] - SELECT * FROM select_ewt WHERE trans_id = 10136
[13:06:34] - SELECT * FROM select_final_tax WHERE trans_id = 10136
[13:06:34] - SELECT * FROM select_input_vat WHERE trans_id = 10136
[13:06:34] - SELECT * FROM select_output_vat WHERE trans_id = 10136
[13:06:34] - SELECT * FROM select_prepaid WHERE trans_id = 10136
[13:06:35] - SELECT * FROM select_fixed_asset WHERE trans_id = 10136
[13:06:35] - SELECT * FROM select_checks WHERE trans_id = 10136
[13:06:35] - SELECT * FROM trans_header_particular WHERE trans_id = 10136
[13:06:43] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[13:06:44] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[13:06:52] - SELECT * FROM lib_erp_chart
[13:06:56] - SELECT * FROM lib_erp_project
[13:06:58] - SELECT * FROM lib_erp_department
[13:07:02] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[13:07:03] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.debit,(a.credit - IF(j.debit IS NULL,0,j.debit)) AS tmp_amount,0 AS debit ,a.debit_based,0 AS debit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ap_id AS jbooks_terms_id,IFNULL(k.nodays,0) AS nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.rr_no,n.rr_no) AS rr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name
                ,g.unit_applicable,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name ,c.description,a.line_remarks AS particulars 
FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT ref_jbooks_id AS jbooks_id,SUM(debit) AS debit FROM trans_jbooks GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ap k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ap n ON n.trans_id = c.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id WHERE a.account_id = 182 AND c.trans_date <= '2019-6-20' AND a.general_id = '215' AND a.currency_id = '1' AND a.project_id  = 12 AND a.department_id  = 8 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.credit - IF(j.debit IS NULL,0,j.debit)) <> 0 
[13:07:09] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,0 AS amount_collected,0 AS amount_collected_based
            ,c.sc_year,d.project_code,d.project_name,b.description
            ,IFNULL(a.billed_amount,0) - IFNULL(sc_offset.amount_collected,0) AS variance
            ,IFNULL(a.billed_amount_based,0) - IFNULL(sc_offset.amount_collected_based,0) AS variance_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
                
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(sc_offset.amount_collected,0) <> 0 
[13:07:11] - SEL: jbooks_id = '' AND ref_jbooks_id = '45805' , FOUND: 0
[13:07:11] - SEL: jbooks_id = '' AND ref_jbooks_id = '45827' , FOUND: 0
[13:07:14] - SELECT * FROM lib_erp_chart
[13:07:17] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:07:18] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10144'
            
[13:07:18] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10144'
[13:07:18] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10144
[13:07:18] - SELECT * FROM select_ewt WHERE trans_id = 10144
[13:07:18] - SELECT * FROM select_final_tax WHERE trans_id = 10144
[13:07:18] - SELECT * FROM select_input_vat WHERE trans_id = 10144
[13:07:19] - SELECT * FROM select_output_vat WHERE trans_id = 10144
[13:07:19] - SELECT * FROM select_prepaid WHERE trans_id = 10144
[13:07:19] - SELECT * FROM select_fixed_asset WHERE trans_id = 10144
[13:07:19] - SELECT * FROM select_checks WHERE trans_id = 10144
[13:07:19] - SELECT * FROM trans_header_particular WHERE trans_id = 10144
[13:07:19] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[13:07:19] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 4
[13:07:19] - call getnewtransno(4,11,6,2019)
[13:07:24] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[13:07:24] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[13:07:26] - SELECT * FROM lib_erp_chart
[13:07:32] - SELECT * FROM lib_erp_project
[13:07:34] - SELECT * FROM lib_erp_department
[13:07:39] - SELECT * FROM lib_erp_project
[13:07:39] - SELECT * FROM lib_erp_department
[13:07:41] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[13:07:41] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.debit,(a.credit - IF(j.debit IS NULL,0,j.debit)) AS tmp_amount,0 AS debit ,a.debit_based,0 AS debit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ap_id AS jbooks_terms_id,IFNULL(k.nodays,0) AS nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.rr_no,n.rr_no) AS rr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name
                ,g.unit_applicable,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name ,c.description,a.line_remarks AS particulars 
FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_fs_ngg.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_fs_ngg.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_fs_ngg.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_fs_ngg.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_fs_ngg.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT ref_jbooks_id AS jbooks_id,SUM(debit) AS debit FROM trans_jbooks GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_ngg.trans_jbooks_ap k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_fs_ngg.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_fs_ngg.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_ngg.trans_header_ap n ON n.trans_id = c.trans_id LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id WHERE a.account_id = 182 AND c.trans_date <= '2019-6-20' AND a.general_id = '215' AND a.currency_id = '1' AND a.project_id  = 12 AND a.department_id  = 8 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.credit - IF(j.debit IS NULL,0,j.debit)) <> 0 
[13:07:44] - SEL: jbooks_id = '' AND ref_jbooks_id = '45805' , FOUND: 0
[13:07:44] - SEL: jbooks_id = '' AND ref_jbooks_id = '45827' , FOUND: 0
[13:07:47] - SELECT * FROM lib_erp_chart
[13:07:49] - SELECT * FROM lib_erp_project
[13:07:51] - SELECT * FROM lib_erp_department
[13:07:57] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1003'
[13:07:58] - SELECT b.ref_no,c.trans_no FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id WHERE a.jbooks_id = 'tmp_20190620130746'
[13:07:58] - SELECT trans_no FROM trans_header WHERE trans_id = ''
[13:08:00] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[13:08:01] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = '' AND bank_id = '54' AND check_id <> '' 
[13:08:02] - SEL: jbooks_id = 'tmp_20190620130746' AND check_id = '' AND check_no = '' , FOUND: 0
[13:08:04] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2019-06-20' BETWEEN date_from AND date_to
[13:08:04] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'CV-2019-06-00023-B1' AND trans_id <> '' AND journal_id = '4'
[13:08:04] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|CV-2019-06-00023-B1|2019-06-20|11|4|215|1|1.0000000000|1.0000000000|35037.34|35037.34|
SI#:757693;757696;757846;757848;758308;758309;758310;757847 - Payment for materials for repairs at VF and MV|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:08:05] - CALL submitapproval('ACC00401',10145,1);
[13:08:05] - CALL SaveTransaction('Insert','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','|10145|||','trans_cv_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:08:05] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10145|12|8||||182|SI#:757693;757696;757846;757848;758308;758309;758310;757847 - Payment for materials for repairs at VF and MV|35037.3400000000|0|1|1.0000000000|1.0000000000|35037.3400000000|0|215|45805|','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:08:05] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(10145,2)  AND  ROUND(project_id,2) = ROUND(12,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(182,2)  AND  line_remarks = 'SI#:757693;757696;757846;757848;758308;758309;758310;757847 - Payment for materials for repairs at VF and MV'  AND  ROUND(debit,2) = ROUND(35037.3400000000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(35037.3400000000,2)  AND  ROUND(general_id,2) = ROUND(215,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(45805,2) 
[13:08:05] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10145|12|8||||3||0|35037.34|1|1.0000000000|1.0000000000|0|35037.34|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:08:06] - CALL SaveTransaction('Insert','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','|45845|215||2019-06-20|35037.34|0|54|0|0|0|0|1||2019-06-20|2019-06-20|0|1|1.0000000000|1.0000000000|','check_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:08:06] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:08:07] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10145'
            
[13:08:07] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10145'
[13:08:07] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10145
[13:08:08] - SELECT * FROM select_ewt WHERE trans_id = 10145
[13:08:08] - SELECT * FROM select_final_tax WHERE trans_id = 10145
[13:08:08] - SELECT * FROM select_input_vat WHERE trans_id = 10145
[13:08:08] - SELECT * FROM select_output_vat WHERE trans_id = 10145
[13:08:08] - SELECT * FROM select_prepaid WHERE trans_id = 10145
[13:08:09] - SELECT * FROM select_fixed_asset WHERE trans_id = 10145
[13:08:09] - SELECT * FROM select_checks WHERE trans_id = 10145
[13:08:09] - SELECT * FROM trans_header_particular WHERE trans_id = 10145
[13:08:24] - SELECT account_id,account_code,account_name FROM lib_erp_chart WHERE IFNULL(validation,0) = 1;
[13:08:30] - CALL cancelTransaction('10145','1872')
[13:08:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:08:31] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10145'
            
[13:08:31] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10145'
[13:08:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_ewt WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_final_tax WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_input_vat WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_output_vat WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_prepaid WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 10145
[13:08:32] - SELECT * FROM select_checks WHERE trans_id = 10145
[13:08:33] - SELECT * FROM trans_header_particular WHERE trans_id = 10145
[13:08:35] - SELECT account_id,account_code,account_name FROM lib_erp_chart WHERE IFNULL(validation,0) = 1;
[13:08:40] - SELECT account_id,account_code,account_name FROM lib_erp_chart WHERE IFNULL(validation,0) = 1;
[13:08:44] - ExecuteWithParameter : get_trans_apcv
[13:08:44] - parameters : 'erp_accounting_ngg','erp_fs_ngg','10136'
[13:08:44] - Execution Time: 2019-06-20 13:08:44
[13:08:50] - Done Time: 2019-06-20 13:08:50
[13:08:50] - ExecuteWithParameter : get_trans_apcv_det
[13:08:50] - parameters : 'erp_accounting_ngg','erp_fs_ngg','10136'
[13:08:50] - Execution Time: 2019-06-20 13:08:50
[13:08:53] - Done Time: 2019-06-20 13:08:53
[13:08:53] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1002'
[13:08:56] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[13:08:59] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = 'a' AND bank_id = '53' AND check_id <> '' 
[13:09:00] - SEL: jbooks_id = 'tmp_20190620130853310_cash' AND check_id = '' AND check_no = 'a' , FOUND: 0
[13:09:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[13:09:04] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2019-06-19' BETWEEN date_from AND date_to
[13:09:04] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '2019-06-143' AND trans_id <> '' AND journal_id = '4'
[13:09:04] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|2019-06-143|2019-06-19|11|4|215|1|1.0000000000|1.0000000000|37664.0000000000|37664.0000000000|SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:09:04] - CALL submitapproval('ACC00401',10146,1);
[13:09:04] - CALL SaveTransaction('Insert','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','|10146|||','trans_cv_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:09:05] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10146|12|8||||182|SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV|37664.0000000000|0.0|1|1.0000000000|1.0000000000|37664.000000000000000000000000|0.0|215|45827|','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:09:05] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(10146,2)  AND  ROUND(project_id,2) = ROUND(12,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(182,2)  AND  line_remarks = 'SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV'  AND  ROUND(debit,2) = ROUND(37664.0000000000,2)  AND  ROUND(credit,2) = ROUND(0.0,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(37664.000000000000000000000000,2)  AND  ROUND(credit_based,2) = ROUND(0.0,2)  AND  ROUND(general_id,2) = ROUND(215,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(45827,2) 
[13:09:05] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10146|12|8||||2||0|37664.0000000000|1|1.0000000000|1.0000000000|0|37664.0000000000|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:09:05] - CALL SaveTransaction('Insert','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','|45847|215|a|2019-06-19|37664.00|0|53|0|0|0|0|0||2019-06-19|2019-06-19|0|1|1.0000000000|1.0000000000|','check_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:09:31] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[13:09:33] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[13:09:33] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:09:34] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10145'
            
[13:09:34] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10145'
[13:09:34] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_ewt WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_final_tax WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_input_vat WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_output_vat WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_prepaid WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_fixed_asset WHERE trans_id = 10145
[13:09:35] - SELECT * FROM select_checks WHERE trans_id = 10145
[13:09:36] - SELECT * FROM trans_header_particular WHERE trans_id = 10145
[13:09:37] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:09:38] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10146'
            
[13:09:38] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10146'
[13:09:38] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10146
[13:09:38] - SELECT * FROM select_ewt WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_final_tax WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_input_vat WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_output_vat WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_prepaid WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_fixed_asset WHERE trans_id = 10146
[13:09:39] - SELECT * FROM select_checks WHERE trans_id = 10146
[13:09:39] - SELECT * FROM trans_header_particular WHERE trans_id = 10146
[13:09:48] - CALL cancelTransaction('10146','1872')
[13:09:49] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:09:49] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10146'
            
[13:09:49] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10146'
[13:09:50] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10146
[13:09:50] - SELECT * FROM select_ewt WHERE trans_id = 10146
[13:09:50] - SELECT * FROM select_final_tax WHERE trans_id = 10146
[13:09:50] - SELECT * FROM select_input_vat WHERE trans_id = 10146
[13:09:51] - SELECT * FROM select_output_vat WHERE trans_id = 10146
[13:09:51] - SELECT * FROM select_prepaid WHERE trans_id = 10146
[13:09:51] - SELECT * FROM select_fixed_asset WHERE trans_id = 10146
[13:09:51] - SELECT * FROM select_checks WHERE trans_id = 10146
[13:09:51] - SELECT * FROM trans_header_particular WHERE trans_id = 10146
[13:09:53] - ExecuteWithParameter : acc_get_pending_ap
[13:09:53] - parameters : 'erp_fs_ngg',''
[13:09:53] - Execution Time: 2019-06-20 13:09:53
[13:09:57] - Done Time: 2019-06-20 13:09:57
[13:10:14] - SELECT book_id,book_code,book_name FROM lib_erp_book WHERE company_id = '1';
[13:10:14] - ExecuteWithParameter : acc_get_pending_ap
[13:10:14] - parameters : 'erp_fs_ngg',''
[13:10:14] - Execution Time: 2019-06-20 13:10:14
[13:10:16] - Done Time: 2019-06-20 13:10:16
[13:10:19] - SELECT account_id,account_code,account_name FROM lib_erp_chart WHERE IFNULL(validation,0) = 1;
[13:10:21] - ExecuteWithParameter : get_trans_apcv
[13:10:21] - parameters : 'erp_accounting_ngg','erp_fs_ngg','30','859',''
[13:10:21] - Execution Time: 2019-06-20 13:10:21
[13:10:23] - Done Time: 2019-06-20 13:10:23
[13:10:23] - ExecuteWithParameter : get_trans_apcv_new
[13:10:23] - parameters : 'erp_accounting_ngg','erp_fs_ngg','30','859',''
[13:10:23] - Execution Time: 2019-06-20 13:10:23
[13:10:26] - Done Time: 2019-06-20 13:10:26
[13:10:27] - ExecuteWithParameter : acc_get_pending_ap
[13:10:27] - parameters : 'erp_fs_ngg',''
[13:10:28] - Execution Time: 2019-06-20 13:10:28
[13:10:31] - Done Time: 2019-06-20 13:10:31
[13:10:34] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '4' AND b.company_id = '1' ORDER BY b.book_code 
[13:10:37] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[13:10:37] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:10:38] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10145'
            
[13:10:38] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10145'
[13:10:38] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_ewt WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_final_tax WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_input_vat WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_output_vat WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_prepaid WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_fixed_asset WHERE trans_id = 10145
[13:10:39] - SELECT * FROM select_checks WHERE trans_id = 10145
[13:10:39] - SELECT * FROM trans_header_particular WHERE trans_id = 10145
[13:10:42] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:10:43] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10146'
            
[13:10:43] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10146'
[13:10:43] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_ewt WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_final_tax WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_input_vat WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_output_vat WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_prepaid WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_fixed_asset WHERE trans_id = 10146
[13:10:44] - SELECT * FROM select_checks WHERE trans_id = 10146
[13:10:44] - SELECT * FROM trans_header_particular WHERE trans_id = 10146
[13:10:54] - ExecuteWithParameter : get_trans_apcv
[13:10:54] - parameters : 'erp_accounting_ngg','erp_fs_ngg','10136','45827',''
[13:10:54] - Execution Time: 2019-06-20 13:10:54
[13:10:57] - Done Time: 2019-06-20 13:10:57
[13:10:57] - ExecuteWithParameter : get_trans_apcv_new
[13:10:57] - parameters : 'erp_accounting_ngg','erp_fs_ngg','10136','45827',''
[13:10:57] - Execution Time: 2019-06-20 13:10:57
[13:11:00] - Done Time: 2019-06-20 13:11:00
[13:11:00] - SELECT bank_id,bank_code,bank_name FROM lib_erp_bank WHERE bank_code = '1-1002'
[13:11:02] - select * from lib_erp_general ORDER BY FIELD(category_id,1,2),general_code ASC
[13:11:04] - SELECT check_no, bank_id as bank_code FROM erp_accounting_ngg.trans_checks WHERE check_no = 'a' AND bank_id = '53' AND check_id <> '' 
[13:11:08] - SEL: jbooks_id = 'tmp_20190620131100900_cash' AND check_id = '' AND check_no = 'a' , FOUND: 0
[13:11:08] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00401'
[13:11:12] - ExecuteWithParameter : acc_get_pending_ap
[13:11:12] - parameters : 'erp_fs_ngg',''
[13:11:12] - Execution Time: 2019-06-20 13:11:12
[13:11:15] - Done Time: 2019-06-20 13:11:15
[13:11:17] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2019-06-19' BETWEEN date_from AND date_to
[13:11:20] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '2019-06-143' AND trans_id <> '' AND journal_id = '4'
[13:11:24] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '4' AND '2019-06-19' BETWEEN date_from AND date_to
[13:11:24] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = '2019-06-143A' AND trans_id <> '' AND journal_id = '4'
[13:11:24] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|2019-06-143A|2019-06-19|11|4|215|1|1.0000000000|1.0000000000|37664.0000000000|37664.0000000000|SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:11:26] - CALL submitapproval('ACC00401',10147,1);
[13:11:26] - CALL SaveTransaction('Insert','trans_header_cv','trans_cv_id,trans_id,si_no,rr_no','|10147|||','trans_cv_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:11:27] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10147|12|8||||182|SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV|37664.0000000000|0.0|1|1.0000000000|1.0000000000|37664.000000000000000000000000|0.0|215|45827|','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:11:27] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(10147,2)  AND  ROUND(project_id,2) = ROUND(12,2)  AND  ROUND(department_id,2) = ROUND(8,2)  AND  ROUND(account_id,2) = ROUND(182,2)  AND  line_remarks = 'SI#:757373;757375;757268;757372;3757356;3757369 - Payment for materials for various repairs at VF, MV, and CV'  AND  ROUND(debit,2) = ROUND(37664.0000000000,2)  AND  ROUND(credit,2) = ROUND(0.0,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(37664.000000000000000000000000,2)  AND  ROUND(credit_based,2) = ROUND(0.0,2)  AND  ROUND(general_id,2) = ROUND(215,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(45827,2) 
[13:11:27] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|10147|12|8||||2||0|37664.0000000000|1|1.0000000000|1.0000000000|0|37664.0000000000|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:11:28] - CALL SaveTransaction('Insert','trans_checks','check_id,jbooks_id,general_id,check_no,check_date,check_amount,check_amount_based,bank_id,cleared,cancelled,crossed,isPDC,isCash,replacement_check_no,cleared_date,cancel_date,replaced,currency_id,exchange_rate,based_rate','|45849|215|a|2019-06-19|37664.00|0|53|0|0|0|0|0||2019-06-19|2019-06-19|0|1|1.0000000000|1.0000000000|','check_id','','DESKTOP-PL80BO2','Raymond T. Villegas','1872');
[13:11:33] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:11:34] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10146'
            
[13:11:34] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10146'
[13:11:35] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_ewt WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_final_tax WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_input_vat WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_output_vat WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_prepaid WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_fixed_asset WHERE trans_id = 10146
[13:11:36] - SELECT * FROM select_checks WHERE trans_id = 10146
[13:11:37] - SELECT * FROM trans_header_particular WHERE trans_id = 10146
[13:11:38] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:11:40] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10147'
            
[13:11:40] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10147'
[13:11:40] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_ewt WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_final_tax WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_input_vat WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_output_vat WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_prepaid WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_fixed_asset WHERE trans_id = 10147
[13:11:41] - SELECT * FROM select_checks WHERE trans_id = 10147
[13:11:41] - SELECT * FROM trans_header_particular WHERE trans_id = 10147
[13:13:56] - CALL cancelTransaction('10147','1872')
[13:13:57] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cv_id,'') AS trans_cv_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cv b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '4' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[13:13:57] - SELECT a.offset_sub_contract_id,a.jbooks_id,a.trans_sub_contract_id,a.amount_collected,a.amount_collected_based
            ,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
            FROM trans_sub_contract_offset a
            LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
            WHERE b.trans_id = '10147'
            
[13:13:57] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10147'
[13:13:57] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_ewt WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_final_tax WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_input_vat WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_output_vat WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_prepaid WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_fixed_asset WHERE trans_id = 10147
[13:13:58] - SELECT * FROM select_checks WHERE trans_id = 10147
[13:13:59] - SELECT * FROM trans_header_particular WHERE trans_id = 10147
[13:14:01] - ----- Accounting Close -----
[14:12:45] - ----- Accounting Start -----
[14:12:45] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:12:45] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:55:29] - Login Button Click
[14:55:29] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:55:29] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 14:55:29',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:55:29] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 14:55:29' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:55:29] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:55:30] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_ngg.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:55:30] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[14:55:30] - select * from lib_erp_journal
[14:55:30] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:55:31] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[14:55:32] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:55:33] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:55:33] - End of Initialization
[14:55:39] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[14:55:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '11'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '11'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '108'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '108'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '430'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '430'
[14:55:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '430'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '430'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '11'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '11'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '108'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '108'
[14:55:46] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '213'
[14:55:49] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 213 
[14:55:52] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement','213|2-4006|PAG-IBIG PREMIUM PAYABLE|3|2017-12-31T00:00:00|3||0|0|','account_id','213','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[14:55:52] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','870|21|213|','chart_group_id','870','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[14:55:53] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[14:55:54] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '213'
[14:55:54] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:55:54] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '213'
[14:55:57] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[14:55:59] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[14:55:59] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[14:55:59] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10137'
[14:55:59] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10137'
[14:56:00] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_ewt WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_final_tax WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_input_vat WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_output_vat WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_prepaid WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_fixed_asset WHERE trans_id = 10137
[14:56:01] - SELECT * FROM select_checks WHERE trans_id = 10137
[14:56:02] - SELECT * FROM trans_header_particular WHERE trans_id = 10137
[14:56:05] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10136'
[14:56:05] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10136'
[14:56:05] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_ewt WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_final_tax WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_input_vat WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_output_vat WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_prepaid WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_fixed_asset WHERE trans_id = 10136
[14:56:06] - SELECT * FROM select_checks WHERE trans_id = 10136
[14:56:06] - SELECT * FROM trans_header_particular WHERE trans_id = 10136
[14:56:08] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10135'
[14:56:08] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10135'
[14:56:08] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10135
[14:56:09] - SELECT * FROM select_ewt WHERE trans_id = 10135
[14:56:09] - SELECT * FROM select_final_tax WHERE trans_id = 10135
[14:56:09] - SELECT * FROM select_input_vat WHERE trans_id = 10135
[14:56:09] - SELECT * FROM select_output_vat WHERE trans_id = 10135
[14:56:10] - SELECT * FROM select_prepaid WHERE trans_id = 10135
[14:56:10] - SELECT * FROM select_fixed_asset WHERE trans_id = 10135
[14:56:10] - SELECT * FROM select_checks WHERE trans_id = 10135
[14:56:10] - SELECT * FROM trans_header_particular WHERE trans_id = 10135
[14:56:11] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10134'
[14:56:11] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10134'
[14:56:11] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_ewt WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_final_tax WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_input_vat WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_output_vat WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_prepaid WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_fixed_asset WHERE trans_id = 10134
[14:56:12] - SELECT * FROM select_checks WHERE trans_id = 10134
[14:56:12] - SELECT * FROM trans_header_particular WHERE trans_id = 10134
[14:56:13] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10133'
[14:56:13] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10133'
[14:56:13] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10133
[14:56:14] - SELECT * FROM select_ewt WHERE trans_id = 10133
[14:56:14] - SELECT * FROM select_final_tax WHERE trans_id = 10133
[14:56:14] - SELECT * FROM select_input_vat WHERE trans_id = 10133
[14:56:14] - SELECT * FROM select_output_vat WHERE trans_id = 10133
[14:56:15] - SELECT * FROM select_prepaid WHERE trans_id = 10133
[14:56:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 10133
[14:56:15] - SELECT * FROM select_checks WHERE trans_id = 10133
[14:56:15] - SELECT * FROM trans_header_particular WHERE trans_id = 10133
[14:56:15] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='10132'
[14:56:15] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '10132'
[14:56:15] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_ewt WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_final_tax WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_input_vat WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_output_vat WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_prepaid WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_fixed_asset WHERE trans_id = 10132
[14:56:16] - SELECT * FROM select_checks WHERE trans_id = 10132
[14:56:16] - SELECT * FROM trans_header_particular WHERE trans_id = 10132
[14:56:22] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[14:56:23] - SELECT False AS sel2,a.project_id AS book_id,a.project_unit_no_codes AS book_unit_no_name,a.project_unit_no_id AS book_unit_no_id
        FROM erp_fs_ngg.lib_erp_project_unit_no a  ORDER BY a.project_unit_no_codes DESC 
[14:56:28] - SELECT * FROM lib_erp_chart 
[14:56:33] - SELECT False AS sel,b.book_id,c.book_code,c.book_name,d.book_unit_no_name 
FROM erp_fs_ngg.lib_erp_journal a 
LEFT JOIN erp_fs_ngg.sys_acc_journal_book b ON b.journal_id = a.journal_id 
LEFT JOIN erp_fs_ngg.lib_erp_book c ON c.book_id = b.book_id 
LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no d ON d.book_id = c.book_id 
WHERE a.journal_id IN (1,2,3,4,5,6,7) AND c.book_code IS NOT NULL AND c.company_id = '1' GROUP BY c.book_id 
[14:56:37] - ExecuteWithParameter : get_account_analysis_new
[14:56:37] - parameters : 'erp_accounting_ngg','erp_fs_ngg','','2','2019-01-01','2019-06-20','','','','1,2,3,4,5,6,7,8','11','','213','2','1'
[14:56:37] - Execution Time: 2019-06-20 14:56:37
[14:56:43] - Done Time: 2019-06-20 14:56:43
[14:56:43] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_ngg.sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id
[14:57:15] - SELECT * FROM lib_erp_chart 
[14:57:26] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '210'
[14:57:26] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[14:57:28] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 209 
[14:57:30] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement','209|2-4002|SSS PREMIUM PAYABLE|3|2017-12-31T00:00:00|3||0|0|','account_id','209','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[14:57:30] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','866|21|209|','chart_group_id','866','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[14:57:32] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[14:57:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[14:57:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:57:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[14:57:34] - SELECT * FROM lib_erp_chart 
[14:57:40] - ExecuteWithParameter : get_account_analysis_new
[14:57:40] - parameters : 'erp_accounting_ngg','erp_fs_ngg','','2','2019-01-01','2019-06-20','','','','1,2,3,4,5,6,7,8','11','','209','2','1'
[14:57:40] - Execution Time: 2019-06-20 14:57:40
[14:57:47] - Done Time: 2019-06-20 14:57:47
[14:57:47] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_ngg.sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id
[14:58:11] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[14:58:12] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='9800'
[14:58:12] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '9800'
[14:58:12] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_ewt WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_final_tax WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_input_vat WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_output_vat WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_prepaid WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_fixed_asset WHERE trans_id = 9800
[14:58:13] - SELECT * FROM select_checks WHERE trans_id = 9800
[14:58:13] - SELECT * FROM trans_header_particular WHERE trans_id = 9800
[14:58:20] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[14:58:20] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='9558'
[14:58:20] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '9558'
[14:58:20] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_ewt WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_final_tax WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_input_vat WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_output_vat WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_prepaid WHERE trans_id = 9558
[14:58:21] - SELECT * FROM select_fixed_asset WHERE trans_id = 9558
[14:58:22] - SELECT * FROM select_checks WHERE trans_id = 9558
[14:58:22] - SELECT * FROM trans_header_particular WHERE trans_id = 9558
[14:58:31] - SELECT * FROM lib_erp_chart
[15:46:35] - SELECT * FROM lib_erp_chart
[15:46:37] - SELECT * FROM lib_erp_project
[15:46:38] - SELECT * FROM lib_erp_project
[15:46:49] - SELECT * FROM lib_erp_chart
[15:46:49] - SELECT * FROM lib_erp_project
[15:46:49] - SELECT * FROM lib_erp_department
[15:46:50] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[15:46:51] - SELECT * FROM lib_erp_terms WHERE terms_type = 2 or terms_type = 3
[15:46:56] - SELECT * FROM lib_erp_chart
[15:46:57] - SELECT * FROM lib_erp_project
[15:46:57] - SELECT * FROM lib_erp_department
[15:46:58] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,2,1),a.general_code ASC 
[15:47:00] - SELECT * FROM lib_erp_terms WHERE terms_type = 2 or terms_type = 3
[15:47:14] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[15:47:14] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='9558'
[15:47:14] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '9558'
[15:47:14] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_ewt WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_final_tax WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_input_vat WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_output_vat WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_prepaid WHERE trans_id = 9558
[15:47:16] - SELECT * FROM select_fixed_asset WHERE trans_id = 9558
[15:47:17] - SELECT * FROM select_checks WHERE trans_id = 9558
[15:47:17] - SELECT * FROM trans_header_particular WHERE trans_id = 9558
[15:47:26] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[15:47:27] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='9545'
[15:47:27] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '9545'
[15:47:27] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_ewt WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_final_tax WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_input_vat WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_output_vat WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_prepaid WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_fixed_asset WHERE trans_id = 9545
[15:47:28] - SELECT * FROM select_checks WHERE trans_id = 9545
[15:47:28] - SELECT * FROM trans_header_particular WHERE trans_id = 9545
[15:47:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-05' ORDER BY a.trans_no ASC 
[15:47:31] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='9558'
[15:47:31] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '9558'
[15:47:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 9558
[15:47:32] - SELECT * FROM select_ewt WHERE trans_id = 9558
[15:47:32] - SELECT * FROM select_final_tax WHERE trans_id = 9558
[15:47:32] - SELECT * FROM select_input_vat WHERE trans_id = 9558
[15:47:33] - SELECT * FROM select_output_vat WHERE trans_id = 9558
[15:47:33] - SELECT * FROM select_prepaid WHERE trans_id = 9558
[15:47:33] - SELECT * FROM select_fixed_asset WHERE trans_id = 9558
[15:47:33] - SELECT * FROM select_checks WHERE trans_id = 9558
[15:47:33] - SELECT * FROM trans_header_particular WHERE trans_id = 9558
[15:47:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '208'
[15:47:42] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:47:43] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 209 
[15:47:46] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement','209|2-4002|SSS PREMIUM PAYABLE|3|2017-12-31T00:00:00|3||0|0|','account_id','209','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[15:47:46] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','866|21|209|','chart_group_id','866','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[15:47:48] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[15:47:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:47:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:47:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:47:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '208'
[15:47:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:48:07] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 209 
[15:48:10] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement','209|2-4002|SSS PREMIUM PAYABLE|3|2017-12-31T00:00:00|3||0|0|','account_id','209','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[15:48:10] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','866|21|209|','chart_group_id','866','DESKTOP-PL80BO2','Raymond T. Villegas','1873');
[15:48:11] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[15:48:11] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:48:11] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:48:11] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:48:12] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '208'
[15:48:13] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:49:26] - ----- Accounting Close -----
[15:49:56] - ----- Accounting Start -----
[15:49:56] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:49:56] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:50:19] - Login Button Click
[15:50:19] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:50:19] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 15:50:19',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:50:19] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 15:50:19' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:50:19] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:50:20] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_ngg.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:50:20] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[15:50:20] - select * from lib_erp_journal
[15:50:20] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:50:21] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[15:50:22] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:50:23] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:50:23] - End of Initialization
[15:51:19] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[15:51:19] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:19] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:19] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:19] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:20] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:21] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:21] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:22] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:22] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '46'
[15:51:22] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '46'
[15:51:22] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:51:24] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 209 
[15:51:26] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement,noCompute','209|2-4002|SSS PREMIUM PAYABLE|3|2017-12-31T00:00:00|3||0|0|1|','account_id','209','DESKTOP-PL80BO2','Raymond T. Villegas','1874');
[15:51:27] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','866|21|209|','chart_group_id','866','DESKTOP-PL80BO2','Raymond T. Villegas','1874');
[15:51:29] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[15:51:29] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:51:29] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:29] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:51:31] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '210'
[15:51:33] - SELECT a.jbooks_id FROM erp_accounting_ngg.trans_jbooks a WHERE a.account_id = 210 
[15:51:34] - CALL SaveTransaction('Update','lib_erp_chart','account_id,account_code,account_name,chart_class_id,date,validation,description,unit_applicable,isRestatement,noCompute','210|2-4003|SSS LOAN PAYABLE|3|2017-12-31T00:00:00|3||0|0|1|','account_id','210','DESKTOP-PL80BO2','Raymond T. Villegas','1874');
[15:51:35] - CALL SaveTransaction('Update','lib_erp_chart_group','chart_group_id,group_id,account_id','867|21|210|','chart_group_id','867','DESKTOP-PL80BO2','Raymond T. Villegas','1874');
[15:51:36] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[15:51:37] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '210'
[15:51:37] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:37] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '210'
[15:51:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '210'
[15:51:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[15:51:39] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '46'
[15:51:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '46'
[15:51:40] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '209'
[15:51:41] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '339'
[15:51:47] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[15:51:54] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[15:51:54] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-05' ORDER BY a.trans_no ASC 
[15:51:55] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='4089'
[15:51:55] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '4089'
[15:51:56] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_ewt WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_final_tax WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_input_vat WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_output_vat WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_prepaid WHERE trans_id = 4089
[15:51:57] - SELECT * FROM select_fixed_asset WHERE trans_id = 4089
[15:51:58] - SELECT * FROM select_checks WHERE trans_id = 4089
[15:51:58] - SELECT * FROM trans_header_particular WHERE trans_id = 4089
[15:52:07] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-05' ORDER BY a.trans_no ASC 
[15:52:09] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='2560'
[15:52:09] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '2560'
[15:52:09] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_ewt WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_final_tax WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_input_vat WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_output_vat WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_prepaid WHERE trans_id = 2560
[15:52:10] - SELECT * FROM select_fixed_asset WHERE trans_id = 2560
[15:52:11] - SELECT * FROM select_checks WHERE trans_id = 2560
[15:52:11] - SELECT * FROM trans_header_particular WHERE trans_id = 2560
[15:52:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:52:30] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='23'
[15:52:31] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '23'
[15:52:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_ewt WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_final_tax WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_input_vat WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_output_vat WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_prepaid WHERE trans_id = 23
[15:52:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 23
[15:52:33] - SELECT * FROM select_checks WHERE trans_id = 23
[15:52:33] - SELECT * FROM trans_header_particular WHERE trans_id = 23
[15:52:40] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:52:42] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='44'
[15:52:42] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '44'
[15:52:42] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_ewt WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_final_tax WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_input_vat WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_output_vat WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_prepaid WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_fixed_asset WHERE trans_id = 44
[15:52:43] - SELECT * FROM select_checks WHERE trans_id = 44
[15:52:43] - SELECT * FROM trans_header_particular WHERE trans_id = 44
[15:52:53] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-01' ORDER BY a.trans_no ASC 
[15:52:54] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='37'
[15:52:54] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '37'
[15:52:54] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_ewt WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_final_tax WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_input_vat WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_output_vat WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_prepaid WHERE trans_id = 37
[15:52:55] - SELECT * FROM select_fixed_asset WHERE trans_id = 37
[15:52:56] - SELECT * FROM select_checks WHERE trans_id = 37
[15:52:56] - SELECT * FROM trans_header_particular WHERE trans_id = 37
[15:53:01] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[15:53:01] - SELECT False AS sel2,a.project_id AS book_id,a.project_unit_no_codes AS book_unit_no_name,a.project_unit_no_id AS book_unit_no_id
        FROM erp_fs_ngg.lib_erp_project_unit_no a  ORDER BY a.project_unit_no_codes DESC 
[15:53:09] - SELECT * FROM lib_erp_chart 
[15:53:16] - SELECT False AS sel,b.book_id,c.book_code,c.book_name,d.book_unit_no_name 
FROM erp_fs_ngg.lib_erp_journal a 
LEFT JOIN erp_fs_ngg.sys_acc_journal_book b ON b.journal_id = a.journal_id 
LEFT JOIN erp_fs_ngg.lib_erp_book c ON c.book_id = b.book_id 
LEFT JOIN erp_fs_ngg.lib_erp_book_unit_no d ON d.book_id = c.book_id 
WHERE a.journal_id IN (1,2,3,4,5,6,7) AND c.book_code IS NOT NULL AND c.company_id = '1' GROUP BY c.book_id 
[15:53:19] - ExecuteWithParameter : get_account_analysis_new
[15:53:19] - parameters : 'erp_accounting_ngg','erp_fs_ngg','','2','2019-01-01','2019-06-20','','','','1,2,3,4,5,6,7,8','11','','209','2','1'
[15:53:20] - Execution Time: 2019-06-20 15:53:20
[15:53:30] - Done Time: 2019-06-20 15:53:30
[15:53:30] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_ngg.sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id
[15:53:56] - ExecuteWithParameter : get_account_analysis_new
[15:53:56] - parameters : 'erp_accounting_ngg','erp_fs_ngg','','2','2019-01-01','2019-06-20','','','','1,2,3,4,5,6,7,8','11','','209','2','1'
[15:53:56] - Execution Time: 2019-06-20 15:53:56
[15:54:03] - Done Time: 2019-06-20 15:54:03
[15:54:03] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_ngg.sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id
[15:54:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:54:16] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='4805'
[15:54:16] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '4805'
[15:54:16] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_ewt WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_final_tax WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_input_vat WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_output_vat WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_prepaid WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_fixed_asset WHERE trans_id = 4805
[15:54:16] - SELECT * FROM select_checks WHERE trans_id = 4805
[15:54:17] - SELECT * FROM trans_header_particular WHERE trans_id = 4805
[15:54:20] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:54:20] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='3957'
[15:54:20] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '3957'
[15:54:20] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 3957
[15:54:21] - SELECT * FROM select_ewt WHERE trans_id = 3957
[15:54:21] - SELECT * FROM select_final_tax WHERE trans_id = 3957
[15:54:21] - SELECT * FROM select_input_vat WHERE trans_id = 3957
[15:54:21] - SELECT * FROM select_output_vat WHERE trans_id = 3957
[15:54:21] - SELECT * FROM select_prepaid WHERE trans_id = 3957
[15:54:22] - SELECT * FROM select_fixed_asset WHERE trans_id = 3957
[15:54:22] - SELECT * FROM select_checks WHERE trans_id = 3957
[15:54:22] - SELECT * FROM trans_header_particular WHERE trans_id = 3957
[15:54:29] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:54:30] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='3664'
[15:54:30] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '3664'
[15:54:30] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_ewt WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_final_tax WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_input_vat WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_output_vat WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_prepaid WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_fixed_asset WHERE trans_id = 3664
[15:54:31] - SELECT * FROM select_checks WHERE trans_id = 3664
[15:54:31] - SELECT * FROM trans_header_particular WHERE trans_id = 3664
[15:54:38] - ExecuteWithParameter : get_account_analysis_new
[15:54:38] - parameters : 'erp_accounting_ngg','erp_fs_ngg','','2','2019-01-01','2019-06-20','','','','1,2,3,4,5,6,7,8','11','','209','2','1'
[15:54:38] - Execution Time: 2019-06-20 15:54:38
[15:54:44] - Done Time: 2019-06-20 15:54:44
[15:54:44] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_ngg.sys_default a LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id
[15:54:53] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:54:53] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='3721'
[15:54:53] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '3721'
[15:54:53] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 3721
[15:54:54] - SELECT * FROM select_ewt WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_final_tax WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_input_vat WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_output_vat WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_prepaid WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_fixed_asset WHERE trans_id = 3721
[15:54:55] - SELECT * FROM select_checks WHERE trans_id = 3721
[15:54:55] - SELECT * FROM trans_header_particular WHERE trans_id = 3721
[15:55:05] - SELECT * FROM lib_erp_chart
[15:55:13] - SELECT * FROM lib_erp_chart
[15:57:26] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[15:57:29] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[15:57:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:57:30] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='4805'
[15:57:30] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '4805'
[15:57:30] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 4805
[15:57:30] - SELECT * FROM select_ewt WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_final_tax WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_input_vat WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_output_vat WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_prepaid WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_fixed_asset WHERE trans_id = 4805
[15:57:31] - SELECT * FROM select_checks WHERE trans_id = 4805
[15:57:31] - SELECT * FROM trans_header_particular WHERE trans_id = 4805
[15:57:33] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_fs_ngg.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_fs_ngg.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_fs_ngg.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '11' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2018-12' ORDER BY a.trans_no ASC 
[15:57:33] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_fs_ngg.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_fs_ngg.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_fs_ngg.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='3721'
[15:57:33] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '3721'
[15:57:33] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 3721
[15:57:34] - SELECT * FROM select_ewt WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_final_tax WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_input_vat WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_output_vat WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_prepaid WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_fixed_asset WHERE trans_id = 3721
[15:57:35] - SELECT * FROM select_checks WHERE trans_id = 3721
[15:57:35] - SELECT * FROM trans_header_particular WHERE trans_id = 3721
[15:57:46] - SELECT * FROM lib_erp_chart
[15:57:59] - ----- Accounting Close -----
[17:42:07] - ----- Accounting Start -----
[17:42:07] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:42:07] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_fs_ngg;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:42:11] - Login Button Click
[17:42:11] - SELECT user_id FROM erp_fs_ngg.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:42:11] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 17:42:11',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:42:12] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 17:42:11' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:42:12] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:42:12] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_fs_ngg.sys_erp_modules a LEFT JOIN erp_fs_ngg.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_fs_ngg.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_fs_ngg.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:42:12] - SELECT module_code FROM erp_fs_ngg.sys_erp_modules WHERE system_id = 2 
[17:42:12] - select * from lib_erp_journal
[17:42:13] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_fs_ngg.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_fs_ngg.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:42:13] - select a.*,b.module_code from sys_default_det a inner join erp_fs_ngg.sys_erp_modules b on a.module_id = b.module_id
[17:42:15] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:42:15] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:42:15] - End of Initialization
[17:42:32] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[17:42:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[17:42:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[17:42:32] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[17:42:33] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[17:42:33] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[17:42:41] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:42:42] - Unknown column 'a.project_id' in 'field list'
[17:47:38] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:47:39] - Unknown column 'a.project_id' in 'field list'
[17:48:09] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:48:10] - Unknown column 'a.department_id' in 'field list'
[17:49:05] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_fs_ngg.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:49:05] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[17:49:33] - ----- Accounting Start -----
[17:49:33] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:49:33] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:49:36] - Login Button Click
[17:49:36] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:49:37] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 17:49:37',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:49:37] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 17:49:37' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:49:37] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:49:37] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:49:37] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[17:49:37] - select * from lib_erp_journal
[17:49:37] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:49:37] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[17:49:38] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:49:38] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:49:38] - End of Initialization
[17:50:11] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[17:50:11] - SELECT False AS sel2,a.project_id AS book_id,a.project_unit_no_codes AS book_unit_no_name,a.project_unit_no_id AS book_unit_no_id
        FROM erp_file_setup_accounting_afsc.lib_erp_project_unit_no a  ORDER BY a.project_unit_no_codes DESC 
[17:50:15] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[17:50:17] - SELECT False AS sel,b.book_id,c.book_code,c.book_name 
FROM erp_file_setup_accounting_afsc.lib_erp_journal a 
LEFT JOIN erp_file_setup_accounting_afsc.sys_acc_journal_book b ON b.journal_id = a.journal_id 
LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book c ON c.book_id = b.book_id WHERE a.journal_id IN (1) AND c.book_code IS NOT NULL AND c.company_id = '1'  GROUP BY c.book_id 
[17:50:21] - SELECT a.book_id,a.trans_id,a.trans_date,a.trans_no
        ,e.general_code,e.general_name,a.description
        ,k.account_code,k.account_name
        ,SUM(IFNULL(b.debit,0)) AS debit,SUM(IFNULL(b.credit,0)) AS credit,SUM(IFNULL(b.debit_based,0)) AS debit_based,SUM(IFNULL(b.credit_based,0)) AS credit_based
        ,l.general_code AS ref_general_code,l.general_name AS ref_general_name
        ,CONCAT(h.project_code, ' ', i.department_code) AS proj_dept
        ,j.allocation_code
        ,IF(IFNULL(o.ref_no,'') = '',p.trans_no,o.ref_no) AS ref_trans_no
        ,m.book_code,m.book_name
        ,a.journal_id,g.journal_name
        ,g.trans_label,g.person_label
        ,check_ref.check_no
        ,b.line_remarks
        FROM trans_header a
        LEFT JOIN (
	        SELECT a.trans_id,a.trans_no,a.trans_date,GROUP_CONCAT(c.check_no) AS check_no
	        FROM trans_header a
	        LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id
	        LEFT JOIN trans_checks c ON c.jbooks_id = b.jbooks_id
	        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart d ON d.account_id = b.account_id
	        WHERE d.validation = 1 AND IFNULL(c.check_no,'') <> '' AND UPPER(IFNULL(a.status,'')) <> 'C'
	        GROUP BY a.trans_id
        ) check_ref ON check_ref.trans_id = a.trans_id
        LEFT JOIN trans_jbooks b ON b.trans_id = a.trans_id
        LEFT JOIN trans_jbooks n ON n.jbooks_id = b.ref_jbooks_id
        LEFT JOIN trans_jbooks_ref o ON o.jbooks_id = n.jbooks_id
        LEFT JOIN trans_header p ON p.trans_id = n.trans_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_general e ON e.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency f ON f.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_journal g ON g.journal_id = a.journal_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_project h ON h.project_id = b.project_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_department i ON i.department_id = b.department_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_allocation j ON j.allocation_id = b.allocation_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_chart k ON k.account_id = b.account_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_general l ON l.general_id = b.general_id
        LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book m ON m.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-01' AND '2019-06-30' AND a.journal_id IN (1) AND a.book_id IN (1,2) GROUP BY b.jbooks_id  ORDER BY a.trans_no ASC,b.debit DESC
[17:50:47] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:50:48] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[17:51:26] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:51:26] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[17:53:17] - ----- Accounting Close -----
[17:53:30] - ----- Accounting Start -----
[17:53:30] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:53:30] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:53:34] - Login Button Click
[17:53:35] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:53:35] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 17:53:35',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:53:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 17:53:35' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:53:35] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:53:35] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:53:36] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[17:53:36] - select * from lib_erp_journal
[17:53:36] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:53:36] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[17:53:41] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:53:41] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:53:42] - End of Initialization
[17:53:47] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:53:47] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[17:53:58] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:53:58] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-06-01' AND '2019-06-30' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[17:58:40] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[17:58:43] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[17:58:43] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[17:58:44] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_afsc.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='8986'
[17:58:45] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '8986'
[17:58:45] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_ewt WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_final_tax WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_input_vat WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_output_vat WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_prepaid WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_fixed_asset WHERE trans_id = 8986
[17:58:47] - SELECT * FROM select_checks WHERE trans_id = 8986
[17:58:48] - SELECT * FROM trans_header_particular WHERE trans_id = 8986
[17:59:11] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[17:59:12] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[18:02:26] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '3' AND b.company_id = '1' ORDER BY b.book_code 
[18:02:29] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00301'
[18:02:30] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ap_id,'') AS trans_ap_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.rr_no,'') AS rr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ap b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '3' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[18:02:31] - SELECT a.trans_sub_contract_id,a.trans_id,a.sub_contract_det_id,a.billed_amount,a.billed_amount_based
            ,a.currency_id,f.currency_code,f.currency_name,a.exchange_rate,a.based_rate
            ,b.subconid,e.subconcode,e.subconname,b.cons1,b.cons2,b.amount,b.amount_based,b.po_no
            ,b.trans_date
            ,sc_offset.amount_collected,sc_offset.amount_collected_based
            FROM trans_header_sub_contract a
            LEFT JOIN trans_sub_contract_det b ON b.sub_contract_det_id = a.sub_contract_det_id
            LEFT JOIN trans_sub_contract c ON c.sub_contract_id = b.sub_contract_id
            LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_afsc.lib_subcon e ON e.subConid = b.subconid
            LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency f ON f.currency_id = a.currency_id
            LEFT JOIN (
	            SELECT a.trans_sub_contract_id
	            ,SUM(a.amount_collected) AS amount_collected
	            ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_sub_contract_offset a
	            GROUP BY a.trans_sub_contract_id
            ) sc_offset ON sc_offset.trans_sub_contract_id = a.trans_sub_contract_id
            WHERE a.trans_id='8986'
[18:02:31] - 
                    select a.trans_detailed_particular_id, a.trans_id, a.po_no,a.rr_no,a.dr_no,a.si_no,a.due_date,ROUND(a.trans_header_detailed_amount, 2) as trans_header_detailed_amount 
                    from trans_header_detailed_particular a
                    WHERE trans_id = '8986'
[18:02:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_ewt WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_final_tax WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_input_vat WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_output_vat WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_prepaid WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_fixed_asset WHERE trans_id = 8986
[18:02:33] - SELECT * FROM select_checks WHERE trans_id = 8986
[18:02:34] - SELECT * FROM trans_header_particular WHERE trans_id = 8986
[18:03:40] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:03:41] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[18:22:47] - ----- Accounting Start -----
[18:22:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:22:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:23:13] - Login Button Click
[18:23:13] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:23:13] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 18:23:13',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:23:14] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 18:23:13' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:23:14] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:23:14] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:23:14] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[18:23:14] - select * from lib_erp_journal
[18:23:15] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:23:15] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[18:23:20] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:23:20] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:23:20] - End of Initialization
[18:23:30] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:23:32] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[18:25:35] - ----- Accounting Start -----
[18:25:35] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:25:35] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:25:50] - Login Button Click
[18:25:50] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:25:50] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 18:25:50',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:25:50] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 18:25:50' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:25:50] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:25:50] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:25:50] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[18:25:51] - select * from lib_erp_journal
[18:25:51] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:25:51] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[18:25:52] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:25:52] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:25:53] - End of Initialization
[18:26:02] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:26:03] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id,a.project_id ORDER BY a.account_code 
[18:26:09] - ----- Accounting Close -----
[18:26:39] - ----- Accounting Start -----
[18:26:39] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:26:39] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:26:42] - Login Button Click
[18:26:42] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:26:42] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 18:26:42',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:26:42] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 18:26:42' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:26:42] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:26:43] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:26:43] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[18:26:43] - select * from lib_erp_journal
[18:26:43] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:26:44] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[18:26:48] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:26:48] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:26:49] - End of Initialization
[18:26:57] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:27:03] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id,a.project_id ORDER BY a.account_code 
[18:28:47] - ----- Accounting Start -----
[18:28:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:28:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:28:50] - Login Button Click
[18:28:50] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:28:50] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 18:28:50',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:28:51] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 18:28:50' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:28:51] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:28:51] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:28:51] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[18:28:52] - select * from lib_erp_journal
[18:28:52] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:28:52] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[18:28:57] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:28:57] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:28:58] - End of Initialization
[18:29:05] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:29:07] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[18:31:18] - ----- Accounting Start -----
[18:31:18] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:31:18] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_afsc;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:31:21] - Login Button Click
[18:31:21] - SELECT user_id FROM erp_file_setup_accounting_afsc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:31:22] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-20 18:31:22',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:31:22] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-20 18:31:22' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:31:22] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:31:22] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_afsc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_afsc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:31:22] - SELECT module_code FROM erp_file_setup_accounting_afsc.sys_erp_modules WHERE system_id = 2 
[18:31:22] - select * from lib_erp_journal
[18:31:23] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:31:23] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_afsc.sys_erp_modules b on a.module_id = b.module_id
[18:31:24] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:31:24] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:31:24] - End of Initialization
[18:31:34] - SELECT a.trans_id,a.trans_no,a.trans_date ,a.description,a.general_id,a.account_id,a.journal_id,a.amount,a.amount_based ,a.general_code,a.general_name,a.tin,a.check_no,a.account_code,a.account_name ,a.currency_id,a.currency_code,a.currency_name
            ,a.project_id,a.project_code,a.project_name
            ,a.department_id,a.department_code,a.department_name
            FROM SelectTransactionBook a LEFT JOIN erp_file_setup_accounting_afsc.lib_erp_book b ON b.book_id = a.book_id WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND (a.journal_id = '3' OR a.journal_id = 8) AND b.company_id = '1' 

[18:31:35] - SELECT a.account_id,a.account_code,a.account_name FROM SelectTransactionBook a WHERE a.trans_date BETWEEN '2019-01-31' AND '2019-01-31' AND a.journal_id = '3' GROUP BY a.account_id ORDER BY a.account_code 
[20:27:39] - ----- Accounting Close -----