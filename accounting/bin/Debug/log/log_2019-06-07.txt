Log for Debugging - 06/07/2019
[10:20:37] - ----- Accounting Start -----
[10:20:37] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:20:37] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:20:47] - Login Button Click
[10:20:47] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[10:20:47] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 10:20:47',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[10:20:47] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 10:20:47' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[10:20:47] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[10:20:48] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[10:20:48] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[10:20:48] - select * from lib_erp_journal
[10:20:48] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[10:20:49] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[10:20:50] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[10:20:50] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[10:20:50] - End of Initialization
[10:21:37] - ----- Accounting Start -----
[10:21:37] - Main Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:21:37] - FS Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_file_setup_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[10:21:44] - Login Button Click
[10:21:44] - SELECT user_id FROM erp_file_setup_accounting_cpmc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[10:21:44] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 10:21:44',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[10:21:44] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 10:21:44' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[10:21:44] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[10:21:44] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cpmc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[10:21:45] - SELECT module_code FROM erp_file_setup_accounting_cpmc.sys_erp_modules WHERE system_id = 2 
[10:21:45] - select * from lib_erp_journal
[10:21:45] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency c ON c.currency_id = a.currency_id 
[10:21:45] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cpmc.sys_erp_modules b on a.module_id = b.module_id
[10:21:45] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[10:21:46] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[10:21:46] - End of Initialization
[10:21:55] - SELECT * FROM lib_erp_book WHERE company_id = '1'
[10:21:55] - SELECT * FROM lib_erp_currency
[10:21:56] - SELECT trans_id FROM trans_header WHERE currency_id = 2 AND book_id = 1 AND trans_date = '2018-12-31' AND journal_id = 8
[10:21:56] - SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,a.debit,a.credit,a.debit_based,a.credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation <> 3 AND b.validation <> 2 UNION SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation = 3 GROUP BY a.account_id,a.project_id,a.department_id,z.project_unit_no_names UNION SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation = 2 GROUP BY a.account_id,a.project_id,a.department_id,a.book_unit_no_id,z.project_unit_no_names ORDER BY account_code ASC 
[10:21:56] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[10:21:56] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[10:21:57] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[10:21:57] - SELECT * FROM lib_erp_currency_rate WHERE currency_id = 2 AND effectivitydate <= '2018-12-31' ORDER BY effectivitydate DESC LIMIT 1
[10:21:57] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[10:21:57] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[10:21:59] - SELECT a.*,ELT(a.general_type,'Supplier','Client','Both') AS general_type_name,b.category_name,c.terms_name,d.industry_name FROM lib_erp_general a LEFT JOIN lib_erp_category b ON b.category_id = a.category_id LEFT JOIN lib_erp_terms c ON c.terms_id = a.terms_id LEFT JOIN lib_erp_industry d ON d.industry_id = a.industry_id ORDER BY a.general_code,a.general_name ASC 
[10:21:59] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:21:59] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:00] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:22:00] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:00] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:22:00] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:05] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:22:05] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:05] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:22:05] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:05] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:22:06] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:22:06] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '44'
[10:22:06] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 44
[10:22:06] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '44'
[10:22:06] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 44
[10:25:39] - SELECT a.* FROM lib_erp_category a
[10:38:03] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:03] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:03] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:03] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:03] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '44'
[10:38:03] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 44
[10:38:04] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '44'
[10:38:04] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 44
[10:38:07] - SELECT a.*,ELT(a.general_type,'Supplier','Client','Both') AS general_type_name,b.category_name,c.terms_name,d.industry_name FROM lib_erp_general a LEFT JOIN lib_erp_category b ON b.category_id = a.category_id LEFT JOIN lib_erp_terms c ON c.terms_id = a.terms_id LEFT JOIN lib_erp_industry d ON d.industry_id = a.industry_id ORDER BY a.general_code,a.general_name ASC 
[10:38:08] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:08] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:08] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:08] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:08] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:08] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:10] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:10] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:10] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:10] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:11] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '170'
[10:38:11] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 170
[10:38:11] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '271'
[10:38:11] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 271
[10:38:11] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '271'
[10:38:11] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 271
[10:38:12] - SELECT b.ewt_id,b.ewt_code,b.ewt_name,b.tax_rate,a.general_ewt_id,a.general_id FROM lib_erp_general_ewt a LEFT JOIN lib_acc_ewt b ON b.ewt_id = a.ewt_id WHERE a.general_id = '271'
[10:38:12] - SELECT b.final_tax_id,b.final_tax_code,b.final_tax_name,b.final_tax_rate,a.general_final_tax_id,a.general_id FROM lib_erp_general_final_tax a LEFT JOIN lib_acc_final_tax b ON b.final_tax_id = a.final_tax_id WHERE a.general_id = 271
[10:47:06] - SELECT book_id,book_code,book_name,company_id FROM lib_erp_book WHERE company_id = '1'
[10:57:16] - SELECT a.* FROM lib_erp_department a
[11:06:09] - SELECT a.* FROM lib_erp_currency a
[11:13:47] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[11:13:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:48] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:49] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[11:13:50] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '4'
[11:13:51] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '4'
[11:13:51] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '4'
[11:13:51] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '4'
[11:13:51] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '13'
[11:13:51] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '13'
[11:13:52] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '19'
[11:18:24] - SELECT * FROM lib_erp_project a ORDER BY a.project_code,a.project_name ASC 
[11:32:55] - SELECT trans_id FROM trans_header WHERE currency_id = 2 AND book_id = 1 AND trans_date = '2018-12-31' AND journal_id = 8
[11:32:55] - SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,a.debit,a.credit,a.debit_based,a.credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation <> 3 AND b.validation <> 2 UNION SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation = 3 GROUP BY a.account_id,a.project_id,a.department_id,z.project_unit_no_names UNION SELECT z.project_unit_no_names,IFNULL(a.book_unit_no_id,a.project_unit_no_id) AS book_unit_no_id,a.jbooks_id,a.trans_id,a.project_id,a.department_id,a.allocation_id,a.account_id,a.currency_id,a.exchange_rate,a.based_rate,SUM(a.debit) AS debit,SUM(a.credit) AS credit,SUM(a.debit_based) AS debit_based,SUM(a.credit_based) AS credit_based,a.general_id,a.ref_jbooks_id,a.line_remarks,b.account_name,b.account_code,b.validation,c.project_code,c.project_name,d.department_code,d.department_name ,e.currency_name,e.currency_code ,IFNULL(f.book_unit_no_name,z.project_unit_no_names) AS book_unit_no_name,IFNULL(f.book_unit_no_code,z.project_unit_no_codes) AS book_unit_no_code FROM trans_jbooks a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart b ON b.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project c ON c.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department d ON d.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no f ON f.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no z ON z.project_unit_no_id = a.project_unit_no_id WHERE a.trans_id = 16 AND b.validation = 2 GROUP BY a.account_id,a.project_id,a.department_id,a.book_unit_no_id,z.project_unit_no_names ORDER BY account_code ASC 
[11:32:56] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:56] - SELECT * FROM lib_erp_currency_rate WHERE currency_id = 2 AND effectivitydate <= '2018-12-31' ORDER BY effectivitydate DESC LIMIT 1
[11:32:56] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:56] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:59] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:59] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:59] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:32:59] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:33:00] - SELECT * FROM lib_erp_chart WHERE account_id = '1'
[11:33:00] - SELECT * FROM lib_erp_chart WHERE account_id = '4'
[11:33:00] - SELECT * FROM lib_erp_chart WHERE account_id = '4'
[11:33:00] - SELECT * FROM lib_erp_chart WHERE account_id = '4'
[11:33:01] - SELECT * FROM lib_erp_chart WHERE account_id = '4'
[11:33:01] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:01] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:01] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:06] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:08] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:09] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:09] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:09] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:09] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:10] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:10] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:10] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:11] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:11] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:11] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:11] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:11] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:14] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:14] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:15] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:15] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:15] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:15] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:16] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:16] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:16] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:16] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:16] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:17] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:17] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:17] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:17] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:17] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:18] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:19] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:19] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:19] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:19] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:19] - SELECT * FROM lib_erp_chart WHERE account_id = '13'
[11:33:23] - SELECT project_unit_no_id AS unit_id,project_unit_no_codes AS unit_code,project_unit_no_names AS unit_name
            FROM lib_erp_project_unit_no 
[11:33:23] - SELECT book_id,book_code,book_name 
FROM lib_erp_book a 
WHERE a.company_id = '1' 
[11:33:32] - SELECT * FROM (SELECT a.account_id,a.account_code,a.account_name
            ,a.chart_class_id,b.chart_class_code,b.chart_class_name
            ,b.chart_type,c.currency_id,c.project_id,c.department_id,e.currency_name
            ,unit.project_unit_no_codes AS unit_code,unit.project_unit_no_names AS unit_name
            ,project.project_code,project.project_name
            ,department.department_code,department.department_name
            
,IF(SUM(c.debit) > SUM(c.credit), 
  (SUM(c.debit) - SUM(c.credit)),0 
) AS debit, 
IF(SUM(c.credit) > SUM(c.debit), 
  (SUM(c.credit) - SUM(c.debit)),0 
) AS credit, 
IF(SUM(c.debit_based) > SUM(c.credit_based), 
  (SUM(c.debit_based) - SUM(c.credit_based)),0 
) AS debit_based, 
IF(SUM(c.credit_based) > SUM(c.debit_based), 
  (SUM(c.credit_based) - SUM(c.debit_based)),0 
) AS credit_based 
,_book.book_id,_book.book_code,'TRIAL BALANCE' AS book_name 
,chart_group.group_id,account_group.chart_group_code,CONCAT(account_group.chart_group_code,' - ',account_group.chart_group_name) AS chart_group_name 
FROM lib_erp_chart a 
LEFT JOIN lib_erp_book _book ON 1 = 1 
LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id 
LEFT JOIN (
                SELECT a.chart_group_id,a.account_id,a.group_id
			    FROM lib_erp_chart_group a
			    GROUP BY a.account_id
            ) chart_group ON chart_group.account_id = a.account_id 
LEFT JOIN lib_acc_chart_group account_group ON account_group.chart_group_id = chart_group.group_id 
LEFT JOIN erp_accounting_cpmc.trans_jbooks c ON c.account_id = a.account_id 
LEFT JOIN erp_accounting_cpmc.trans_header d ON d.trans_id = c.trans_id AND d.book_id = _book.book_id
            LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no unit ON unit.project_unit_no_id = c.project_unit_no_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project project ON project.project_id = c.project_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department department ON department.department_id = c.department_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = c.currency_id WHERE d.trans_date <= '2018-12-31'   AND _book.book_id IN (1) GROUP BY a.account_id  ORDER BY a.account_code,FIELD(b.chart_type,'A','L','C','I','E') ) a WHERE (a.debit-a.credit <> 0 OR a.debit_based - a.credit_based <> 0)
[11:33:32] - SELECT b.company_name,b.address1 AS address,b.tin FROM sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id
[11:33:40] - SELECT * FROM (SELECT a.account_id,a.account_code,a.account_name
            ,a.chart_class_id,b.chart_class_code,b.chart_class_name
            ,b.chart_type,c.currency_id,c.project_id,c.department_id,e.currency_name
            ,unit.project_unit_no_codes AS unit_code,unit.project_unit_no_names AS unit_name
            ,project.project_code,project.project_name
            ,department.department_code,department.department_name
            
,IF(SUM(c.debit) > SUM(c.credit), 
  (SUM(c.debit) - SUM(c.credit)),0 
) AS debit, 
IF(SUM(c.credit) > SUM(c.debit), 
  (SUM(c.credit) - SUM(c.debit)),0 
) AS credit, 
IF(SUM(c.debit_based) > SUM(c.credit_based), 
  (SUM(c.debit_based) - SUM(c.credit_based)),0 
) AS debit_based, 
IF(SUM(c.credit_based) > SUM(c.debit_based), 
  (SUM(c.credit_based) - SUM(c.debit_based)),0 
) AS credit_based 
,_book.book_id,_book.book_code,'TRIAL BALANCE' AS book_name 
,chart_group.group_id,account_group.chart_group_code,CONCAT(account_group.chart_group_code,' - ',account_group.chart_group_name) AS chart_group_name 
FROM lib_erp_chart a 
LEFT JOIN lib_erp_book _book ON 1 = 1 
LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id 
LEFT JOIN (
                SELECT a.chart_group_id,a.account_id,a.group_id
			    FROM lib_erp_chart_group a
			    GROUP BY a.account_id
            ) chart_group ON chart_group.account_id = a.account_id 
LEFT JOIN lib_acc_chart_group account_group ON account_group.chart_group_id = chart_group.group_id 
LEFT JOIN erp_accounting_cpmc.trans_jbooks c ON c.account_id = a.account_id 
LEFT JOIN erp_accounting_cpmc.trans_header d ON d.trans_id = c.trans_id AND d.book_id = _book.book_id
            LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no unit ON unit.project_unit_no_id = c.project_unit_no_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project project ON project.project_id = c.project_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department department ON department.department_id = c.department_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = c.currency_id WHERE d.trans_date <= '2018-12-31'   AND _book.book_id IN (1) GROUP BY a.account_id  ORDER BY a.account_code,FIELD(b.chart_type,'A','L','C','I','E') ) a WHERE (a.debit-a.credit <> 0 OR a.debit_based - a.credit_based <> 0)
[11:33:40] - SELECT b.company_name,b.address1 AS address,b.tin FROM sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id
[11:37:23] - SELECT * FROM (SELECT a.account_id,a.account_code,a.account_name
            ,a.chart_class_id,b.chart_class_code,b.chart_class_name
            ,b.chart_type,c.currency_id,c.project_id,c.department_id,e.currency_name
            ,unit.project_unit_no_codes AS unit_code,unit.project_unit_no_names AS unit_name
            ,project.project_code,project.project_name
            ,department.department_code,department.department_name
            
,IF(SUM(c.debit) > SUM(c.credit), 
  (SUM(c.debit) - SUM(c.credit)),0 
) AS debit, 
IF(SUM(c.credit) > SUM(c.debit), 
  (SUM(c.credit) - SUM(c.debit)),0 
) AS credit, 
IF(SUM(c.debit_based) > SUM(c.credit_based), 
  (SUM(c.debit_based) - SUM(c.credit_based)),0 
) AS debit_based, 
IF(SUM(c.credit_based) > SUM(c.debit_based), 
  (SUM(c.credit_based) - SUM(c.debit_based)),0 
) AS credit_based 
,_book.book_id,_book.book_code,'TRIAL BALANCE' AS book_name 
,chart_group.group_id,account_group.chart_group_code,CONCAT(account_group.chart_group_code,' - ',account_group.chart_group_name) AS chart_group_name 
FROM lib_erp_chart a 
LEFT JOIN lib_erp_book _book ON 1 = 1 
LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id 
LEFT JOIN (
                SELECT a.chart_group_id,a.account_id,a.group_id
			    FROM lib_erp_chart_group a
			    GROUP BY a.account_id
            ) chart_group ON chart_group.account_id = a.account_id 
LEFT JOIN lib_acc_chart_group account_group ON account_group.chart_group_id = chart_group.group_id 
LEFT JOIN erp_accounting_cpmc.trans_jbooks c ON c.account_id = a.account_id 
LEFT JOIN erp_accounting_cpmc.trans_header d ON d.trans_id = c.trans_id AND d.book_id = _book.book_id
            LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no unit ON unit.project_unit_no_id = c.project_unit_no_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project project ON project.project_id = c.project_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department department ON department.department_id = c.department_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = c.currency_id WHERE d.trans_date <= '2018-12-31'   AND _book.book_id IN (1) GROUP BY a.account_id  ORDER BY a.account_code,FIELD(b.chart_type,'A','L','C','I','E') ) a WHERE (a.debit-a.credit <> 0 OR a.debit_based - a.credit_based <> 0)
[11:37:24] - SELECT b.company_name,b.address1 AS address,b.tin FROM sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id
[11:39:02] - SELECT False AS sel,journal_id,journal_code,journal_name FROM lib_erp_journal WHERE journal_id <> 8
[11:39:13] - SELECT * FROM lib_erp_chart 
[11:39:13] - SELECT False AS sel,b.book_id,c.book_code,c.book_name,d.book_unit_no_name 
FROM erp_file_setup_accounting_cpmc.lib_erp_journal a 
LEFT JOIN erp_file_setup_accounting_cpmc.sys_acc_journal_book b ON b.journal_id = a.journal_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book c ON c.book_id = b.book_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_book_unit_no d ON d.book_id = c.book_id 
WHERE a.journal_id IN (1,2,3,4,5,6,7) AND c.book_code IS NOT NULL AND c.company_id = '1' GROUP BY c.book_id 
[11:39:20] - ExecuteWithParameter : get_account_analysis_new
[11:39:20] - parameters : 'erp_accounting_cpmc','erp_file_setup_accounting_cpmc','','2','2019-01-01','2018-12-31','','','','1,2,3,4,5,6,7,8','1','','13','2','1'
[11:39:20] - Execution Time: 2019-06-07 11:39:20
[11:39:22] - Done Time: 2019-06-07 11:39:22
[11:39:22] - SELECT b.company_name,b.address1 AS address,b.tin,c.currency_name FROM erp_accounting_cpmc.sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency c ON c.currency_id = a.currency_id
[11:55:52] - SELECT project_unit_no_id AS unit_id,project_unit_no_codes AS unit_code,project_unit_no_names AS unit_name
            FROM lib_erp_project_unit_no 
[11:55:52] - SELECT book_id,book_code,book_name 
FROM lib_erp_book a 
WHERE a.company_id = '1' 
[11:56:03] - SELECT * FROM (SELECT a.account_id,a.account_code,a.account_name
            ,a.chart_class_id,b.chart_class_code,b.chart_class_name
            ,b.chart_type,c.currency_id,c.project_id,c.department_id,e.currency_name
            ,unit.project_unit_no_codes AS unit_code,unit.project_unit_no_names AS unit_name
            ,project.project_code,project.project_name
            ,department.department_code,department.department_name
            
,IF(SUM(c.debit) > SUM(c.credit), 
  (SUM(c.debit) - SUM(c.credit)),0 
) AS debit, 
IF(SUM(c.credit) > SUM(c.debit), 
  (SUM(c.credit) - SUM(c.debit)),0 
) AS credit, 
IF(SUM(c.debit_based) > SUM(c.credit_based), 
  (SUM(c.debit_based) - SUM(c.credit_based)),0 
) AS debit_based, 
IF(SUM(c.credit_based) > SUM(c.debit_based), 
  (SUM(c.credit_based) - SUM(c.debit_based)),0 
) AS credit_based 
,_book.book_id,_book.book_code,'TRIAL BALANCE' AS book_name 
,chart_group.group_id,account_group.chart_group_code,CONCAT(account_group.chart_group_code,' - ',account_group.chart_group_name) AS chart_group_name 
FROM lib_erp_chart a 
LEFT JOIN lib_erp_book _book ON 1 = 1 
LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id 
LEFT JOIN (
                SELECT a.chart_group_id,a.account_id,a.group_id
			    FROM lib_erp_chart_group a
			    GROUP BY a.account_id
            ) chart_group ON chart_group.account_id = a.account_id 
LEFT JOIN lib_acc_chart_group account_group ON account_group.chart_group_id = chart_group.group_id 
LEFT JOIN erp_accounting_cpmc.trans_jbooks c ON c.account_id = a.account_id 
LEFT JOIN erp_accounting_cpmc.trans_header d ON d.trans_id = c.trans_id AND d.book_id = _book.book_id
            LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project_unit_no unit ON unit.project_unit_no_id = c.project_unit_no_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_project project ON project.project_id = c.project_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_department department ON department.department_id = c.department_id 
LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency e ON e.currency_id = c.currency_id WHERE d.trans_date <= '2018-12-31'   AND _book.book_id IN (1) GROUP BY a.account_id  ORDER BY a.account_code,FIELD(b.chart_type,'A','L','C','I','E') ) a WHERE (a.debit-a.credit <> 0 OR a.debit_based - a.credit_based <> 0)
[11:56:03] - SELECT b.company_name,b.address1 AS address,b.tin FROM sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id
[12:00:20] - ----- Accounting Close -----
[12:00:40] - ----- Accounting Start -----
[12:00:40] - Main Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[12:00:40] - FS Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_file_setup_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[12:00:43] - Login Button Click
[12:00:43] - SELECT user_id FROM erp_file_setup_accounting_cpmc.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[12:00:43] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 12:00:43',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[12:00:44] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 12:00:43' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[12:00:44] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[12:00:44] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cpmc.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cpmc.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[12:00:44] - SELECT module_code FROM erp_file_setup_accounting_cpmc.sys_erp_modules WHERE system_id = 2 
[12:00:44] - select * from lib_erp_journal
[12:00:45] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency c ON c.currency_id = a.currency_id 
[12:00:45] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cpmc.sys_erp_modules b on a.module_id = b.module_id
[12:00:46] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[12:00:46] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[12:00:46] - End of Initialization
[12:02:54] - SELECT a.default_id,a.used_in_report,a.sys_beg,a.company_id,a.w_proj,a.w_alloc,a.w_dept,a.line_remarks,a.line_currency,a.filter_id,a.monthly_currency,a.decimal_places,a.general_auto_number,a.retained_account_id,a.forex_account_id ,b.company_code,b.company_name,b.address1,b.address2,b.address3,b.address4,a.currency_id,b.tel_no,b.fax_no,b.email_add,b.tin,b.rdo_code ,c.filter_code,c.filter_name ,d.currency_code,d.currency_name ,e.account_code,e.account_name ,f.account_code AS forex_account_code,f.account_name AS forex_account_name ,a.isFiscal,a.fiscal_month,a.fiscal_year FROM sys_default a LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cpmc.sys_acc_filter c ON c.filter_id = a.filter_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency d ON d.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart e ON e.account_id = a.retained_account_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_chart f ON f.account_id = a.forex_account_id WHERE a.default_id = 1 
[12:21:59] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[12:22:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[12:22:02] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-02' ORDER BY a.trans_no ASC 
[12:22:09] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cpmc.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '1' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[12:22:15] - ----- Accounting Close -----
[13:17:51] - ----- Accounting Start -----
[13:17:51] - Main Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:17:51] - FS Connection String = Server=192.168.10.89;User Id=root;Password=s0luti0ns;Database=erp_file_setup_accounting_cpmc;Port=6033;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:17:55] - Unable to connect to any of the specified MySQL hosts.
[13:18:15] - Unable to connect to any of the specified MySQL hosts.
[13:18:47] - ----- Accounting Start -----
[13:18:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:18:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:18:51] - Login Button Click
[13:18:51] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[13:18:51] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 13:18:51',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[13:18:52] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 13:18:51' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[13:18:52] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[13:18:52] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[13:18:52] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[13:18:53] - select * from lib_erp_journal
[13:18:53] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[13:18:53] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[13:18:56] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[13:18:57] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[13:18:57] - End of Initialization
[13:19:09] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:19:09] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:46:40] - ----- Accounting Start -----
[13:46:40] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:46:40] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:46:45] - Login Button Click
[13:46:45] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '4f5858497d3956ab90a04b9987fc45a0f49bf9f92940fcf07788dc945044ecc7' 
[13:46:52] - Login Button Click
[13:46:52] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[13:46:53] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 13:46:53',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[13:46:53] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 13:46:53' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[13:46:53] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[13:46:53] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[13:46:53] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[13:46:54] - select * from lib_erp_journal
[13:46:54] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[13:46:54] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[13:46:57] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[13:46:57] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[13:46:58] - End of Initialization
[13:47:10] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:10] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:27] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:27] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:27] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:27] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:27] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:27] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:28] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:28] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:28] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:28] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:29] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:29] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:29] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:30] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:30] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:30] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:30] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:30] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:31] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:31] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:47:31] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:47:31] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:48:02] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:48:02] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:48:08] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:48:08] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:48:47] - ----- Accounting Start -----
[13:48:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:48:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:48:57] - Login Button Click
[13:48:57] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[13:48:58] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 13:48:58',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[13:48:58] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 13:48:58' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[13:48:58] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[13:48:58] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[13:48:58] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[13:48:59] - select * from lib_erp_journal
[13:48:59] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[13:48:59] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[13:49:02] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[13:49:02] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[13:49:03] - End of Initialization
[13:49:24] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:49:25] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:49:32] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[13:50:18] - ----- Accounting Start -----
[13:50:18] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:50:18] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[13:50:22] - Login Button Click
[13:50:22] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[13:50:22] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 13:50:22',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[13:50:22] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 13:50:22' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[13:50:22] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[13:50:23] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[13:50:23] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[13:50:24] - select * from lib_erp_journal
[13:50:24] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[13:50:25] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[13:50:28] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[13:50:28] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[13:50:28] - End of Initialization
[13:50:51] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[13:50:51] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:01:14] - ----- Accounting Start -----
[14:01:14] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:01:14] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:01:18] - Login Button Click
[14:01:18] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:01:18] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:01:18',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:01:19] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:01:18' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:01:19] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:01:19] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:01:19] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:01:20] - select * from lib_erp_journal
[14:01:20] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:01:20] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:01:23] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:01:23] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:01:24] - End of Initialization
[14:01:46] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:01:46] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:02:10] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:02:11] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:03:02] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:03:02] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:04:09] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:04:11] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:08:20] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:08:21] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:16:34] - ----- Accounting Start -----
[14:16:34] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:16:34] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:16:38] - Login Button Click
[14:16:38] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:16:39] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:16:39',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:16:39] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:16:39' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:16:39] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:16:39] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:16:40] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:16:40] - select * from lib_erp_journal
[14:16:40] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:16:40] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:16:44] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:16:45] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:16:45] - End of Initialization
[14:16:56] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:16:56] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:20:02] - ----- Accounting Start -----
[14:20:02] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:20:02] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:20:05] - Login Button Click
[14:20:05] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:20:06] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:20:06',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:20:06] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:20:06' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:20:06] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:20:06] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:20:07] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:20:07] - select * from lib_erp_journal
[14:20:07] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:20:07] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:20:10] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:20:11] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:20:11] - End of Initialization
[14:20:22] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:20:22] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:21:40] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:21:41] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:24:27] - ----- Accounting Start -----
[14:24:27] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:24:27] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:24:33] - Login Button Click
[14:24:33] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:24:34] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:24:34',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:24:34] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:24:34' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:24:34] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:24:34] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:24:34] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:24:35] - select * from lib_erp_journal
[14:24:35] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:24:35] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:24:38] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:24:38] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:24:39] - End of Initialization
[14:24:58] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:24:59] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:26:46] - ----- Accounting Start -----
[14:26:46] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:26:46] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:26:49] - Login Button Click
[14:26:49] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:26:49] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:26:49',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:26:49] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:26:49' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:26:49] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:26:50] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:26:50] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:26:50] - select * from lib_erp_journal
[14:26:50] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:26:50] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:26:54] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:26:54] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:26:54] - End of Initialization
[14:27:01] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:27:02] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:30:15] - ----- Accounting Start -----
[14:30:15] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:30:15] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:30:18] - Login Button Click
[14:30:18] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:30:18] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:30:18',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:30:19] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:30:18' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:30:19] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:30:19] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:30:19] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:30:20] - select * from lib_erp_journal
[14:30:20] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:30:20] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:30:23] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:30:23] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:30:24] - End of Initialization
[14:30:29] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:30:29] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:39:03] - ----- Accounting Start -----
[14:39:03] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:39:03] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:39:07] - Login Button Click
[14:39:07] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:39:07] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:39:07',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:39:07] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:39:07' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:39:08] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:39:08] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:39:08] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:39:08] - select * from lib_erp_journal
[14:39:08] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:39:09] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:39:12] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:39:12] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:39:12] - End of Initialization
[14:39:18] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:39:18] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:40:56] - ----- Accounting Close -----
[14:48:30] - ----- Accounting Start -----
[14:48:30] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:48:30] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:48:35] - Login Button Click
[14:48:35] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:48:35] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:48:35',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:48:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:48:35' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:48:35] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:48:36] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:48:36] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:48:36] - select * from lib_erp_journal
[14:48:36] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:48:37] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:48:40] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:48:40] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:48:40] - End of Initialization
[14:48:49] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:48:49] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:51:58] - ----- Accounting Start -----
[14:51:58] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:51:58] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:52:35] - Login Button Click
[14:52:35] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:52:35] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:52:35',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:52:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:52:35' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:52:35] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:52:36] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:52:36] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:52:36] - select * from lib_erp_journal
[14:52:36] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:52:37] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:52:40] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:52:40] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:52:40] - End of Initialization
[14:52:43] - SELECT a.*,b.chart_class_name FROM lib_erp_chart a LEFT JOIN lib_acc_chart_class b ON b.chart_class_id = a.chart_class_id ORDER BY a.account_code,a.account_name ASC 
[14:52:43] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:52:43] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:52:43] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:52:44] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:52:44] - SELECT b.chart_group_id AS group_id,b.chart_group_code,b.chart_group_name,a.chart_group_id,a.account_id FROM lib_erp_chart_group a LEFT JOIN lib_acc_chart_group b ON b.chart_group_id = a.group_id WHERE a.account_id = '1'
[14:52:52] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:52:52] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:57:02] - ----- Accounting Start -----
[14:57:02] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:57:02] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:57:10] - Login Button Click
[14:57:10] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:57:10] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:57:10',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:57:11] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:57:10' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:57:11] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:57:11] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:57:11] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:57:11] - select * from lib_erp_journal
[14:57:12] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:57:12] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:57:15] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:57:15] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:57:16] - End of Initialization
[14:57:21] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:57:22] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[14:58:32] - ----- Accounting Start -----
[14:58:32] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:58:32] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[14:58:38] - Login Button Click
[14:58:38] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[14:58:38] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 14:58:38',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[14:58:38] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 14:58:38' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[14:58:39] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[14:58:39] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[14:58:39] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[14:58:39] - select * from lib_erp_journal
[14:58:39] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[14:58:40] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[14:58:43] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[14:58:43] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[14:58:43] - End of Initialization
[14:58:48] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[14:58:48] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:00:35] - ----- Accounting Start -----
[15:00:35] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:00:35] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:00:40] - Login Button Click
[15:00:40] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '9b5ae4fbb71c161bccdc9c4aae86d6ce5b42bf9b79c51fea5355925e08269b74' 
[15:00:40] - Login Button Click
[15:00:40] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '9b5ae4fbb71c161bccdc9c4aae86d6ce5b42bf9b79c51fea5355925e08269b74' 
[15:00:44] - Login Button Click
[15:00:44] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '9b5ae4fbb71c161bccdc9c4aae86d6ce5b42bf9b79c51fea5355925e08269b74' 
[15:00:49] - Login Button Click
[15:00:49] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:00:49] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:00:49',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:00:50] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:00:49' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:00:50] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:00:50] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:00:50] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:00:50] - select * from lib_erp_journal
[15:00:51] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:00:51] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:00:54] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:00:54] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:00:54] - End of Initialization
[15:00:56] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:01:02] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:01:05] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:13:15] - ----- Accounting Start -----
[15:13:15] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:13:15] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:13:20] - Login Button Click
[15:13:20] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:13:21] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:13:21',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:13:21] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:13:21' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:13:21] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:13:21] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:13:21] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:13:22] - select * from lib_erp_journal
[15:13:22] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:13:22] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:13:25] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:13:26] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:13:26] - End of Initialization
[15:13:37] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:13:49] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:20:33] - ----- Accounting Start -----
[15:20:33] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:20:33] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:20:59] - Login Button Click
[15:20:59] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:20:59] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:20:59',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:20:59] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:20:59' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:20:59] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:21:00] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:21:00] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:21:00] - select * from lib_erp_journal
[15:21:00] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:21:00] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:21:04] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:21:04] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:21:04] - End of Initialization
[15:21:09] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:21:09] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:21:47] - ----- Accounting Start -----
[15:21:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:21:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:21:57] - Login Button Click
[15:21:57] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:21:57] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:21:57',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:21:58] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:21:57' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:21:58] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:21:58] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:21:58] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:21:59] - select * from lib_erp_journal
[15:21:59] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:21:59] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:22:02] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:22:02] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:22:03] - End of Initialization
[15:22:17] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:22:17] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:26:56] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:26:56] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:33:18] - ----- Accounting Start -----
[15:33:18] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:33:18] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:34:45] - ----- Accounting Start -----
[15:34:45] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:34:45] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:34:48] - Login Button Click
[15:34:48] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:34:48] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:34:48',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:34:49] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:34:48' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:34:49] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:34:49] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:34:49] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:34:50] - select * from lib_erp_journal
[15:34:50] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:34:50] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:34:53] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:34:53] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:34:54] - End of Initialization
[15:34:58] - SELECT c.trans_id,
                                                c.trans_no,
                                                c.trans_date,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:34:58] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:36:38] - ----- Accounting Start -----
[15:36:38] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:36:38] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:36:42] - Login Button Click
[15:36:42] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:36:42] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:36:42',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:36:42] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:36:42' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:36:42] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:36:43] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:36:43] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:36:43] - select * from lib_erp_journal
[15:36:43] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:36:44] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:36:47] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:36:47] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:36:47] - End of Initialization
[15:36:52] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:36:52] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:42:20] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:42:21] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:42:31] - ----- Accounting Start -----
[15:42:31] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:42:31] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:42:47] - Login Button Click
[15:42:47] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:42:47] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:42:47',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:42:47] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:42:47' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:42:48] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:42:48] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:42:48] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:42:48] - select * from lib_erp_journal
[15:42:49] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:42:49] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:42:52] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:42:52] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:42:52] - End of Initialization
[15:42:59] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:42:59] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:49:34] - ----- Accounting Start -----
[15:49:34] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:49:34] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:50:06] - Login Button Click
[15:50:06] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '620b61a220f0830b4fef1e84f36452e840bab81feb2d44e9f5cab4030d668bc2' 
[15:50:06] - Login Button Click
[15:50:06] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '620b61a220f0830b4fef1e84f36452e840bab81feb2d44e9f5cab4030d668bc2' 
[15:50:08] - Login Button Click
[15:50:08] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = '620b61a220f0830b4fef1e84f36452e840bab81feb2d44e9f5cab4030d668bc2' 
[15:50:11] - Login Button Click
[15:50:11] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:50:11] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:50:11',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:50:13] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:50:11' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:50:13] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:50:13] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:50:13] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:50:14] - select * from lib_erp_journal
[15:50:14] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:50:14] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:50:17] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:50:17] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:50:18] - End of Initialization
[15:50:27] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:50:27] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[15:53:58] - ----- Accounting Start -----
[15:53:58] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:53:58] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[15:54:01] - Login Button Click
[15:54:01] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[15:54:01] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 15:54:01',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[15:54:02] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 15:54:01' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[15:54:02] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[15:54:02] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[15:54:02] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[15:54:03] - select * from lib_erp_journal
[15:54:03] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[15:54:03] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[15:54:06] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[15:54:06] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[15:54:07] - End of Initialization
[15:54:09] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:12] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[15:54:18] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                c.amount,
                                                c.amount_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                GROUP BY TRANS_ID
[15:54:18] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:01:44] - ----- Accounting Start -----
[16:01:45] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:01:45] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:01:48] - Login Button Click
[16:01:48] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:01:48] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:01:48',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:01:49] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:01:48' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:01:49] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:01:49] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:01:49] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:01:50] - select * from lib_erp_journal
[16:01:50] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:01:50] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:01:55] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:01:55] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:01:55] - End of Initialization
[16:02:05] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:02:10] - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.trans_project_management_offset a
                                            ' at line 12
[16:02:59] - ----- Accounting Start -----
[16:02:59] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:02:59] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:03:05] - Login Button Click
[16:03:05] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:03:05] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:03:05',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:03:05] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:03:05' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:03:05] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:03:06] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:03:06] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:03:06] - select * from lib_erp_journal
[16:03:07] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:03:07] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:03:11] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:03:11] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:03:11] - End of Initialization
[16:03:17] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:03:18] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:05:35] - ----- Accounting Start -----
[16:05:35] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:05:35] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:05:40] - ----- Accounting Close -----
[16:05:58] - ----- Accounting Start -----
[16:05:58] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:05:58] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:06:02] - Login Button Click
[16:06:02] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:06:02] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:06:02',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:06:02] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:06:02' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:06:03] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:06:03] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:06:03] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:06:04] - select * from lib_erp_journal
[16:06:04] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:06:04] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:06:08] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:06:08] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:06:09] - End of Initialization
[16:06:22] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:06:22] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:07:19] - SELECT c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:07:19] - select 
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:25:23] - ----- Accounting Start -----
[16:25:23] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:25:23] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:25:27] - Login Button Click
[16:25:27] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:25:27] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:25:27',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:25:27] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:25:27' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:25:27] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:25:28] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:25:28] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:25:29] - select * from lib_erp_journal
[16:25:29] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:25:29] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:25:34] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:25:34] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:25:34] - End of Initialization
[16:25:42] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:25:43] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:28:10] - ----- Accounting Start -----
[16:28:10] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:28:10] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:28:13] - Login Button Click
[16:28:13] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:28:14] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:28:14',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:28:14] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:28:14' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:28:14] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:28:14] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:28:15] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:28:15] - select * from lib_erp_journal
[16:28:15] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:28:15] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:28:20] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:28:21] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:28:21] - End of Initialization
[16:28:28] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:28:29] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:31:04] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:31:05] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:35:30] - ----- Accounting Start -----
[16:35:30] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:35:30] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:35:58] - Login Button Click
[16:35:58] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:35:58] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:35:58',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:35:58] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:35:58' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:35:59] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:35:59] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:35:59] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:35:59] - select * from lib_erp_journal
[16:36:00] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:36:00] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:36:04] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:36:04] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:36:04] - End of Initialization
[16:36:12] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:36:13] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:43:00] - ----- Accounting Start -----
[16:43:00] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:43:00] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:43:06] - Login Button Click
[16:43:06] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:43:06] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:43:06',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:43:07] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:43:06' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:43:07] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:43:07] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:43:07] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:43:08] - select * from lib_erp_journal
[16:43:08] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:43:08] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:43:13] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:43:13] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:43:13] - End of Initialization
[16:43:22] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:43:22] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:45:30] - ----- Accounting Start -----
[16:45:30] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:45:30] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:46:36] - ----- Accounting Start -----
[16:46:36] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:46:36] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:46:41] - Login Button Click
[16:46:41] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:46:41] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:46:41',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:46:41] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:46:41' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:46:42] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:46:42] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:46:42] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:46:43] - select * from lib_erp_journal
[16:46:43] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:46:43] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:46:47] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:46:48] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:46:48] - End of Initialization
[16:46:53] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:46:53] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:49:10] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:49:10] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:51:54] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:51:54] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:52:40] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[16:52:40] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = '77'
[16:52:44] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[16:52:44] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = '77'
[16:52:48] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[16:52:51] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[16:52:52] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-01' ORDER BY a.trans_no ASC 
[16:52:52] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '71' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[16:52:52] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 71
[16:52:53] - SELECT * FROM select_ewt WHERE trans_id = 71
[16:52:53] - SELECT * FROM select_final_tax WHERE trans_id = 71
[16:52:53] - SELECT * FROM select_input_vat WHERE trans_id = 71
[16:52:53] - SELECT * FROM select_output_vat WHERE trans_id = 71
[16:52:54] - SELECT * FROM select_prepaid WHERE trans_id = 71
[16:52:54] - SELECT * FROM select_fixed_asset WHERE trans_id = 71
[16:52:54] - SELECT * FROM select_checks WHERE trans_id = 71
[16:52:54] - SELECT * FROM trans_header_particular WHERE trans_id = 71
[16:52:56] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:52:57] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[16:53:20] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:53:24] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-01' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:53:29] - SELECT * FROM lib_erp_chart
[16:53:32] - SELECT * FROM lib_erp_project
[16:53:34] - SELECT * FROM lib_erp_department
[16:53:36] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:53:39] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:53:40] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:53:41] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:53:44] - SELECT * FROM lib_erp_chart
[16:53:49] - SELECT * FROM lib_erp_project
[16:53:51] - SELECT * FROM lib_erp_department
[16:53:54] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:53:57] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:54:25] - ----- Accounting Start -----
[16:54:25] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:54:25] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:54:34] - Login Button Click
[16:54:34] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:54:34] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:54:34',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:54:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:54:34' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:54:35] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:54:35] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:54:36] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:54:36] - select * from lib_erp_journal
[16:54:36] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:54:36] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:54:41] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:54:41] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:54:41] - End of Initialization
[16:54:49] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[16:54:51] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[16:54:51] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:54:53] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:54:54] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[16:55:00] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:55:02] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:55:06] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:55:10] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:55:12] - SELECT * FROM lib_erp_chart
[16:55:25] - SELECT * FROM lib_erp_chart
[16:55:26] - SELECT * FROM lib_erp_project
[16:55:28] - SELECT * FROM lib_erp_department
[16:55:32] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:55:32] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:55:33] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:55:37] - SELECT * FROM lib_erp_chart
[16:55:40] - SELECT * FROM lib_erp_project
[16:55:42] - SELECT * FROM lib_erp_department
[16:55:46] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:56:08] - ----- Accounting Start -----
[16:56:08] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:56:08] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:58:11] - ----- Accounting Start -----
[16:58:11] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:58:11] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[16:58:17] - Login Button Click
[16:58:17] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[16:58:17] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 16:58:17',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[16:58:18] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 16:58:17' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[16:58:18] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[16:58:18] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[16:58:18] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[16:58:19] - select * from lib_erp_journal
[16:58:19] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[16:58:19] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[16:58:24] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[16:58:24] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[16:58:24] - End of Initialization
[16:58:31] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[16:58:31] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[16:58:40] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[16:58:42] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[16:58:42] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[16:58:44] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:58:45] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[16:59:00] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:59:04] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[16:59:09] - SELECT * FROM lib_erp_chart
[16:59:15] - SELECT * FROM lib_erp_project
[16:59:17] - SELECT * FROM lib_erp_department
[16:59:20] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:59:21] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:59:23] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[16:59:26] - SELECT * FROM lib_erp_chart
[16:59:29] - SELECT * FROM lib_erp_project
[16:59:30] - SELECT * FROM lib_erp_department
[16:59:33] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[16:59:35] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:01:37] - ----- Accounting Start -----
[17:01:37] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:01:37] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:01:41] - Login Button Click
[17:01:41] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:01:42] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:01:42',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:01:42] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:01:42' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:01:42] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:01:43] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:01:43] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:01:43] - select * from lib_erp_journal
[17:01:44] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:01:44] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:01:48] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:01:48] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:01:49] - End of Initialization
[17:01:54] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[17:01:54] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[17:02:02] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:02:04] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:02:05] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:02:07] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:02:07] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:02:18] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:02:24] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:02:28] - SELECT * FROM lib_erp_chart
[17:02:35] - SELECT * FROM lib_erp_project
[17:02:37] - SELECT * FROM lib_erp_department
[17:02:40] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:02:42] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:02:42] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:02:44] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:02:46] - SELECT * FROM lib_erp_chart
[17:02:50] - SELECT * FROM lib_erp_project
[17:02:51] - SELECT * FROM lib_erp_department
[17:02:54] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:02:57] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:02:58] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:03:10] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[17:03:10] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = '77'
[17:03:14] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
        where deleted=0
         
[17:03:15] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[17:03:16] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
        where deleted=0
         
[17:03:18] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[17:03:18] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = '76'
[17:03:21] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:03:21] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = ''
[17:03:21] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = 'tmp_20190607170321'
[17:03:22] - SELECT * FROM lib_erp_project
[17:03:25] - SELECT * FROM lib_erp_general
[17:03:30] - SELECT * FROM lib_erp_currency
[17:03:31] - SELECT * FROM lib_erp_currency
[17:03:39] - SELECT * FROM lib_erp_department
[17:03:42] - SELECT * FROM lib_erp_project
[17:04:10] - CALL SaveTransaction('Insert','trans_project_management','project_management_id,pm_year,project_id,general_id','|2019|1|5|','project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','982');
[17:04:11] - CALL SaveTransaction('Insert','trans_project_management_det','project_management_det_id,project_management_id,isPriorDate,trans_date,contract_date,currency_id,exchange_rate,based_rate,po_no,department_code,department_id,project_name,date_from,date_to,contract_amount,contract_amount_based,contract_cost,contract_cost_based,profit_amount,profit_amount_based,accomplishment_amount,accomplishment_amount_based,billed_amount,billed_amount_based,collected_amount,collected_amount_based,insured_with','|78|0|2019-06-07|2019-06-07|1|1|1|po-0000123|06-002|65|BUILDING 123|2019-01-01|2019-12-31|10000|0.00|10000|10000|0|0|0|0|0|0|0|0||','project_management_det_id','','DESKTOP-PL80BO2','Raymond T. Villegas','982');
[17:04:18] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:04:32] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:04:50] - SELECT * FROM lib_erp_chart
[17:04:56] - SELECT * FROM lib_erp_chart
[17:04:58] - SELECT * FROM lib_erp_project
[17:05:00] - SELECT * FROM lib_erp_department
[17:05:04] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:06:29] - ----- Accounting Start -----
[17:06:29] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:06:29] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:06:35] - Login Button Click
[17:06:35] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:06:35] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:06:35',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:06:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:06:35' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:06:36] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:06:36] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:06:36] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:06:37] - select * from lib_erp_journal
[17:06:37] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:06:37] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:06:42] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:06:42] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:06:42] - End of Initialization
[17:06:50] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:06:52] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:06:52] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:06:54] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:06:54] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:07:01] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:07:10] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:07:13] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:07:19] - SELECT * FROM lib_erp_chart
[17:07:25] - SELECT * FROM lib_erp_project
[17:07:27] - SELECT * FROM lib_erp_department
[17:07:29] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:07:32] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:07:32] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:07:33] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:07:36] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:07:43] - SELECT * FROM lib_erp_chart
[17:07:48] - SELECT * FROM lib_erp_project
[17:07:50] - SELECT * FROM lib_erp_department
[17:07:52] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:07:53] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:09:46] - ----- Accounting Start -----
[17:09:46] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:09:46] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:09:51] - Login Button Click
[17:09:51] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:09:51] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:09:51',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:09:52] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:09:51' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:09:52] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:09:52] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:09:53] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:09:53] - select * from lib_erp_journal
[17:09:53] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:09:53] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:09:58] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:09:58] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:09:59] - End of Initialization
[17:10:04] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[17:10:04] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[17:10:13] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:10:14] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:10:14] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:10:18] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:10:19] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:10:32] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:10:35] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:10:40] - SELECT * FROM lib_erp_chart
[17:10:44] - SELECT * FROM lib_erp_project
[17:10:46] - SELECT * FROM lib_erp_department
[17:10:48] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:10:49] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:10:52] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:10:52] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:10:53] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:10:57] - SELECT * FROM lib_erp_chart
[17:11:02] - SELECT * FROM lib_erp_project
[17:11:03] - SELECT * FROM lib_erp_department
[17:11:06] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:11:07] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:12:29] - ----- Accounting Start -----
[17:12:29] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:12:29] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:12:34] - Login Button Click
[17:12:34] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:12:34] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:12:34',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:12:35] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:12:34' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:12:36] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:12:36] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:12:36] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:12:37] - select * from lib_erp_journal
[17:12:37] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:12:37] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:12:41] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:12:41] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:12:42] - End of Initialization
[17:12:48] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:12:51] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:12:51] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:12:52] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:12:52] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:12:57] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:13:00] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:13:05] - SELECT * FROM lib_erp_chart
[17:13:10] - SELECT * FROM lib_erp_project
[17:13:12] - SELECT * FROM lib_erp_department
[17:13:14] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:13:16] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:15:47] - ----- Accounting Start -----
[17:15:47] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:15:47] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:15:54] - Login Button Click
[17:15:54] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'f27d45b0573874cd77eb8ecc2ed680b115b038e90207efd09302725952554c59' 
[17:15:58] - Login Button Click
[17:15:58] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:15:58] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:15:58',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:15:59] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:15:58' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:15:59] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:16:00] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:16:00] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:16:00] - select * from lib_erp_journal
[17:16:01] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:16:01] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:16:05] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:16:05] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:16:06] - End of Initialization
[17:16:12] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:16:14] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:16:14] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:16:16] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:16:17] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:16:18] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:16:34] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:16:35] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:16:38] - SELECT * FROM lib_erp_chart
[17:16:42] - SELECT * FROM lib_erp_project
[17:16:43] - SELECT * FROM lib_erp_department
[17:16:46] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:16:47] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:16:47] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:16:49] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:16:54] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:16:55] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:16:59] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        AND b.project_management_det_id NOT IN (69)
[17:17:35] - ----- Accounting Start -----
[17:17:35] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:17:35] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:17:41] - Login Button Click
[17:17:41] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:17:41] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:17:41',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:17:42] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:17:41' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:17:42] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:17:42] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:17:42] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:17:43] - select * from lib_erp_journal
[17:17:43] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:17:43] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:17:48] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:17:48] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:17:48] - End of Initialization
[17:17:57] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:17:59] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:17:59] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:18:01] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:18:01] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:18:12] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:18:15] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:18:20] - SELECT * FROM lib_erp_chart
[17:18:25] - SELECT * FROM lib_erp_project
[17:18:26] - SELECT * FROM lib_erp_department
[17:18:29] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:18:30] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:18:32] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:20:44] - ----- Accounting Start -----
[17:20:44] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:20:44] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:20:50] - Login Button Click
[17:20:50] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:20:50] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:20:50',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:20:51] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:20:50' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:20:51] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:20:52] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:20:52] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:20:52] - select * from lib_erp_journal
[17:20:53] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:20:53] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:20:57] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:20:58] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:20:58] - End of Initialization
[17:21:07] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:21:09] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:21:09] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:21:12] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:21:12] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:21:30] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:21:36] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:21:37] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:21:41] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:21:47] - SELECT * FROM lib_erp_chart
[17:21:51] - SELECT * FROM lib_erp_project
[17:21:53] - SELECT * FROM lib_erp_department
[17:21:56] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:21:57] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:23:28] - ----- Accounting Start -----
[17:23:28] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:23:28] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:23:32] - Login Button Click
[17:23:32] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:23:33] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:23:33',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:23:33] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:23:33' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:23:33] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:23:34] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:23:34] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:23:34] - select * from lib_erp_journal
[17:23:34] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:23:35] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:23:39] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:23:39] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:23:40] - End of Initialization
[17:23:43] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:23:45] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:23:45] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:23:47] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:23:47] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[17:23:50] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:23:52] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:23:55] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:23:56] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:23:58] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:24:02] - SELECT * FROM lib_erp_chart
[17:24:11] - SELECT * FROM lib_erp_project
[17:24:12] - SELECT * FROM lib_erp_department
[17:24:15] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:27:22] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:27:26] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:27:41] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:27:48] - SELECT * FROM lib_erp_chart
[17:27:55] - SELECT * FROM lib_erp_project
[17:27:55] - SELECT * FROM lib_erp_department
[17:28:01] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:28:06] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:28:07] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:28:08] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:28:11] - SELECT * FROM lib_erp_chart
[17:28:14] - SELECT * FROM lib_erp_project
[17:28:16] - SELECT * FROM lib_erp_department
[17:28:23] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:28:23] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:28:43] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:28:52] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[17:28:54] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[17:28:54] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:28:55] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[17:28:55] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[17:28:55] - SELECT * FROM select_ewt WHERE trans_id = 67
[17:28:56] - SELECT * FROM select_final_tax WHERE trans_id = 67
[17:28:56] - SELECT * FROM select_input_vat WHERE trans_id = 67
[17:28:56] - SELECT * FROM select_output_vat WHERE trans_id = 67
[17:28:56] - SELECT * FROM select_prepaid WHERE trans_id = 67
[17:28:56] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[17:28:57] - SELECT * FROM select_checks WHERE trans_id = 67
[17:28:57] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[17:28:58] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:29:02] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:29:07] - SELECT * FROM lib_erp_chart
[17:29:11] - SELECT * FROM lib_erp_project
[17:29:13] - SELECT * FROM lib_erp_department
[17:29:22] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:29:22] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:29:30] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:29:32] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:29:34] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:29:40] - SELECT * FROM lib_erp_chart
[17:29:48] - SELECT * FROM lib_erp_project
[17:29:50] - SELECT * FROM lib_erp_department
[17:29:58] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:29:58] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:30:10] - SELECT * FROM lib_erp_chart
[17:30:15] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:30:15] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:30:24] - SELECT * FROM lib_erp_chart
[17:30:32] - SELECT * FROM lib_erp_chart
[17:30:36] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:30:42] - SELECT * FROM lib_erp_chart
[17:30:45] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:30:50] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:30:54] - SELECT * FROM lib_erp_chart
[17:31:00] - SELECT * FROM lib_erp_project
[17:31:01] - SELECT * FROM lib_erp_department
[17:31:04] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:31:05] - SELECT * FROM lib_erp_terms WHERE terms_type = 2 or terms_type = 3
[17:31:07] - SELECT * FROM lib_erp_terms WHERE terms_type = 2 or terms_type = 3
[17:31:11] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '1' AND '2019-06-07' BETWEEN date_from AND date_to
[17:31:11] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'IB-0001' AND trans_id <> '' AND journal_id = '1'
[17:31:11] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|IB-0001|2019-06-07|3|1|5|1|1.0000|1.0000|1000|1000|sales|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','989');
[17:31:12] - CALL submitapproval('ACC00101',81,1);
[17:31:12] - CALL SaveTransaction('Insert','trans_header_ib','trans_ib_id,trans_id,dr_no,po_no,due_date,terms_id,nodays','|81|ib-0001|ib-0001|2019-06-07||0|','trans_ib_id','','DESKTOP-PL80BO2','Raymond T. Villegas','989');
[17:31:12] - CALL SaveTransaction('Insert','trans_header_project_management','trans_project_management_id,trans_id,project_management_det_id,billed_amount,billed_amount_based,currency_id,exchange_rate,based_rate','|81|69|0|0|1|1.0000000000|1|','trans_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','989');
[17:31:13] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(81,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(1000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000,2)  AND  ROUND(debit_based,2) = ROUND(1000,2)  AND  ROUND(general_id,2) = ROUND(5,2) 
[17:32:33] - ----- Accounting Start -----
[17:32:33] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:32:33] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:32:38] - Login Button Click
[17:32:38] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:32:38] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:32:38',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:32:40] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:32:38' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:32:41] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:32:41] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:32:41] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:32:42] - select * from lib_erp_journal
[17:32:42] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:32:42] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:32:47] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:32:47] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:32:47] - End of Initialization
[17:32:55] - SELECT a.project_management_id,a.pm_year,a.general_id,a.project_id
        ,b.general_code,b.general_name,c.project_code,c.project_name
        FROM trans_project_management a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general b ON b.general_id = a.general_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c on c.project_id=a.project_id
         
[17:32:55] - SELECT a.project_management_det_id,a.project_management_id,a.isPriorDate,a.trans_date,a.contract_date
        ,a.currency_id,a.exchange_rate,a.based_rate,a.po_no,a.project_name,a.date_from,a.date_to,a.contract_amount,a.contract_amount_based
        ,a.contract_cost,a.contract_cost_based,a.profit_amount,a.profit_amount_based,a.accomplishment_amount,a.accomplishment_amount_based
        ,a.billed_amount,a.billed_amount_based,a.collected_amount,a.collected_amount_based,a.insured_with,b.currency_code,b.currency_name
        ,a.department_id,c.department_code,c.department_name
        FROM trans_project_management_det a
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency b ON b.currency_id = a.currency_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department c ON c.department_id = a.department_id
        WHERE a.project_management_id = '78'
[17:32:59] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:33:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:33:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:33:02] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '81' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[17:33:02] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 81
[17:33:02] - SELECT * FROM select_ewt WHERE trans_id = 81
[17:33:02] - SELECT * FROM select_final_tax WHERE trans_id = 81
[17:33:02] - SELECT * FROM select_input_vat WHERE trans_id = 81
[17:33:03] - SELECT * FROM select_output_vat WHERE trans_id = 81
[17:33:03] - SELECT * FROM select_prepaid WHERE trans_id = 81
[17:33:03] - SELECT * FROM select_fixed_asset WHERE trans_id = 81
[17:33:03] - SELECT * FROM select_checks WHERE trans_id = 81
[17:33:03] - SELECT * FROM trans_header_particular WHERE trans_id = 81
[17:33:11] - SELECT * FROM lib_erp_chart
[17:33:15] - SELECT * FROM lib_erp_project
[17:33:17] - SELECT * FROM lib_erp_department
[17:33:25] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:33:26] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:33:27] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[17:33:34] - SELECT * FROM lib_erp_chart
[17:33:42] - SELECT * FROM lib_erp_project
[17:33:44] - SELECT * FROM lib_erp_department
[17:33:54] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        AND b.project_management_det_id NOT IN (69)
[17:34:05] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:34:12] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '1' AND '2019-06-07' BETWEEN date_from AND date_to
[17:34:12] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'IB-0001' AND trans_id <> '81' AND journal_id = '1'
[17:34:12] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','81|IB-0001|2019-06-07|3|1|5|1|1.0000000000|1.0000000000|1000.0000000000|1000.0000000000|sales|','trans_id','81','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:14] - CALL SaveTransaction('Update','trans_header_ib','trans_ib_id,trans_id,dr_no,po_no,due_date,terms_id,nodays','31|81|ib-0001|ib-0001|2019-06-07||0|','trans_ib_id','31','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:14] - CALL SaveTransaction('Remove','trans_header_project_management','','99|','trans_project_management_id','99|','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:14] - CALL SaveTransaction('Insert','trans_header_project_management','trans_project_management_id,trans_id,project_management_det_id,billed_amount,billed_amount_based,currency_id,exchange_rate,based_rate','|81|69|0|0|1|1.0000000000|1|','trans_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:14] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|81|1|1||||47||1000|0|1|1.0000000000|1.0000000000|1000|0|5||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:15] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(81,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(1000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(debit_based,2) = ROUND(1000,2)  AND  ROUND(general_id,2) = ROUND(5,2) 
[17:34:15] - CALL SaveTransaction('Insert','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','|184|90|3|','jbooks_ar_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:15] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|81|1|1||||174||0|1000|1|1.0000000000|1.0000000000|0|1000|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:34:15] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:34:16] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '81' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[17:34:16] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 81
[17:34:16] - SELECT * FROM select_ewt WHERE trans_id = 81
[17:34:16] - SELECT * FROM select_final_tax WHERE trans_id = 81
[17:34:16] - SELECT * FROM select_input_vat WHERE trans_id = 81
[17:34:17] - SELECT * FROM select_output_vat WHERE trans_id = 81
[17:34:17] - SELECT * FROM select_prepaid WHERE trans_id = 81
[17:34:17] - SELECT * FROM select_fixed_asset WHERE trans_id = 81
[17:34:17] - SELECT * FROM select_checks WHERE trans_id = 81
[17:34:18] - SELECT * FROM trans_header_particular WHERE trans_id = 81
[17:34:24] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[17:34:26] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[17:34:26] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:34:26] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[17:34:26] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[17:34:26] - SELECT * FROM select_ewt WHERE trans_id = 67
[17:34:27] - SELECT * FROM select_final_tax WHERE trans_id = 67
[17:34:27] - SELECT * FROM select_input_vat WHERE trans_id = 67
[17:34:27] - SELECT * FROM select_output_vat WHERE trans_id = 67
[17:34:27] - SELECT * FROM select_prepaid WHERE trans_id = 67
[17:34:27] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[17:34:28] - SELECT * FROM select_checks WHERE trans_id = 67
[17:34:28] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[17:34:31] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:34:31] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:34:40] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:34:42] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[17:34:47] - SELECT * FROM lib_erp_chart
[17:34:57] - SELECT * FROM lib_erp_project
[17:34:58] - SELECT * FROM lib_erp_department
[17:35:03] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:35:03] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:35:05] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[17:35:15] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:35:18] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:35:18] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:35:40] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[17:35:45] - SEL: jbooks_id = '' AND ref_jbooks_id = '184' , FOUND: 0
[17:35:47] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[17:35:47] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0001' AND trans_id <> '' AND journal_id = '2'
[17:35:52] - SELECT * FROM lib_erp_chart
[17:35:58] - SELECT * FROM lib_erp_project
[17:36:00] - SELECT * FROM lib_erp_department
[17:36:11] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[17:36:11] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0001' AND trans_id <> '' AND journal_id = '2'
[17:36:11] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|OR-0001|2019-06-07|3|2|5|1|1.0000|1.0000|0|0|collection|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:36:11] - CALL submitapproval('ACC00201',82,1);
[17:36:12] - CALL SaveTransaction('Insert','trans_header_cr','trans_cr_id,trans_id,si_no','|82||','trans_cr_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:36:12] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|82|1|1||||47||0.0|1000.0000000000|1|1.0000000000|1.0000000000|0|1000.0000000000|5|184|','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:36:12] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(82,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(0.0,2)  AND  ROUND(credit,2) = ROUND(1000.0000000000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(credit_based,2) = ROUND(1000.0000000000,2)  AND  ROUND(general_id,2) = ROUND(5,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(184,2) 
[17:36:12] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|82|1|594||||45||1000|0|1|1.0000|1.0000|1000|0|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:36:13] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:36:13] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:36:13] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:36:13] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:36:13] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:36:14] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:36:14] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:36:14] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:36:14] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:36:14] - SELECT * FROM select_checks WHERE trans_id = 82
[17:36:14] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[17:36:23] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:36:23] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '81' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[17:36:23] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 81
[17:36:24] - SELECT * FROM select_ewt WHERE trans_id = 81
[17:36:24] - SELECT * FROM select_final_tax WHERE trans_id = 81
[17:36:24] - SELECT * FROM select_input_vat WHERE trans_id = 81
[17:36:24] - SELECT * FROM select_output_vat WHERE trans_id = 81
[17:36:25] - SELECT * FROM select_prepaid WHERE trans_id = 81
[17:36:25] - SELECT * FROM select_fixed_asset WHERE trans_id = 81
[17:36:25] - SELECT * FROM select_checks WHERE trans_id = 81
[17:36:25] - SELECT * FROM trans_header_particular WHERE trans_id = 81
[17:36:37] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[17:36:37] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[17:37:32] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:37:35] - SELECT * FROM lib_erp_chart
[17:37:37] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:37:38] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:37:43] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:37:46] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:37:51] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:37:53] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:00] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:04] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:09] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:15] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:18] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:21] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:38:39] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        AND b.project_management_det_id NOT IN (69)
[17:38:48] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[17:38:55] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '1' AND '2019-06-07' BETWEEN date_from AND date_to
[17:38:55] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'IB-0001' AND trans_id <> '81' AND journal_id = '1'
[17:38:55] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','81|IB-0001|2019-06-07|3|1|5|1|1.0000000000|1.0000000000|1000.0000000000|1000.0000000000|sales|','trans_id','81','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:56] - CALL SaveTransaction('Update','trans_header_ib','trans_ib_id,trans_id,dr_no,po_no,due_date,terms_id,nodays','31|81|ib-0001|ib-0001|2019-06-07||0|','trans_ib_id','31','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:56] - CALL SaveTransaction('Remove','trans_header_project_management','','99|','trans_project_management_id','99|','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:58] - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1
[17:38:58] - CALL SaveTransaction('Remove','trans_header_project_management','','100|','trans_project_management_id','100|','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:58] - CALL SaveTransaction('Insert','trans_header_project_management','trans_project_management_id,trans_id,project_management_det_id,billed_amount,billed_amount_based,currency_id,exchange_rate,based_rate','|81|69|0|0|1|1.0000000000|1|','trans_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:58] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','184|81|1|1||||47||1000.0000000000|0.0000000000|1|1.0000000000|1.0000000000|1000.0000000000|0.0000000000|5||','jbooks_id','184','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:58] - CALL SaveTransaction('Update','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','27|184|90|3|','jbooks_ar_id','27','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:59] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','185|81|1|1||||174||0.0000000000|1000.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1000.0000000000|||','jbooks_id','185','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:38:59] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:38:59] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '81' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[17:38:59] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 81
[17:38:59] - SELECT * FROM select_ewt WHERE trans_id = 81
[17:39:00] - SELECT * FROM select_final_tax WHERE trans_id = 81
[17:39:00] - SELECT * FROM select_input_vat WHERE trans_id = 81
[17:39:00] - SELECT * FROM select_output_vat WHERE trans_id = 81
[17:39:00] - SELECT * FROM select_prepaid WHERE trans_id = 81
[17:39:01] - SELECT * FROM select_fixed_asset WHERE trans_id = 81
[17:39:01] - SELECT * FROM select_checks WHERE trans_id = 81
[17:39:01] - SELECT * FROM trans_header_particular WHERE trans_id = 81
[17:39:04] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[17:39:05] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0001' AND trans_id <> '82' AND journal_id = '2'
[17:39:05] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','82|OR-0001|2019-06-07|3|2|5|1|1.0000000000|1.0000000000|0.0000000000|0.0000000000|collection|','trans_id','82','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:39:05] - CALL SaveTransaction('Update','trans_header_cr','trans_cr_id,trans_id,si_no','22|82||','trans_cr_id','22','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:39:06] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','186|82|1|1||||47||0.0000000000|1000.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1000.0000000000|5|184|','jbooks_id','186','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:39:06] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','187|82|1|594||||45||1000.0000000000|0.0000000000|1|1.0000000000|1.0000000000|1000.0000000000|0.0000000000|||','jbooks_id','187','DESKTOP-PL80BO2','Raymond T. Villegas','990');
[17:39:07] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:39:07] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:39:07] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:39:07] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:39:07] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:39:08] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:39:08] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:39:08] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:39:08] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:39:08] - SELECT * FROM select_checks WHERE trans_id = 82
[17:39:09] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[17:39:09] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:39:09] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:39:09] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:39:09] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:39:10] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:39:10] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:39:10] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:39:10] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:39:11] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:39:11] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:39:11] - SELECT * FROM select_checks WHERE trans_id = 82
[17:39:11] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[17:39:11] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:39:14] - SELECT * FROM lib_erp_chart
[17:39:15] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:39:15] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:39:17] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:39:22] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:39:25] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:39:28] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:43:44] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[17:43:46] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[17:43:46] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:43:46] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[17:43:47] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[17:43:47] - SELECT * FROM select_ewt WHERE trans_id = 67
[17:43:47] - SELECT * FROM select_final_tax WHERE trans_id = 67
[17:43:47] - SELECT * FROM select_input_vat WHERE trans_id = 67
[17:43:47] - SELECT * FROM select_output_vat WHERE trans_id = 67
[17:43:48] - SELECT * FROM select_prepaid WHERE trans_id = 67
[17:43:48] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[17:43:48] - SELECT * FROM select_checks WHERE trans_id = 67
[17:43:48] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[17:43:55] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:43:55] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:43:55] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:43:55] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:43:55] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:43:56] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:43:56] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:43:56] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:43:56] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:43:56] - SELECT * FROM select_checks WHERE trans_id = 82
[17:43:57] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[17:43:59] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:44:01] - SELECT * FROM lib_erp_chart
[17:44:02] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:44:03] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:45:23] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:50:43] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:50:55] - SELECT * FROM lib_erp_chart
[17:50:58] - SELECT * FROM lib_erp_chart
[17:51:56] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:52:35] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:53:39] - ----- Accounting Start -----
[17:53:39] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:53:39] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[17:53:43] - Login Button Click
[17:53:43] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[17:53:44] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 17:53:44',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[17:53:44] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 17:53:44' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[17:53:44] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[17:53:45] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[17:53:45] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[17:53:45] - select * from lib_erp_journal
[17:53:45] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[17:53:46] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[17:53:50] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[17:53:50] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[17:53:51] - End of Initialization
[17:53:59] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[17:54:01] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[17:54:01] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:54:01] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[17:54:01] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[17:54:02] - SELECT * FROM select_ewt WHERE trans_id = 67
[17:54:02] - SELECT * FROM select_final_tax WHERE trans_id = 67
[17:54:02] - SELECT * FROM select_input_vat WHERE trans_id = 67
[17:54:02] - SELECT * FROM select_output_vat WHERE trans_id = 67
[17:54:03] - SELECT * FROM select_prepaid WHERE trans_id = 67
[17:54:03] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[17:54:03] - SELECT * FROM select_checks WHERE trans_id = 67
[17:54:03] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[17:54:06] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:54:06] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:54:07] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:54:07] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:54:07] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:54:07] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:54:07] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:54:08] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:54:08] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:54:08] - SELECT * FROM select_checks WHERE trans_id = 82
[17:54:08] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[17:54:13] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[17:54:18] - SELECT * FROM lib_erp_chart
[17:54:18] - SELECT * FROM lib_erp_project
[17:54:19] - SELECT * FROM lib_erp_department
[17:54:19] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[17:54:20] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:55:15] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:55:34] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:55:58] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:56:17] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[17:56:19] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[17:56:20] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:56:20] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '81' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[17:56:20] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 81
[17:56:20] - SELECT * FROM select_ewt WHERE trans_id = 81
[17:56:20] - SELECT * FROM select_final_tax WHERE trans_id = 81
[17:56:21] - SELECT * FROM select_input_vat WHERE trans_id = 81
[17:56:21] - SELECT * FROM select_output_vat WHERE trans_id = 81
[17:56:21] - SELECT * FROM select_prepaid WHERE trans_id = 81
[17:56:21] - SELECT * FROM select_fixed_asset WHERE trans_id = 81
[17:56:22] - SELECT * FROM select_checks WHERE trans_id = 81
[17:56:22] - SELECT * FROM trans_header_particular WHERE trans_id = 81
[17:57:24] - SELECT * FROM lib_erp_chart
[17:57:24] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:57:33] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:57:43] - SEL: jbooks_id = '186' AND ref_jbooks_id = '184' , FOUND: 1
[17:57:48] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[17:58:08] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[17:58:08] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[17:58:57] - SELECT * FROM lib_erp_chart
[17:58:58] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 82 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 82 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[17:59:07] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (82)
[17:59:12] - SEL: jbooks_id = '186' AND ref_jbooks_id = '184' , FOUND: 1
[17:59:14] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[17:59:14] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0001' AND trans_id <> '82' AND journal_id = '2'
[17:59:14] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','82|OR-0001|2019-06-07|3|2|5|1|1.0000000000|1.0000000000|0.0000000000|0.0000000000|collection|','trans_id','82','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[17:59:15] - CALL SaveTransaction('Update','trans_header_cr','trans_cr_id,trans_id,si_no','22|82||','trans_cr_id','22','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[17:59:15] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','186|82|1|1||||47||0.0000000000|1000.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1000.0000000000|5|184|','jbooks_id','186','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[17:59:15] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','187|82|1|594||||45||1000.0000000000|0.0000000000|1|1.0000000000|1.0000000000|1000.0000000000|0.0000000000|||','jbooks_id','187','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[17:59:19] - CALL SaveTransaction('Insert','trans_project_management_offset','offset_project_management_id,jbooks_id,trans_project_management_id,amount_collected,amount_collected_based,currency_id,exchange_rate,based_rate','|186|101|1000.0000000000|0|1|1.0000000000|1.0000000000|','offset_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[17:59:19] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[17:59:19] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '82'
            
[17:59:20] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 82
[17:59:20] - SELECT * FROM select_ewt WHERE trans_id = 82
[17:59:20] - SELECT * FROM select_final_tax WHERE trans_id = 82
[17:59:20] - SELECT * FROM select_input_vat WHERE trans_id = 82
[17:59:20] - SELECT * FROM select_output_vat WHERE trans_id = 82
[17:59:21] - SELECT * FROM select_prepaid WHERE trans_id = 82
[17:59:21] - SELECT * FROM select_fixed_asset WHERE trans_id = 82
[17:59:21] - SELECT * FROM select_checks WHERE trans_id = 82
[17:59:21] - SELECT * FROM trans_header_particular WHERE trans_id = 82
[18:00:50] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[18:01:07] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[18:01:07] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[18:01:45] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[18:01:47] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[18:01:47] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:01:47] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[18:01:48] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[18:01:48] - SELECT * FROM select_ewt WHERE trans_id = 67
[18:01:48] - SELECT * FROM select_final_tax WHERE trans_id = 67
[18:01:48] - SELECT * FROM select_input_vat WHERE trans_id = 67
[18:01:49] - SELECT * FROM select_output_vat WHERE trans_id = 67
[18:01:49] - SELECT * FROM select_prepaid WHERE trans_id = 67
[18:01:49] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[18:01:49] - SELECT * FROM select_checks WHERE trans_id = 67
[18:01:49] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[18:01:52] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:01:52] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[18:02:00] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:02:05] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:02:22] - SELECT * FROM lib_erp_chart
[18:02:30] - SELECT * FROM lib_erp_project
[18:02:31] - SELECT * FROM lib_erp_department
[18:02:34] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:02:38] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:02:39] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:02:40] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:02:43] - SELECT * FROM lib_erp_chart
[18:02:46] - SELECT * FROM lib_erp_project
[18:02:47] - SELECT * FROM lib_erp_department
[18:03:07] - SELECT * FROM lib_erp_chart
[18:03:08] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:03:08] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:03:19] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:03:19] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 1
[18:03:31] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:03:34] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:03:42] - SELECT * FROM lib_erp_chart
[18:03:47] - SELECT * FROM lib_erp_project
[18:03:51] - SELECT * FROM lib_erp_department
[18:03:54] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:03:55] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:03:58] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:04:03] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:04:03] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:04:04] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:04:07] - SELECT * FROM lib_erp_chart
[18:04:12] - SELECT * FROM lib_erp_project
[18:04:15] - SELECT * FROM lib_erp_department
[18:04:18] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:04:18] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 59 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:04:24] - SELECT * FROM lib_erp_chart
[18:04:28] - SELECT * FROM lib_erp_project
[18:04:28] - SELECT * FROM lib_erp_department
[18:04:36] - SELECT a.project_management_id,b.project_management_det_id
            ,a.pm_year
            ,a.project_id,c.project_code,c.project_name
            ,a.general_id,d.general_code,d.general_name
            ,b.department_code,b.project_name AS project_name_det
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS contract_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS contract_amount_based
            ,0 AS billed_amount,0 AS billed_amount_based
            ,IFNULL(b.contract_amount,0) - IFNULL(e.billed_amount,0) AS balance_amount
            ,IFNULL(b.contract_amount_based,0) - IFNULL(e.billed_amount_based,0) AS balance_amount_based
            ,b.currency_id,b.exchange_rate,b.based_rate
            FROM trans_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_id = a.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project c ON c.project_id = a.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general d ON d.general_id = a.general_id
            LEFT JOIN (
	            SELECT a.project_management_det_id
	            ,SUM(a.billed_amount) AS billed_amount
	            ,SUM(a.billed_amount_based) AS billed_amount_based
	            FROM trans_header_project_management a
	            GROUP BY a.project_management_det_id
            ) e ON e.project_management_det_id = b.project_management_det_id
            WHERE IFNULL(b.project_management_det_id,'') <> '' And a.general_id=5
        
[18:04:52] - SELECT * FROM lib_erp_chart
[18:04:57] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:04:57] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:05:01] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '1' AND '2019-06-07' BETWEEN date_from AND date_to
[18:05:01] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'IB-0002' AND trans_id <> '' AND journal_id = '1'
[18:05:02] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|IB-0002|2019-06-07|3|1|5|1|1.0000|1.0000|1000|1000|SALES TEST 2|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:02] - CALL submitapproval('ACC00101',83,1);
[18:05:02] - CALL SaveTransaction('Insert','trans_header_ib','trans_ib_id,trans_id,dr_no,po_no,due_date,terms_id,nodays','|83|IB-0002|PO-00002|2019-06-07||0|','trans_ib_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:02] - CALL SaveTransaction('Insert','trans_header_project_management','trans_project_management_id,trans_id,project_management_det_id,billed_amount,billed_amount_based,currency_id,exchange_rate,based_rate','|83|69|0|0|1|1.0000000000|1|','trans_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:03] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|83|1|1||||47||1000|0|1|1.0000|1.0000|1000|0|5||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:03] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(83,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(1000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000,2)  AND  ROUND(debit_based,2) = ROUND(1000,2)  AND  ROUND(general_id,2) = ROUND(5,2) 
[18:05:03] - CALL SaveTransaction('Insert','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','|188|60|2|','jbooks_ar_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:03] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|83|1|1||||156||0|1000|1|1.0000|1.0000|0|1000|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:05:04] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:05:04] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '83' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[18:05:04] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 83
[18:05:04] - SELECT * FROM select_ewt WHERE trans_id = 83
[18:05:04] - SELECT * FROM select_final_tax WHERE trans_id = 83
[18:05:05] - SELECT * FROM select_input_vat WHERE trans_id = 83
[18:05:05] - SELECT * FROM select_output_vat WHERE trans_id = 83
[18:05:05] - SELECT * FROM select_prepaid WHERE trans_id = 83
[18:05:05] - SELECT * FROM select_fixed_asset WHERE trans_id = 83
[18:05:06] - SELECT * FROM select_checks WHERE trans_id = 83
[18:05:06] - SELECT * FROM trans_header_particular WHERE trans_id = 83
[18:05:11] - SELECT * FROM lib_erp_chart
[18:05:11] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:05:11] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:05:14] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:05:34] - SELECT * FROM lib_erp_chart
[18:05:36] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:05:36] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:05:38] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:05:47] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:05:50] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:05:54] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:06:01] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:07:09] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '1' AND '2019-06-07' BETWEEN date_from AND date_to
[18:07:10] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'IB-0002' AND trans_id <> '83' AND journal_id = '1'
[18:07:10] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','83|IB-0002|2019-06-07|3|1|5|1|1.0000000000|1.0000000000|1000.0000000000|1000.0000000000|SALES TEST 2|','trans_id','83','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:12] - CALL SaveTransaction('Update','trans_header_ib','trans_ib_id,trans_id,dr_no,po_no,due_date,terms_id,nodays','32|83|IB-0002|PO-00002|2019-06-07||0|','trans_ib_id','32','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:12] - CALL SaveTransaction('Update','trans_header_project_management','trans_project_management_id,trans_id,project_management_det_id,billed_amount,billed_amount_based,currency_id,exchange_rate,based_rate','102|83|69|9000|0.0000000000|1|0.0|0.0|','trans_project_management_id','102','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:12] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','188|83|1|1||||47||1000.0000000000|0.0000000000|1|1.0000000000|1.0000000000|1000.0000000000|0.0000000000|5||','jbooks_id','188','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:12] - CALL SaveTransaction('Update','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','28|188|60|2|','jbooks_ar_id','28','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:13] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','189|83|1|1||||156||0.0000000000|1000.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1000.0000000000|||','jbooks_id','189','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:07:13] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:07:13] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '83' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[18:07:13] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 83
[18:07:14] - SELECT * FROM select_ewt WHERE trans_id = 83
[18:07:14] - SELECT * FROM select_final_tax WHERE trans_id = 83
[18:07:14] - SELECT * FROM select_input_vat WHERE trans_id = 83
[18:07:14] - SELECT * FROM select_output_vat WHERE trans_id = 83
[18:07:14] - SELECT * FROM select_prepaid WHERE trans_id = 83
[18:07:15] - SELECT * FROM select_fixed_asset WHERE trans_id = 83
[18:07:15] - SELECT * FROM select_checks WHERE trans_id = 83
[18:07:15] - SELECT * FROM trans_header_particular WHERE trans_id = 83
[18:07:24] - SELECT * FROM lib_erp_chart
[18:07:25] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:07:25] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:07:28] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:07:32] - SELECT * FROM lib_erp_chart
[18:07:33] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:07:33] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:07:38] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 
[18:07:54] - SEL: jbooks_id = '' AND ref_jbooks_id = '188' , FOUND: 0
[18:08:04] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[18:08:04] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0000002' AND trans_id <> '' AND journal_id = '2'
[18:08:05] - CALL SaveTransaction('Insert','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','|OR-0000002|2019-06-07|3|2|5|1|1.0000|1.0000|0|0|COLLECTION2|','trans_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:08:05] - CALL submitapproval('ACC00201',84,1);
[18:08:06] - CALL SaveTransaction('Insert','trans_header_cr','trans_cr_id,trans_id,si_no','|84||','trans_cr_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:08:06] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|84|1|1||||47||1000|0|1|1.0000|1.0000|1000|0|5||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:08:07] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(84,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(1000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000,2)  AND  ROUND(debit_based,2) = ROUND(1000,2)  AND  ROUND(general_id,2) = ROUND(5,2) 
[18:08:07] - CALL SaveTransaction('Insert','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','|190|60|2|','jbooks_ar_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:08:08] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|84|1|1||||47||0.0|1000.0000000000|1|1.0000000000|1.0000000000|0|1000.0000000000|5|188|','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','991');
[18:08:09] - SELECT jbooks_id AS id FROM trans_jbooks WHERE   ROUND(trans_id,2) = ROUND(84,2)  AND  ROUND(project_id,2) = ROUND(1,2)  AND  ROUND(department_id,2) = ROUND(1,2)  AND  ROUND(account_id,2) = ROUND(47,2)  AND  ROUND(debit,2) = ROUND(0.0,2)  AND  ROUND(credit,2) = ROUND(1000.0000000000,2)  AND  ROUND(currency_id,2) = ROUND(1,2)  AND  ROUND(exchange_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(based_rate,2) = ROUND(1.0000000000,2)  AND  ROUND(credit_based,2) = ROUND(1000.0000000000,2)  AND  ROUND(general_id,2) = ROUND(5,2)  AND  ROUND(ref_jbooks_id,2) = ROUND(188,2) 
[18:08:40] - ----- Accounting Start -----
[18:08:40] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:08:40] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:08:47] - Login Button Click
[18:08:47] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:08:47] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 18:08:47',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:08:47] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 18:08:47' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:08:47] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:08:48] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:08:48] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[18:08:48] - select * from lib_erp_journal
[18:08:49] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:08:49] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[18:08:53] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:08:54] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:08:54] - End of Initialization
[18:08:59] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '1' AND b.company_id = '1' ORDER BY b.book_code 
[18:09:03] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00101'
[18:09:03] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_ib_id,'') AS trans_ib_id,IFNULL(b.si_no,'') AS si_no,IFNULL(b.dr_no,'') AS dr_no,IFNULL(b.po_no,'') AS po_no ,IFNULL(b.terms_id,'') AS terms_id,IFNULL(b.nodays,0) AS nodays,e.terms_name,b.due_date ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_ib b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms e ON b.terms_id = e.terms_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '1' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:09:03] - SELECT b.trans_project_management_id,a.trans_id,a.trans_no,a.trans_date
        ,b.project_management_det_id,d.pm_year
        ,d.project_id,e.project_code,e.project_name
        ,d.general_id,f.general_code,f.general_name
        ,c.department_code,c.project_name AS project_name_det
        ,c.contract_amount,c.contract_amount_based
        ,b.billed_amount,b.billed_amount_based
        ,IFNULL(c.contract_amount,0) - IFNULL(b.billed_amount,0) AS balance_amount
        ,IFNULL(c.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS balance_amount_based
        FROM trans_header a
        LEFT JOIN trans_header_project_management b ON b.trans_id = a.trans_id
        LEFT JOIN (
	        SELECT a.project_management_det_id,a.project_management_id
	        ,a.department_code,a.project_name
	        ,a.contract_amount,a.contract_amount_based
	        ,IFNULL(a.contract_amount,0) - IFNULL(b.billed_amount,0) AS billed_amount
	        ,IFNULL(a.contract_amount_based,0) - IFNULL(b.billed_amount_based,0) AS billed_amount_based
	        FROM trans_project_management_det a
	        LEFT JOIN (
		        SELECT a.project_management_det_id
		        ,SUM(a.billed_amount) AS billed_amount
		        ,SUM(a.billed_amount_based) AS billed_amount_based
		        FROM trans_header_project_management a
		        GROUP BY a.project_management_det_id
	        ) b ON b.project_management_det_id = b.project_management_det_id
            GROUP BY a.project_management_det_id
        ) c ON c.project_management_det_id = b.project_management_det_id
        LEFT JOIN trans_project_management d ON d.project_management_id = c.project_management_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project e ON e.project_id = d.project_id
        LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general f ON f.general_id = d.general_id
        WHERE a.trans_id = '83' AND IFNULL(b.project_management_det_id,'') <> '' and d.deleted=0

[18:09:04] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 83
[18:09:04] - SELECT * FROM select_ewt WHERE trans_id = 83
[18:09:04] - SELECT * FROM select_final_tax WHERE trans_id = 83
[18:09:04] - SELECT * FROM select_input_vat WHERE trans_id = 83
[18:09:05] - SELECT * FROM select_output_vat WHERE trans_id = 83
[18:09:05] - SELECT * FROM select_prepaid WHERE trans_id = 83
[18:09:05] - SELECT * FROM select_fixed_asset WHERE trans_id = 83
[18:09:05] - SELECT * FROM select_checks WHERE trans_id = 83
[18:09:06] - SELECT * FROM trans_header_particular WHERE trans_id = 83
[18:09:17] - SELECT b.book_id,b.book_code,b.book_name FROM sys_acc_journal_book a LEFT JOIN lib_erp_book b ON b.book_id = a.book_id WHERE b.book_code IS NOT NULL AND a.journal_id = '2' AND b.company_id = '1' ORDER BY b.book_code 
[18:09:18] - SELECT COUNT(a.approval_id) AS numRow FROM sys_erp_approval a LEFT JOIN sys_erp_modules b ON b.module_id = a.module_id WHERE b.module_code = 'ACC00201'
[18:09:19] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:09:19] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '67'
            
[18:09:19] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 67
[18:09:19] - SELECT * FROM select_ewt WHERE trans_id = 67
[18:09:19] - SELECT * FROM select_final_tax WHERE trans_id = 67
[18:09:20] - SELECT * FROM select_input_vat WHERE trans_id = 67
[18:09:20] - SELECT * FROM select_output_vat WHERE trans_id = 67
[18:09:20] - SELECT * FROM select_prepaid WHERE trans_id = 67
[18:09:20] - SELECT * FROM select_fixed_asset WHERE trans_id = 67
[18:09:20] - SELECT * FROM select_checks WHERE trans_id = 67
[18:09:21] - SELECT * FROM trans_header_particular WHERE trans_id = 67
[18:09:24] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:09:24] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '84'
            
[18:09:24] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 84
[18:09:24] - SELECT * FROM select_ewt WHERE trans_id = 84
[18:09:25] - SELECT * FROM select_final_tax WHERE trans_id = 84
[18:09:25] - SELECT * FROM select_input_vat WHERE trans_id = 84
[18:09:25] - SELECT * FROM select_output_vat WHERE trans_id = 84
[18:09:25] - SELECT * FROM select_prepaid WHERE trans_id = 84
[18:09:25] - SELECT * FROM select_fixed_asset WHERE trans_id = 84
[18:09:26] - SELECT * FROM select_checks WHERE trans_id = 84
[18:09:26] - SELECT * FROM trans_header_particular WHERE trans_id = 84
[18:09:31] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:09:31] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '84'
            
[18:09:31] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 84
[18:09:31] - SELECT * FROM select_ewt WHERE trans_id = 84
[18:09:32] - SELECT * FROM select_final_tax WHERE trans_id = 84
[18:09:32] - SELECT * FROM select_input_vat WHERE trans_id = 84
[18:09:32] - SELECT * FROM select_output_vat WHERE trans_id = 84
[18:09:32] - SELECT * FROM select_prepaid WHERE trans_id = 84
[18:09:32] - SELECT * FROM select_fixed_asset WHERE trans_id = 84
[18:09:33] - SELECT * FROM select_checks WHERE trans_id = 84
[18:09:33] - SELECT * FROM trans_header_particular WHERE trans_id = 84
[18:09:44] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[18:09:50] - SELECT * FROM lib_erp_chart
[18:09:54] - SELECT * FROM lib_erp_project
[18:09:56] - SELECT * FROM lib_erp_department
[18:09:59] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:00] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:01] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:06] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:07] - SELECT * FROM lib_erp_chart
[18:10:09] - SELECT * FROM lib_erp_project
[18:10:09] - SELECT * FROM lib_erp_department
[18:10:13] - SELECT * FROM lib_erp_chart
[18:10:14] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:14] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:10:17] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id WHERE a.trans_id <> 84 GROUP BY a.ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.trans_id <> 84 AND a.general_id = 5 AND a.currency_id = 1 AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:10:19] - SELECT a.trans_project_management_id,a.trans_id,a.project_management_det_id,a.currency_id,a.exchange_rate,a.based_rate
            ,a.billed_amount,a.billed_amount_based
            ,c.pm_year,c.general_id,c.project_id,d.project_code,d.project_name,e.general_code,e.general_name
            ,b.project_name AS project_description
            ,0 AS amount_collected
            ,0 AS amount_collected_based
            ,IFNULL(pm_offset.amount_collected,0) AS tmp_amount_collected
            ,IFNULL(pm_offset.amount_collected_based,0) AS tmp_amount_collected_based
            ,(a.billed_amount - IFNULL(pm_offset.amount_collected,0)) AS variance
            ,(a.billed_amount_based - IFNULL(pm_offset.amount_collected_based,0)) AS variance_based
            FROM trans_header_project_management a
            LEFT JOIN trans_project_management_det b ON b.project_management_det_id = a.project_management_det_id
            LEFT JOIN trans_project_management c ON c.project_management_id = b.project_management_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = c.project_id
            LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general e ON e.general_id = c.general_id
            LEFT JOIN (
	            SELECT a.trans_project_management_id,a.jbooks_id
                ,SUM(a.amount_collected) AS amount_collected
                ,SUM(a.amount_collected_based) AS amount_collected_based
	            FROM trans_project_management_offset a
                
                GROUP BY a.trans_project_management_id
            ) pm_offset ON pm_offset.trans_project_management_id = a.trans_project_management_id
            WHERE IFNULL(a.billed_amount,0) - IFNULL(pm_offset.amount_collected,0) <> 0 AND a.trans_id NOT IN (84)
[18:10:28] - SEL: jbooks_id = '191' AND ref_jbooks_id = '188' , FOUND: 1
[18:10:29] - SELECT MAX(IFNULL(isLock,False)) AS isLock FROM transaction_locking WHERE journal_id = '2' AND '2019-06-07' BETWEEN date_from AND date_to
[18:10:29] - SELECT trans_no AS existing FROM trans_header WHERE trans_no = 'OR-0000002' AND trans_id <> '84' AND journal_id = '2'
[18:10:30] - CALL SaveTransaction('Update','trans_header','trans_id,trans_no,trans_date,book_id,journal_id,general_id,currency_id,exchange_rate,based_rate,amount,amount_based,description','84|OR-0000002|2019-06-07|3|2|5|1|1.0000000000|1.0000000000|0.0000000000|0.0000000000|COLLECTION2|','trans_id','84','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:30] - CALL SaveTransaction('Update','trans_header_cr','trans_cr_id,trans_id,si_no','23|84||','trans_cr_id','23','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:30] - CALL SaveTransaction('Remove','trans_jbooks','','190|','jbooks_id','190|','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:31] - CALL SaveTransaction('Update','trans_jbooks_ar','jbooks_ar_id,jbooks_id,nodays,terms_id','29|190|60|2|','jbooks_ar_id','29','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:31] - CALL SaveTransaction('Update','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','191|84|1|1||||47||0.0000000000|1000.0000000000|1|1.0000000000|1.0000000000|0.0000000000|1000.0000000000|5|188|','jbooks_id','191','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:31] - CALL SaveTransaction('Insert','trans_jbooks','jbooks_id,trans_id,project_id,department_id,allocation_id,book_unit_no_id,project_unit_no_id,account_id,line_remarks,debit,credit,currency_id,exchange_rate,based_rate,debit_based,credit_based,general_id,ref_jbooks_id','|84|1|1||||6||1000|0|1|1.0000000000|1.0000000000|1000|0|||','jbooks_id','','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:31] - CALL SaveTransaction('Insert','trans_project_management_offset','offset_project_management_id,jbooks_id,trans_project_management_id,amount_collected,amount_collected_based,currency_id,exchange_rate,based_rate','|191|102|1000|0|1|0.0000000000|0.0000000000|','offset_project_management_id','','DESKTOP-PL80BO2','Raymond T. Villegas','992');
[18:10:32] - SELECT currentapprover.user_id AS current_approver,currentapprover.status AS current_status ,prevapprover.user_id AS prev_approver,prevapprover.status AS prev_status ,creator.user_id,creator.stage_id ,a.* ,c.general_code,c.general_name ,d.currency_code,d.currency_name ,IFNULL(b.trans_cr_id,'') AS trans_cr_id,IFNULL(b.si_no,'') AS si_no ,IFNULL(_lock.isLock,0) AS isLock  FROM trans_header a LEFT JOIN selectTransactionLocking _lock ON _lock.trans_id = a.trans_id LEFT JOIN trans_header_cr b ON a.trans_id = b.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general c ON a.general_id = c.general_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency d ON a.currency_id = d.currency_id LEFT JOIN ( SELECT * FROM trans_header_status GROUP BY ref_id ) creator ON creator.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(approved_date) AS approved_date,ref_id FROM trans_header_status GROUP BY ref_id ) a LEFT JOIN trans_header_status b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id GROUP BY ref_id ) currentapprover ON currentapprover.ref_id = a.trans_id LEFT JOIN ( SELECT b.* FROM ( SELECT MAX(b.approved_date) AS approved_date,b.ref_id,b.user_id FROM ( SELECT MAX(approved_date) AS approved_date,ref_id,user_id,status FROM trans_header_approval GROUP BY ref_id,user_id ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id WHERE b.status <> 2 GROUP BY b.ref_id ORDER BY b.approved_date ) a LEFT JOIN trans_header_approval b ON b.approved_date = a.approved_date AND b.ref_id = a.ref_id ) prevapprover ON prevapprover.ref_id = a.trans_id WHERE a.journal_id = '2' AND a.book_id = '3' AND DATE_FORMAT(a.trans_date,'%Y-%m') = '2019-06' ORDER BY a.trans_no ASC 
[18:10:32] - SELECT a.offset_project_management_id,a.jbooks_id,a.trans_project_management_id,a.amount_collected,a.amount_collected_based,a.currency_id,a.exchange_rate,a.based_rate,1 AS sel
                FROM trans_project_management_offset a
                LEFT JOIN trans_jbooks b ON b.jbooks_id = a.jbooks_id
                WHERE b.trans_id = '84'
            
[18:10:32] - SELECT a.* ,IF(b.offset_ar <> 0 AND b.offset_ar IS NOT NULL,b.offset_ar,IF(b.offset_ap <> 0 AND b.offset_ap IS NOT NULL,b.offset_ap,IF(b.offset_ewt <> 0 AND b.offset_ewt IS NOT NULL,b.offset_ewt,IF(b.offset_final_tax <> 0 AND b.offset_final_tax IS NOT NULL,b.offset_final_tax,IF(b.offset_input_vat <> 0 AND b.offset_input_vat IS NOT NULL,b.offset_input_vat,IF(b.offset_output_vat <> 0 AND b.offset_output_vat IS NOT NULL,b.offset_output_vat,IF(b.offset_prepaid <> 0 AND b.offset_prepaid IS NOT NULL,b.offset_prepaid,IF(b.offset_fixed_asset <> 0 AND b.offset_fixed_asset IS NOT NULL,b.offset_fixed_asset,0)))))))) AS offset ,IF(b.offset_ar IS NOT NULL AND b.offset_ar > 0,c.credit,IF(b.offset_ap IS NOT NULL AND b.offset_ap > 0,c.debit,0)) AS minimum FROM select_jbooks a LEFT JOIN selectReferenceOffset b ON b.jbooks_id = a.jbooks_id LEFT JOIN selectReferenceARAP c ON c.jbooks_id = a.jbooks_id WHERE trans_id = 84
[18:10:32] - SELECT * FROM select_ewt WHERE trans_id = 84
[18:10:33] - SELECT * FROM select_final_tax WHERE trans_id = 84
[18:10:33] - SELECT * FROM select_input_vat WHERE trans_id = 84
[18:10:33] - SELECT * FROM select_output_vat WHERE trans_id = 84
[18:10:33] - SELECT * FROM select_prepaid WHERE trans_id = 84
[18:10:34] - SELECT * FROM select_fixed_asset WHERE trans_id = 84
[18:10:34] - SELECT * FROM select_checks WHERE trans_id = 84
[18:10:34] - SELECT * FROM trans_header_particular WHERE trans_id = 84
[18:10:44] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where DATE_FORMAT(effectivitydate,'%Y-%m') = '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:10:44] - SELECT auto_number FROM lib_erp_journal WHERE journal_id = 2
[18:10:51] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:10:55] - select a.currency_id,a.currency_code,a.currency_name ,b.exchange_rate,b.based_rate from lib_erp_currency a inner join (select a.currency_id,a.exchange_rate,a.based_rate from lib_erp_currency_rate a inner join (SELECT currency_id,max(effectivitydate) as effectivitydate FROM lib_erp_currency_rate where left(effectivitydate,7) <= '2019-06' group by currency_id) b on a.currency_id = b.currency_id and a.effectivitydate = b.effectivitydate) b on a.currency_id = b.currency_id
[18:11:05] - SELECT * FROM lib_erp_chart
[18:11:10] - SELECT * FROM lib_erp_project
[18:11:12] - SELECT * FROM lib_erp_department
[18:11:14] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:11:18] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:11:18] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:11:23] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:11:25] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:11:26] - SELECT * FROM lib_erp_terms WHERE terms_type = 1 or terms_type = 3
[18:11:28] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:11:29] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:11:36] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:11:36] - SELECT a.jbooks_id AS ref_jbooks_id,'' AS jbooks_id_tmp,'' AS trans_id,IFNULL(m.journal_code,'') AS ref_journal_code ,a.trans_id,IF(IFNULL(b.ref_no,'') = '',c.trans_no,CONCAT(c.trans_no,' - ',b.ref_no)) AS ref_trans_no,c.trans_date AS ref_trans_date ,a.project_id,d.project_code,d.project_name ,a.department_id,e.department_code,e.department_name ,IFNULL(a.allocation_id,'') AS allocation_id,IFNULL(f.allocation_code,'') AS allocation_code,IFNULL(f.allocation_name,'') AS allocation_name ,a.account_id,g.account_code,g.account_name,g.validation,g.unit_applicable ,a.currency_id,h.currency_code,h.currency_name ,a.exchange_rate,a.based_rate,a.credit,(a.debit - IF(j.credit IS NULL,0,j.credit)) AS tmp_amount,0 AS credit ,a.credit_based,0 AS credit_based,a.line_remarks ,a.general_id,i.general_code,i.general_name ,IF(a.debit != 0,1,2) as dc ,k.terms_id,k.jbooks_ar_id AS jbooks_terms_id,k.nodays ,IF(c.journal_id = '8',k.si_no,n.si_no) AS si_no,IF(c.journal_id = '8',k.dr_no,n.dr_no) AS dr_no,IF(c.journal_id = '8',k.po_no,n.po_no) AS po_no ,l.terms_code,l.terms_name ,a.book_unit_no_id,o.book_unit_no_code,o.book_unit_no_name,a.line_remarks AS particulars 
                ,a.project_unit_no_id,p.project_unit_no_codes,p.project_unit_no_names 
                ,c.description FROM trans_jbooks a LEFT JOIN trans_jbooks_ref b ON b.jbooks_id = a.jbooks_id LEFT JOIN trans_header c ON c.trans_id = a.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project d ON d.project_id = a.project_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_department e ON e.department_id = a.department_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_allocation f ON f.allocation_id = a.allocation_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_chart g ON g.account_id = a.account_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency h ON h.currency_id = a.currency_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_general i ON i.general_id = a.general_id LEFT JOIN (SELECT a.ref_jbooks_id AS jbooks_id,SUM(a.credit) AS credit FROM trans_jbooks a LEFT JOIN trans_header b ON b.trans_id = a.trans_id GROUP BY ref_jbooks_id) j ON j.jbooks_id = a.jbooks_id LEFT JOIN erp_accounting_cct.trans_jbooks_ar k ON k.jbooks_id = a.jbooks_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_terms l ON l.terms_id = k.terms_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_journal m ON m.journal_id = c.journal_id LEFT JOIN erp_accounting_cct.trans_header_ib n ON n.trans_id = c.trans_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_book_unit_no o ON o.book_unit_no_id = a.book_unit_no_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_project_unit_no p ON p.project_unit_no_id = a.project_unit_no_id WHERE a.account_id = 47 AND c.trans_date <= '2019-6-7' AND a.general_id = '5' AND a.currency_id = '1' AND a.project_id  = 1 AND a.department_id  = 1 AND IFNULL(a.book_unit_no_id,'') = '' AND a.ref_jbooks_id IS NULL AND (a.debit - IF(j.credit IS NULL,0,j.credit)) <> 0 
[18:11:44] - SELECT a.general_id,a.general_code,a.general_name,a.terms_id ,b.terms_code,b.terms_name,IFNULL(a.nodays,b.nodays) AS nodays,b.fixed_day FROM lib_erp_general a LEFT JOIN lib_erp_terms b ON b.terms_id = a.terms_id ORDER BY FIELD(a.category_id,1,2),a.general_code ASC 
[18:12:01] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[18:12:02] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[18:15:29] - ----- Accounting Start -----
[18:15:30] - Main Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:15:30] - FS Connection String = Server=localhost;User Id=root;Password=snoitulos;Database=erp_file_setup_accounting_cct;Port=3306;allowzerodatetime=True;convertzerodatetime=True;Connect Timeout=6000000
[18:16:29] - Login Button Click
[18:16:29] - SELECT user_id FROM erp_file_setup_accounting_cct.sys_erp_user WHERE username = 'alas' AND password = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' 
[18:16:29] - INSERT INTO sys_log(log_date,user_id,log_code_3,machine_name,machine_user) VALUES('2019-06-07 18:16:29',1,'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580','DESKTOP-PL80BO2','Raymond T. Villegas');
[18:16:30] - SELECT log_id AS id FROM sys_log WHERE log_date = '2019-06-07 18:16:29' AND user_id = 1 AND log_code_3 = 'a8013ff5b4ddb52f129615ca3b0a9420bdd5ff8bd6e584a4996ffcc454efc580' AND machine_name = 'DESKTOP-PL80BO2' AND machine_user = 'Raymond T. Villegas';
[18:16:30] - SELECT a.stage_id,c.module_code,b.user_id FROM sys_erp_approval a LEFT JOIN sys_erp_approval_user b on b.approval_id = a.approval_id LEFT JOIN sys_erp_modules c ON c.module_id = a.module_id 
[18:16:30] - SELECT a.module_code,b.m_view,b.m_add,b.m_edit,b.m_delete,b.m_cancel,b.m_verify,b.m_approve,b.m_print FROM erp_file_setup_accounting_cct.sys_erp_modules a LEFT JOIN erp_file_setup_accounting_cct.sys_erp_profile_det b ON b.module_id = a.module_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user_profile c ON c.profile_id = b.profile_id AND c.system_id = a.system_id LEFT JOIN erp_file_setup_accounting_cct.sys_erp_user d ON d.user_id = c.user_id WHERE a.system_id = 2 AND d.username = 'alas' 
[18:16:30] - SELECT module_code FROM erp_file_setup_accounting_cct.sys_erp_modules WHERE system_id = 2 
[18:16:31] - select * from lib_erp_journal
[18:16:31] - SELECT a.*,b.company_code,b.company_name,b.address1,b.address2,b.tin,b.rdo_code ,a.currency_id,c.currency_code,c.currency_name,c.symbol  FROM sys_default a  LEFT JOIN erp_file_setup_accounting_cct.lib_erp_company b ON b.company_id = a.company_id LEFT JOIN erp_file_setup_accounting_cct.lib_erp_currency c ON c.currency_id = a.currency_id 
[18:16:31] - select a.*,b.module_code from sys_default_det a inner join erp_file_setup_accounting_cct.sys_erp_modules b on a.module_id = b.module_id
[18:16:35] - SELECT a.book_id,a.book_code,a.book_name FROM lib_erp_book a WHERE a.company_id = '1'
[18:16:35] - SELECT 1 AS id,'January' AS name UNION SELECT 2,'February' UNION SELECT 3,'March' UNION SELECT 4,'April' UNION SELECT 5,'May' UNION SELECT 6,'June' UNION SELECT 7,'July' UNION SELECT 8,'August' UNION SELECT 9,'September' UNION SELECT 10,'October' UNION SELECT 11,'November' UNION SELECT 12,'December' 
[18:16:36] - End of Initialization
[18:16:41] - SELECT
                                                a.trans_project_management_id,
                                                c.trans_id,
                                                c.trans_no as trans_nos,
                                                c.trans_date as trans_dates ,
                                                c.book_id,
                                                c.journal_id,
                                                c.general_id,
                                                c.currency_id,
                                                c.exchange_rate,
                                                c.based_rate,
                                                a.amount_collected,
                                               a.amount_collected_based,
                                                c.description FROM erp_accounting_cct.trans_project_management_offset a
                                                left join erp_accounting_cct.trans_jbooks b on a.jbooks_id = b.jbooks_id
                                                INNER JOIN erp_accounting_cct.trans_header C ON B.trans_id=C.trans_id
                                                
[18:16:41] - select 
                                                    d.trans_project_management_id,                
                                                    c.trans_id,
                                                    a.pm_year,
                                                    a.general_id,
                                                    a.project_id,
                                                    c.currency_id, 
                                                    b.trans_date,
                                                    b.contract_date,
                                                    b.po_no,
                                                    b.department_code,
                                                    b.project_name,
                                                    b.date_from,
                                                    b.date_to,
                                                    b.contract_amount,
                                                    b.contract_amount_based, 
                                                    c.billed_amount,
                                                    c.billed_amount_based, 
                                                    h.trans_no,
                                                    h.trans_date as trans_date_ib 
                                                    from 
                                                    trans_project_management a
                                                    left join trans_project_management_det b on a.project_management_id=b.project_management_id
                                                    left join trans_header_project_management c on b.project_management_det_id=c.project_management_det_id 
                                                    left join trans_project_management_offset d on c.trans_project_management_id=d.trans_project_management_id
                                                    left JOIN(
					                                                    SELECT Z.* FROM trans_jbooks z
					                                                    INNER join trans_header_ib x on z.trans_id=x.trans_id
					                                                    inner join trans_header s on z.trans_id=s.trans_id
					                                                    ) e on c.trans_id=e.trans_id
 
                                                    inner join trans_header h on e.trans_id=h.trans_id 
                                                    group by e.trans_id


                                                
[19:01:44] - ----- Accounting Close -----